(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function EE(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ng={exports:{}},ju={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z1;function uI(){if(Z1)return ju;Z1=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var f in a)f!=="key"&&(l[f]=a[f])}else l=a;return a=l.ref,{$$typeof:t,type:s,key:c,ref:a!==void 0?a:null,props:l}}return ju.Fragment=e,ju.jsx=n,ju.jsxs=n,ju}var ex;function cI(){return ex||(ex=1,ng.exports=uI()),ng.exports}var y=cI(),ig={exports:{}},Ie={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tx;function hI(){if(tx)return Ie;tx=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),w=Symbol.iterator;function S(L){return L===null||typeof L!="object"?null:(L=w&&L[w]||L["@@iterator"],typeof L=="function"?L:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,O={};function B(L,te,he){this.props=L,this.context=te,this.refs=O,this.updater=he||N}B.prototype.isReactComponent={},B.prototype.setState=function(L,te){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,te,"setState")},B.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function G(){}G.prototype=B.prototype;function F(L,te,he){this.props=L,this.context=te,this.refs=O,this.updater=he||N}var oe=F.prototype=new G;oe.constructor=F,M(oe,B.prototype),oe.isPureReactComponent=!0;var re=Array.isArray;function ce(){}var C={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function I(L,te,he){var me=he.ref;return{$$typeof:t,type:L,key:te,ref:me!==void 0?me:null,props:he}}function P(L,te){return I(L.type,te,L.props)}function k(L){return typeof L=="object"&&L!==null&&L.$$typeof===t}function z(L){var te={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(he){return te[he]})}var V=/\/+/g;function Qe(L,te){return typeof L=="object"&&L!==null&&L.key!=null?z(""+L.key):te.toString(36)}function ut(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(ce,ce):(L.status="pending",L.then(function(te){L.status==="pending"&&(L.status="fulfilled",L.value=te)},function(te){L.status==="pending"&&(L.status="rejected",L.reason=te)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function J(L,te,he,me,Ee){var Me=typeof L;(Me==="undefined"||Me==="boolean")&&(L=null);var Ce=!1;if(L===null)Ce=!0;else switch(Me){case"bigint":case"string":case"number":Ce=!0;break;case"object":switch(L.$$typeof){case t:case e:Ce=!0;break;case v:return Ce=L._init,J(Ce(L._payload),te,he,me,Ee)}}if(Ce)return Ee=Ee(L),Ce=me===""?"."+Qe(L,0):me,re(Ee)?(he="",Ce!=null&&(he=Ce.replace(V,"$&/")+"/"),J(Ee,te,he,"",function(On){return On})):Ee!=null&&(k(Ee)&&(Ee=P(Ee,he+(Ee.key==null||L&&L.key===Ee.key?"":(""+Ee.key).replace(V,"$&/")+"/")+Ce)),te.push(Ee)),1;Ce=0;var _t=me===""?".":me+":";if(re(L))for(var ht=0;ht<L.length;ht++)me=L[ht],Me=_t+Qe(me,ht),Ce+=J(me,te,he,Me,Ee);else if(ht=S(L),typeof ht=="function")for(L=ht.call(L),ht=0;!(me=L.next()).done;)me=me.value,Me=_t+Qe(me,ht++),Ce+=J(me,te,he,Me,Ee);else if(Me==="object"){if(typeof L.then=="function")return J(ut(L),te,he,me,Ee);throw te=String(L),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return Ce}function ae(L,te,he){if(L==null)return L;var me=[],Ee=0;return J(L,me,"","",function(Me){return te.call(he,Me,Ee++)}),me}function de(L){if(L._status===-1){var te=L._result;te=te(),te.then(function(he){(L._status===0||L._status===-1)&&(L._status=1,L._result=he)},function(he){(L._status===0||L._status===-1)&&(L._status=2,L._result=he)}),L._status===-1&&(L._status=0,L._result=te)}if(L._status===1)return L._result.default;throw L._result}var Te=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)},Pe={map:ae,forEach:function(L,te,he){ae(L,function(){te.apply(this,arguments)},he)},count:function(L){var te=0;return ae(L,function(){te++}),te},toArray:function(L){return ae(L,function(te){return te})||[]},only:function(L){if(!k(L))throw Error("React.Children.only expected to receive a single React element child.");return L}};return Ie.Activity=_,Ie.Children=Pe,Ie.Component=B,Ie.Fragment=n,Ie.Profiler=a,Ie.PureComponent=F,Ie.StrictMode=s,Ie.Suspense=m,Ie.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Ie.__COMPILER_RUNTIME={__proto__:null,c:function(L){return C.H.useMemoCache(L)}},Ie.cache=function(L){return function(){return L.apply(null,arguments)}},Ie.cacheSignal=function(){return null},Ie.cloneElement=function(L,te,he){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var me=M({},L.props),Ee=L.key;if(te!=null)for(Me in te.key!==void 0&&(Ee=""+te.key),te)!A.call(te,Me)||Me==="key"||Me==="__self"||Me==="__source"||Me==="ref"&&te.ref===void 0||(me[Me]=te[Me]);var Me=arguments.length-2;if(Me===1)me.children=he;else if(1<Me){for(var Ce=Array(Me),_t=0;_t<Me;_t++)Ce[_t]=arguments[_t+2];me.children=Ce}return I(L.type,Ee,me)},Ie.createContext=function(L){return L={$$typeof:c,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:l,_context:L},L},Ie.createElement=function(L,te,he){var me,Ee={},Me=null;if(te!=null)for(me in te.key!==void 0&&(Me=""+te.key),te)A.call(te,me)&&me!=="key"&&me!=="__self"&&me!=="__source"&&(Ee[me]=te[me]);var Ce=arguments.length-2;if(Ce===1)Ee.children=he;else if(1<Ce){for(var _t=Array(Ce),ht=0;ht<Ce;ht++)_t[ht]=arguments[ht+2];Ee.children=_t}if(L&&L.defaultProps)for(me in Ce=L.defaultProps,Ce)Ee[me]===void 0&&(Ee[me]=Ce[me]);return I(L,Me,Ee)},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function(L){return{$$typeof:f,render:L}},Ie.isValidElement=k,Ie.lazy=function(L){return{$$typeof:v,_payload:{_status:-1,_result:L},_init:de}},Ie.memo=function(L,te){return{$$typeof:p,type:L,compare:te===void 0?null:te}},Ie.startTransition=function(L){var te=C.T,he={};C.T=he;try{var me=L(),Ee=C.S;Ee!==null&&Ee(he,me),typeof me=="object"&&me!==null&&typeof me.then=="function"&&me.then(ce,Te)}catch(Me){Te(Me)}finally{te!==null&&he.types!==null&&(te.types=he.types),C.T=te}},Ie.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Ie.use=function(L){return C.H.use(L)},Ie.useActionState=function(L,te,he){return C.H.useActionState(L,te,he)},Ie.useCallback=function(L,te){return C.H.useCallback(L,te)},Ie.useContext=function(L){return C.H.useContext(L)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function(L,te){return C.H.useDeferredValue(L,te)},Ie.useEffect=function(L,te){return C.H.useEffect(L,te)},Ie.useEffectEvent=function(L){return C.H.useEffectEvent(L)},Ie.useId=function(){return C.H.useId()},Ie.useImperativeHandle=function(L,te,he){return C.H.useImperativeHandle(L,te,he)},Ie.useInsertionEffect=function(L,te){return C.H.useInsertionEffect(L,te)},Ie.useLayoutEffect=function(L,te){return C.H.useLayoutEffect(L,te)},Ie.useMemo=function(L,te){return C.H.useMemo(L,te)},Ie.useOptimistic=function(L,te){return C.H.useOptimistic(L,te)},Ie.useReducer=function(L,te,he){return C.H.useReducer(L,te,he)},Ie.useRef=function(L){return C.H.useRef(L)},Ie.useState=function(L){return C.H.useState(L)},Ie.useSyncExternalStore=function(L,te,he){return C.H.useSyncExternalStore(L,te,he)},Ie.useTransition=function(){return C.H.useTransition()},Ie.version="19.2.3",Ie}var nx;function Gy(){return nx||(nx=1,ig.exports=hI()),ig.exports}var D=Gy();const qg=EE(D);var sg={exports:{}},Pu={},rg={exports:{}},ag={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ix;function fI(){return ix||(ix=1,(function(t){function e(J,ae){var de=J.length;J.push(ae);e:for(;0<de;){var Te=de-1>>>1,Pe=J[Te];if(0<a(Pe,ae))J[Te]=ae,J[de]=Pe,de=Te;else break e}}function n(J){return J.length===0?null:J[0]}function s(J){if(J.length===0)return null;var ae=J[0],de=J.pop();if(de!==ae){J[0]=de;e:for(var Te=0,Pe=J.length,L=Pe>>>1;Te<L;){var te=2*(Te+1)-1,he=J[te],me=te+1,Ee=J[me];if(0>a(he,de))me<Pe&&0>a(Ee,he)?(J[Te]=Ee,J[me]=de,Te=me):(J[Te]=he,J[te]=de,Te=te);else if(me<Pe&&0>a(Ee,de))J[Te]=Ee,J[me]=de,Te=me;else break e}}return ae}function a(J,ae){var de=J.sortIndex-ae.sortIndex;return de!==0?de:J.id-ae.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,f=c.now();t.unstable_now=function(){return c.now()-f}}var m=[],p=[],v=1,_=null,w=3,S=!1,N=!1,M=!1,O=!1,B=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;function oe(J){for(var ae=n(p);ae!==null;){if(ae.callback===null)s(p);else if(ae.startTime<=J)s(p),ae.sortIndex=ae.expirationTime,e(m,ae);else break;ae=n(p)}}function re(J){if(M=!1,oe(J),!N)if(n(m)!==null)N=!0,ce||(ce=!0,z());else{var ae=n(p);ae!==null&&ut(re,ae.startTime-J)}}var ce=!1,C=-1,A=5,I=-1;function P(){return O?!0:!(t.unstable_now()-I<A)}function k(){if(O=!1,ce){var J=t.unstable_now();I=J;var ae=!0;try{e:{N=!1,M&&(M=!1,G(C),C=-1),S=!0;var de=w;try{t:{for(oe(J),_=n(m);_!==null&&!(_.expirationTime>J&&P());){var Te=_.callback;if(typeof Te=="function"){_.callback=null,w=_.priorityLevel;var Pe=Te(_.expirationTime<=J);if(J=t.unstable_now(),typeof Pe=="function"){_.callback=Pe,oe(J),ae=!0;break t}_===n(m)&&s(m),oe(J)}else s(m);_=n(m)}if(_!==null)ae=!0;else{var L=n(p);L!==null&&ut(re,L.startTime-J),ae=!1}}break e}finally{_=null,w=de,S=!1}ae=void 0}}finally{ae?z():ce=!1}}}var z;if(typeof F=="function")z=function(){F(k)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,Qe=V.port2;V.port1.onmessage=k,z=function(){Qe.postMessage(null)}}else z=function(){B(k,0)};function ut(J,ae){C=B(function(){J(t.unstable_now())},ae)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(J){J.callback=null},t.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<J?Math.floor(1e3/J):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_next=function(J){switch(w){case 1:case 2:case 3:var ae=3;break;default:ae=w}var de=w;w=ae;try{return J()}finally{w=de}},t.unstable_requestPaint=function(){O=!0},t.unstable_runWithPriority=function(J,ae){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var de=w;w=J;try{return ae()}finally{w=de}},t.unstable_scheduleCallback=function(J,ae,de){var Te=t.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?Te+de:Te):de=Te,J){case 1:var Pe=-1;break;case 2:Pe=250;break;case 5:Pe=1073741823;break;case 4:Pe=1e4;break;default:Pe=5e3}return Pe=de+Pe,J={id:v++,callback:ae,priorityLevel:J,startTime:de,expirationTime:Pe,sortIndex:-1},de>Te?(J.sortIndex=de,e(p,J),n(m)===null&&J===n(p)&&(M?(G(C),C=-1):M=!0,ut(re,de-Te))):(J.sortIndex=Pe,e(m,J),N||S||(N=!0,ce||(ce=!0,z()))),J},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(J){var ae=w;return function(){var de=w;w=ae;try{return J.apply(this,arguments)}finally{w=de}}}})(ag)),ag}var sx;function dI(){return sx||(sx=1,rg.exports=fI()),rg.exports}var og={exports:{}},mn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rx;function mI(){if(rx)return mn;rx=1;var t=Gy();function e(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,p,v){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:_==null?null:""+_,children:m,containerInfo:p,implementation:v}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return mn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,mn.createPortal=function(m,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(m,p,null,v)},mn.flushSync=function(m){var p=c.T,v=s.p;try{if(c.T=null,s.p=2,m)return m()}finally{c.T=p,s.p=v,s.d.f()}},mn.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(m,p))},mn.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},mn.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var v=p.as,_=f(v,p.crossOrigin),w=typeof p.integrity=="string"?p.integrity:void 0,S=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?s.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:_,integrity:w,fetchPriority:S}):v==="script"&&s.d.X(m,{crossOrigin:_,integrity:w,fetchPriority:S,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},mn.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=f(p.as,p.crossOrigin);s.d.M(m,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(m)},mn.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,_=f(v,p.crossOrigin);s.d.L(m,v,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},mn.preloadModule=function(m,p){if(typeof m=="string")if(p){var v=f(p.as,p.crossOrigin);s.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(m)},mn.requestFormReset=function(m){s.d.r(m)},mn.unstable_batchedUpdates=function(m,p){return m(p)},mn.useFormState=function(m,p,v){return c.H.useFormState(m,p,v)},mn.useFormStatus=function(){return c.H.useHostTransitionStatus()},mn.version="19.2.3",mn}var ax;function pI(){if(ax)return og.exports;ax=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),og.exports=mI(),og.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ox;function gI(){if(ox)return Pu;ox=1;var t=dI(),e=Gy(),n=pI();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var r=i,o=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(o=r.return),i=r.return;while(i)}return r.tag===3?o:null}function c(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function f(i){if(i.tag===31){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function m(i){if(l(i)!==i)throw Error(s(188))}function p(i){var r=i.alternate;if(!r){if(r=l(i),r===null)throw Error(s(188));return r!==i?null:i}for(var o=i,u=r;;){var d=o.return;if(d===null)break;var g=d.alternate;if(g===null){if(u=d.return,u!==null){o=u;continue}break}if(d.child===g.child){for(g=d.child;g;){if(g===o)return m(d),i;if(g===u)return m(d),r;g=g.sibling}throw Error(s(188))}if(o.return!==u.return)o=d,u=g;else{for(var x=!1,E=d.child;E;){if(E===o){x=!0,o=d,u=g;break}if(E===u){x=!0,u=d,o=g;break}E=E.sibling}if(!x){for(E=g.child;E;){if(E===o){x=!0,o=g,u=d;break}if(E===u){x=!0,u=g,o=d;break}E=E.sibling}if(!x)throw Error(s(189))}}if(o.alternate!==u)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?i:r}function v(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=v(i),r!==null)return r;i=i.sibling}return null}var _=Object.assign,w=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),G=Symbol.for("react.consumer"),F=Symbol.for("react.context"),oe=Symbol.for("react.forward_ref"),re=Symbol.for("react.suspense"),ce=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function z(i){return i===null||typeof i!="object"?null:(i=k&&i[k]||i["@@iterator"],typeof i=="function"?i:null)}var V=Symbol.for("react.client.reference");function Qe(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===V?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case M:return"Fragment";case B:return"Profiler";case O:return"StrictMode";case re:return"Suspense";case ce:return"SuspenseList";case I:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case N:return"Portal";case F:return i.displayName||"Context";case G:return(i._context.displayName||"Context")+".Consumer";case oe:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case C:return r=i.displayName||null,r!==null?r:Qe(i.type)||"Memo";case A:r=i._payload,i=i._init;try{return Qe(i(r))}catch{}}return null}var ut=Array.isArray,J=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},Te=[],Pe=-1;function L(i){return{current:i}}function te(i){0>Pe||(i.current=Te[Pe],Te[Pe]=null,Pe--)}function he(i,r){Pe++,Te[Pe]=i.current,i.current=r}var me=L(null),Ee=L(null),Me=L(null),Ce=L(null);function _t(i,r){switch(he(Me,r),he(Ee,i),he(me,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?w1(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=w1(r),i=T1(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}te(me),he(me,i)}function ht(){te(me),te(Ee),te(Me)}function On(i){i.memoizedState!==null&&he(Ce,i);var r=me.current,o=T1(r,i.type);r!==o&&(he(Ee,i),he(me,o))}function Zs(i){Ee.current===i&&(te(me),te(Ee)),Ce.current===i&&(te(Ce),ku._currentValue=de)}var er,vs;function Qn(i){if(er===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);er=r&&r[1]||"",vs=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+er+i+vs}var tr=!1;function Pi(i,r){if(!i||tr)return"";tr=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var ne=function(){throw Error()};if(Object.defineProperty(ne.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ne,[])}catch(W){var Q=W}Reflect.construct(i,[],ne)}else{try{ne.call()}catch(W){Q=W}i.call(ne.prototype)}}else{try{throw Error()}catch(W){Q=W}(ne=i())&&typeof ne.catch=="function"&&ne.catch(function(){})}}catch(W){if(W&&Q&&typeof W.stack=="string")return[W.stack,Q.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),x=g[0],E=g[1];if(x&&E){var j=x.split(`
`),K=E.split(`
`);for(d=u=0;u<j.length&&!j[u].includes("DetermineComponentFrameRoot");)u++;for(;d<K.length&&!K[d].includes("DetermineComponentFrameRoot");)d++;if(u===j.length||d===K.length)for(u=j.length-1,d=K.length-1;1<=u&&0<=d&&j[u]!==K[d];)d--;for(;1<=u&&0<=d;u--,d--)if(j[u]!==K[d]){if(u!==1||d!==1)do if(u--,d--,0>d||j[u]!==K[d]){var Z=`
`+j[u].replace(" at new "," at ");return i.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",i.displayName)),Z}while(1<=u&&0<=d);break}}}finally{tr=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?Qn(o):""}function nr(i,r){switch(i.tag){case 26:case 27:case 5:return Qn(i.type);case 16:return Qn("Lazy");case 13:return i.child!==r&&r!==null?Qn("Suspense Fallback"):Qn("Suspense");case 19:return Qn("SuspenseList");case 0:case 15:return Pi(i.type,!1);case 11:return Pi(i.type.render,!1);case 1:return Pi(i.type,!0);case 31:return Qn("Activity");default:return""}}function Y(i){try{var r="",o=null;do r+=nr(i,o),o=i,i=i.return;while(i);return r}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var le=Object.prototype.hasOwnProperty,xe=t.unstable_scheduleCallback,Se=t.unstable_cancelCallback,$e=t.unstable_shouldYield,so=t.unstable_requestPaint,Wt=t.unstable_now,wt=t.unstable_getCurrentPriorityLevel,Ol=t.unstable_ImmediatePriority,jl=t.unstable_UserBlockingPriority,ir=t.unstable_NormalPriority,rm=t.unstable_LowPriority,$c=t.unstable_IdlePriority,Kc=t.log,Yc=t.unstable_setDisableYieldValue,pi=null,rn=null;function Xn(i){if(typeof Kc=="function"&&Yc(i),rn&&typeof rn.setStrictMode=="function")try{rn.setStrictMode(pi,i)}catch{}}var Nt=Math.clz32?Math.clz32:Xc,Qc=Math.log,ro=Math.LN2;function Xc(i){return i>>>=0,i===0?32:31-(Qc(i)/ro|0)|0}var Li=256,ua=262144,jt=4194304;function Ui(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function zi(i,r,o){var u=i.pendingLanes;if(u===0)return 0;var d=0,g=i.suspendedLanes,x=i.pingedLanes;i=i.warmLanes;var E=u&134217727;return E!==0?(u=E&~g,u!==0?d=Ui(u):(x&=E,x!==0?d=Ui(x):o||(o=E&~i,o!==0&&(d=Ui(o))))):(E=u&~g,E!==0?d=Ui(E):x!==0?d=Ui(x):o||(o=u&~i,o!==0&&(d=Ui(o)))),d===0?0:r!==0&&r!==d&&(r&g)===0&&(g=d&-d,o=r&-r,g>=o||g===32&&(o&4194048)!==0)?r:d}function gi(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function am(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wc(){var i=jt;return jt<<=1,(jt&62914560)===0&&(jt=4194304),i}function Bi(i){for(var r=[],o=0;31>o;o++)r.push(i);return r}function ca(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function om(i,r,o,u,d,g){var x=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var E=i.entanglements,j=i.expirationTimes,K=i.hiddenUpdates;for(o=x&~o;0<o;){var Z=31-Nt(o),ne=1<<Z;E[Z]=0,j[Z]=-1;var Q=K[Z];if(Q!==null)for(K[Z]=null,Z=0;Z<Q.length;Z++){var W=Q[Z];W!==null&&(W.lane&=-536870913)}o&=~ne}u!==0&&ha(i,u,0),g!==0&&d===0&&i.tag!==0&&(i.suspendedLanes|=g&~(x&~r))}function ha(i,r,o){i.pendingLanes|=r,i.suspendedLanes&=~r;var u=31-Nt(r);i.entangledLanes|=r,i.entanglements[u]=i.entanglements[u]|1073741824|o&261930}function Pl(i,r){var o=i.entangledLanes|=r;for(i=i.entanglements;o;){var u=31-Nt(o),d=1<<u;d&r|i[u]&r&&(i[u]|=r),o&=~d}}function Ll(i,r){var o=r&-r;return o=(o&42)!==0?1:fa(o),(o&(i.suspendedLanes|r))!==0?0:o}function fa(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function _s(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Jc(){var i=ae.p;return i!==0?i:(i=window.event,i===void 0?32:$1(i.type))}function yi(i,r){var o=ae.p;try{return ae.p=i,r()}finally{ae.p=o}}var vi=Math.random().toString(36).slice(2),Pt="__reactFiber$"+vi,Jt="__reactProps$"+vi,Fi="__reactContainer$"+vi,ao="__reactEvents$"+vi,lm="__reactListeners$"+vi,Zc="__reactHandles$"+vi,eh="__reactResources$"+vi,Hi="__reactMarker$"+vi;function oo(i){delete i[Pt],delete i[Jt],delete i[ao],delete i[lm],delete i[Zc]}function qi(i){var r=i[Pt];if(r)return r;for(var o=i.parentNode;o;){if(r=o[Fi]||o[Pt]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(i=I1(i);i!==null;){if(o=i[Pt])return o;i=I1(i)}return r}i=o,o=i.parentNode}return null}function Wn(i){if(i=i[Pt]||i[Fi]){var r=i.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return i}return null}function jn(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function Gi(i){var r=i[eh];return r||(r=i[eh]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Lt(i){i[Hi]=!0}var Ul=new Set,zl={};function $i(i,r){Ki(i,r),Ki(i+"Capture",r)}function Ki(i,r){for(zl[i]=r,i=0;i<r.length;i++)Ul.add(r[i])}var Bl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Fl={},Hl={};function th(i){return le.call(Hl,i)?!0:le.call(Fl,i)?!1:Bl.test(i)?Hl[i]=!0:(Fl[i]=!0,!1)}function lo(i,r,o){if(th(r))if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+o)}}function Pn(i,r,o){if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+o)}}function Ut(i,r,o,u){if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(r,o,""+u)}}function Zt(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function sr(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function ql(i,r,o){var u=Object.getOwnPropertyDescriptor(i.constructor.prototype,r);if(!i.hasOwnProperty(r)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var d=u.get,g=u.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return d.call(this)},set:function(x){o=""+x,g.call(this,x)}}),Object.defineProperty(i,r,{enumerable:u.enumerable}),{getValue:function(){return o},setValue:function(x){o=""+x},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function nt(i){if(!i._valueTracker){var r=sr(i)?"checked":"value";i._valueTracker=ql(i,r,""+i[r])}}function da(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return i&&(u=sr(i)?i.checked?"true":"false":i.value),i=u,i!==o?(r.setValue(i),!0):!1}function Yi(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var ma=/[\n"\\]/g;function Sn(i){return i.replace(ma,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function uo(i,r,o,u,d,g,x,E){i.name="",x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?i.type=x:i.removeAttribute("type"),r!=null?x==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+Zt(r)):i.value!==""+Zt(r)&&(i.value=""+Zt(r)):x!=="submit"&&x!=="reset"||i.removeAttribute("value"),r!=null?Gl(i,x,Zt(r)):o!=null?Gl(i,x,Zt(o)):u!=null&&i.removeAttribute("value"),d==null&&g!=null&&(i.defaultChecked=!!g),d!=null&&(i.checked=d&&typeof d!="function"&&typeof d!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?i.name=""+Zt(E):i.removeAttribute("name")}function nh(i,r,o,u,d,g,x,E){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(i.type=g),r!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||r!=null)){nt(i);return}o=o!=null?""+Zt(o):"",r=r!=null?""+Zt(r):o,E||r===i.value||(i.value=r),i.defaultValue=r}u=u??d,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=E?i.checked:!!u,i.defaultChecked=!!u,x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(i.name=x),nt(i)}function Gl(i,r,o){r==="number"&&Yi(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function rr(i,r,o,u){if(i=i.options,r){r={};for(var d=0;d<o.length;d++)r["$"+o[d]]=!0;for(o=0;o<i.length;o++)d=r.hasOwnProperty("$"+i[o].value),i[o].selected!==d&&(i[o].selected=d),d&&u&&(i[o].defaultSelected=!0)}else{for(o=""+Zt(o),r=null,d=0;d<i.length;d++){if(i[d].value===o){i[d].selected=!0,u&&(i[d].defaultSelected=!0);return}r!==null||i[d].disabled||(r=i[d])}r!==null&&(r.selected=!0)}}function ih(i,r,o){if(r!=null&&(r=""+Zt(r),r!==i.value&&(i.value=r),o==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=o!=null?""+Zt(o):""}function ar(i,r,o,u){if(r==null){if(u!=null){if(o!=null)throw Error(s(92));if(ut(u)){if(1<u.length)throw Error(s(93));u=u[0]}o=u}o==null&&(o=""),r=o}o=Zt(r),i.defaultValue=o,u=i.textContent,u===o&&u!==""&&u!==null&&(i.value=u),nt(i)}function An(i,r){if(r){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=r;return}}i.textContent=r}var sh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function $l(i,r,o){var u=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":u?i.setProperty(r,o):typeof o!="number"||o===0||sh.has(r)?r==="float"?i.cssFloat=o:i[r]=(""+o).trim():i[r]=o+"px"}function Kl(i,r,o){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var d in r)u=r[d],r.hasOwnProperty(d)&&o[d]!==u&&$l(i,d,u)}else for(var g in r)r.hasOwnProperty(g)&&$l(i,g,r[g])}function co(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),or=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ho(i){return or.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function _i(){}var Yl=null;function Jn(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var lr=null,Qi=null;function pa(i){var r=Wn(i);if(r&&(i=r.stateNode)){var o=i[Jt]||null;e:switch(i=r.stateNode,r.type){case"input":if(uo(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Sn(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==i&&u.form===i.form){var d=u[Jt]||null;if(!d)throw Error(s(90));uo(u,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(r=0;r<o.length;r++)u=o[r],u.form===i.form&&da(u)}break e;case"textarea":ih(i,o.value,o.defaultValue);break e;case"select":r=o.value,r!=null&&rr(i,!!o.multiple,r,!1)}}}var fo=!1;function ur(i,r,o){if(fo)return i(r,o);fo=!0;try{var u=i(r);return u}finally{if(fo=!1,(lr!==null||Qi!==null)&&(Jh(),lr&&(r=lr,i=Qi,Qi=lr=null,pa(r),i)))for(r=0;r<i.length;r++)pa(i[r])}}function bi(i,r){var o=i.stateNode;if(o===null)return null;var u=o[Jt]||null;if(u===null)return null;o=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break e;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(s(231,r,typeof o));return o}var Zn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ga=!1;if(Zn)try{var rt={};Object.defineProperty(rt,"passive",{get:function(){ga=!0}}),window.addEventListener("test",rt,rt),window.removeEventListener("test",rt,rt)}catch{ga=!1}var Xi=null,Ql=null,ya=null;function Xl(){if(ya)return ya;var i,r=Ql,o=r.length,u,d="value"in Xi?Xi.value:Xi.textContent,g=d.length;for(i=0;i<o&&r[i]===d[i];i++);var x=o-i;for(u=1;u<=x&&r[o-u]===d[g-u];u++);return ya=d.slice(i,1<u?1-u:void 0)}function va(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function bs(){return!0}function xi(){return!1}function an(i){function r(o,u,d,g,x){this._reactName=o,this._targetInst=d,this.type=u,this.nativeEvent=g,this.target=x,this.currentTarget=null;for(var E in i)i.hasOwnProperty(E)&&(o=i[E],this[E]=o?o(g):g[E]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?bs:xi,this.isPropagationStopped=xi,this}return _(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=bs)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=bs)},persist:function(){},isPersistent:bs}),r}var xs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wi=an(xs),cr=_({},xs,{view:0,detail:0}),Wl=an(cr),hr,mo,Ji,po=_({},cr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fr,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Ji&&(Ji&&i.type==="mousemove"?(hr=i.screenX-Ji.screenX,mo=i.screenY-Ji.screenY):mo=hr=0,Ji=i),hr)},movementY:function(i){return"movementY"in i?i.movementY:mo}}),Jl=an(po),_a=_({},po,{dataTransfer:0}),ah=an(_a),oh=_({},cr,{relatedTarget:0}),ba=an(oh),Zl=_({},xs,{animationName:0,elapsedTime:0,pseudoElement:0}),lh=an(Zl),go=_({},xs,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),uh=an(go),ch=_({},xs,{data:0}),Zi=an(ch),hh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mh(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=dh[i])?!!r[i]:!1}function fr(){return mh}var _n=_({},cr,{key:function(i){if(i.key){var r=hh[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=va(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?fh[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fr,charCode:function(i){return i.type==="keypress"?va(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?va(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),ph=an(_n),gh=_({},po,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ws=an(gh),h=_({},cr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fr}),b=an(h),T=_({},xs,{propertyName:0,elapsedTime:0,pseudoElement:0}),R=an(T),q=_({},po,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),X=an(q),ue=_({},xs,{newState:0,oldState:0}),Ve=an(ue),It=[9,13,27,32],Je=Zn&&"CompositionEvent"in window,gt=null;Zn&&"documentMode"in document&&(gt=document.documentMode);var ei=Zn&&"TextEvent"in window&&!gt,es=Zn&&(!Je||gt&&8<gt&&11>=gt),wi=" ",Ti=!1;function xa(i,r){switch(i){case"keyup":return It.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yo(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var vo=!1;function MC(i,r){switch(i){case"compositionend":return yo(r);case"keypress":return r.which!==32?null:(Ti=!0,wi);case"textInput":return i=r.data,i===wi&&Ti?null:i;default:return null}}function VC(i,r){if(vo)return i==="compositionend"||!Je&&xa(i,r)?(i=Xl(),ya=Ql=Xi=null,vo=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return es&&r.locale!=="ko"?null:r.data;default:return null}}var OC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mv(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!OC[i.type]:r==="textarea"}function Vv(i,r,o,u){lr?Qi?Qi.push(u):Qi=[u]:lr=u,r=af(r,"onChange"),0<r.length&&(o=new Wi("onChange","change",null,o,u),i.push({event:o,listeners:r}))}var eu=null,tu=null;function jC(i){g1(i,0)}function yh(i){var r=jn(i);if(da(r))return i}function Ov(i,r){if(i==="change")return r}var jv=!1;if(Zn){var um;if(Zn){var cm="oninput"in document;if(!cm){var Pv=document.createElement("div");Pv.setAttribute("oninput","return;"),cm=typeof Pv.oninput=="function"}um=cm}else um=!1;jv=um&&(!document.documentMode||9<document.documentMode)}function Lv(){eu&&(eu.detachEvent("onpropertychange",Uv),tu=eu=null)}function Uv(i){if(i.propertyName==="value"&&yh(tu)){var r=[];Vv(r,tu,i,Jn(i)),ur(jC,r)}}function PC(i,r,o){i==="focusin"?(Lv(),eu=r,tu=o,eu.attachEvent("onpropertychange",Uv)):i==="focusout"&&Lv()}function LC(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return yh(tu)}function UC(i,r){if(i==="click")return yh(r)}function zC(i,r){if(i==="input"||i==="change")return yh(r)}function BC(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var Ln=typeof Object.is=="function"?Object.is:BC;function nu(i,r){if(Ln(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var o=Object.keys(i),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var d=o[u];if(!le.call(r,d)||!Ln(i[d],r[d]))return!1}return!0}function zv(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Bv(i,r){var o=zv(i);i=0;for(var u;o;){if(o.nodeType===3){if(u=i+o.textContent.length,i<=r&&u>=r)return{node:o,offset:r-i};i=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=zv(o)}}function Fv(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?Fv(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function Hv(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=Yi(i.document);r instanceof i.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)i=r.contentWindow;else break;r=Yi(i.document)}return r}function hm(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var FC=Zn&&"documentMode"in document&&11>=document.documentMode,_o=null,fm=null,iu=null,dm=!1;function qv(i,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;dm||_o==null||_o!==Yi(u)||(u=_o,"selectionStart"in u&&hm(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),iu&&nu(iu,u)||(iu=u,u=af(fm,"onSelect"),0<u.length&&(r=new Wi("onSelect","select",null,r,o),i.push({event:r,listeners:u}),r.target=_o)))}function wa(i,r){var o={};return o[i.toLowerCase()]=r.toLowerCase(),o["Webkit"+i]="webkit"+r,o["Moz"+i]="moz"+r,o}var bo={animationend:wa("Animation","AnimationEnd"),animationiteration:wa("Animation","AnimationIteration"),animationstart:wa("Animation","AnimationStart"),transitionrun:wa("Transition","TransitionRun"),transitionstart:wa("Transition","TransitionStart"),transitioncancel:wa("Transition","TransitionCancel"),transitionend:wa("Transition","TransitionEnd")},mm={},Gv={};Zn&&(Gv=document.createElement("div").style,"AnimationEvent"in window||(delete bo.animationend.animation,delete bo.animationiteration.animation,delete bo.animationstart.animation),"TransitionEvent"in window||delete bo.transitionend.transition);function Ta(i){if(mm[i])return mm[i];if(!bo[i])return i;var r=bo[i],o;for(o in r)if(r.hasOwnProperty(o)&&o in Gv)return mm[i]=r[o];return i}var $v=Ta("animationend"),Kv=Ta("animationiteration"),Yv=Ta("animationstart"),HC=Ta("transitionrun"),qC=Ta("transitionstart"),GC=Ta("transitioncancel"),Qv=Ta("transitionend"),Xv=new Map,pm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");pm.push("scrollEnd");function Ei(i,r){Xv.set(i,r),$i(r,[i])}var vh=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},ti=[],xo=0,gm=0;function _h(){for(var i=xo,r=gm=xo=0;r<i;){var o=ti[r];ti[r++]=null;var u=ti[r];ti[r++]=null;var d=ti[r];ti[r++]=null;var g=ti[r];if(ti[r++]=null,u!==null&&d!==null){var x=u.pending;x===null?d.next=d:(d.next=x.next,x.next=d),u.pending=d}g!==0&&Wv(o,d,g)}}function bh(i,r,o,u){ti[xo++]=i,ti[xo++]=r,ti[xo++]=o,ti[xo++]=u,gm|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function ym(i,r,o,u){return bh(i,r,o,u),xh(i)}function Ea(i,r){return bh(i,null,null,r),xh(i)}function Wv(i,r,o){i.lanes|=o;var u=i.alternate;u!==null&&(u.lanes|=o);for(var d=!1,g=i.return;g!==null;)g.childLanes|=o,u=g.alternate,u!==null&&(u.childLanes|=o),g.tag===22&&(i=g.stateNode,i===null||i._visibility&1||(d=!0)),i=g,g=g.return;return i.tag===3?(g=i.stateNode,d&&r!==null&&(d=31-Nt(o),i=g.hiddenUpdates,u=i[d],u===null?i[d]=[r]:u.push(r),r.lane=o|536870912),g):null}function xh(i){if(50<Su)throw Su=0,Ap=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var wo={};function $C(i,r,o,u){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Un(i,r,o,u){return new $C(i,r,o,u)}function vm(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Ts(i,r){var o=i.alternate;return o===null?(o=Un(i.tag,r,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=r,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,r=i.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function Jv(i,r){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,r=o.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function wh(i,r,o,u,d,g){var x=0;if(u=i,typeof i=="function")vm(i)&&(x=1);else if(typeof i=="string")x=WN(i,o,me.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case I:return i=Un(31,o,r,d),i.elementType=I,i.lanes=g,i;case M:return Sa(o.children,d,g,r);case O:x=8,d|=24;break;case B:return i=Un(12,o,r,d|2),i.elementType=B,i.lanes=g,i;case re:return i=Un(13,o,r,d),i.elementType=re,i.lanes=g,i;case ce:return i=Un(19,o,r,d),i.elementType=ce,i.lanes=g,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case F:x=10;break e;case G:x=9;break e;case oe:x=11;break e;case C:x=14;break e;case A:x=16,u=null;break e}x=29,o=Error(s(130,i===null?"null":typeof i,"")),u=null}return r=Un(x,o,r,d),r.elementType=i,r.type=u,r.lanes=g,r}function Sa(i,r,o,u){return i=Un(7,i,u,r),i.lanes=o,i}function _m(i,r,o){return i=Un(6,i,null,r),i.lanes=o,i}function Zv(i){var r=Un(18,null,null,0);return r.stateNode=i,r}function bm(i,r,o){return r=Un(4,i.children!==null?i.children:[],i.key,r),r.lanes=o,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var e_=new WeakMap;function ni(i,r){if(typeof i=="object"&&i!==null){var o=e_.get(i);return o!==void 0?o:(r={value:i,source:r,stack:Y(r)},e_.set(i,r),r)}return{value:i,source:r,stack:Y(r)}}var To=[],Eo=0,Th=null,su=0,ii=[],si=0,dr=null,ts=1,ns="";function Es(i,r){To[Eo++]=su,To[Eo++]=Th,Th=i,su=r}function t_(i,r,o){ii[si++]=ts,ii[si++]=ns,ii[si++]=dr,dr=i;var u=ts;i=ns;var d=32-Nt(u)-1;u&=~(1<<d),o+=1;var g=32-Nt(r)+d;if(30<g){var x=d-d%5;g=(u&(1<<x)-1).toString(32),u>>=x,d-=x,ts=1<<32-Nt(r)+d|o<<d|u,ns=g+i}else ts=1<<g|o<<d|u,ns=i}function xm(i){i.return!==null&&(Es(i,1),t_(i,1,0))}function wm(i){for(;i===Th;)Th=To[--Eo],To[Eo]=null,su=To[--Eo],To[Eo]=null;for(;i===dr;)dr=ii[--si],ii[si]=null,ns=ii[--si],ii[si]=null,ts=ii[--si],ii[si]=null}function n_(i,r){ii[si++]=ts,ii[si++]=ns,ii[si++]=dr,ts=r.id,ns=r.overflow,dr=i}var on=null,dt=null,Ke=!1,mr=null,ri=!1,Tm=Error(s(519));function pr(i){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ru(ni(r,i)),Tm}function i_(i){var r=i.stateNode,o=i.type,u=i.memoizedProps;switch(r[Pt]=i,r[Jt]=u,o){case"dialog":ze("cancel",r),ze("close",r);break;case"iframe":case"object":case"embed":ze("load",r);break;case"video":case"audio":for(o=0;o<Ru.length;o++)ze(Ru[o],r);break;case"source":ze("error",r);break;case"img":case"image":case"link":ze("error",r),ze("load",r);break;case"details":ze("toggle",r);break;case"input":ze("invalid",r),nh(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":ze("invalid",r);break;case"textarea":ze("invalid",r),ar(r,u.value,u.defaultValue,u.children)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||u.suppressHydrationWarning===!0||b1(r.textContent,o)?(u.popover!=null&&(ze("beforetoggle",r),ze("toggle",r)),u.onScroll!=null&&ze("scroll",r),u.onScrollEnd!=null&&ze("scrollend",r),u.onClick!=null&&(r.onclick=_i),r=!0):r=!1,r||pr(i,!0)}function s_(i){for(on=i.return;on;)switch(on.tag){case 5:case 31:case 13:ri=!1;return;case 27:case 3:ri=!0;return;default:on=on.return}}function So(i){if(i!==on)return!1;if(!Ke)return s_(i),Ke=!0,!1;var r=i.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||Bp(i.type,i.memoizedProps)),o=!o),o&&dt&&pr(i),s_(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));dt=N1(i)}else if(r===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));dt=N1(i)}else r===27?(r=dt,Nr(i.type)?(i=$p,$p=null,dt=i):dt=r):dt=on?oi(i.stateNode.nextSibling):null;return!0}function Aa(){dt=on=null,Ke=!1}function Em(){var i=mr;return i!==null&&(In===null?In=i:In.push.apply(In,i),mr=null),i}function ru(i){mr===null?mr=[i]:mr.push(i)}var Sm=L(null),Ra=null,Ss=null;function gr(i,r,o){he(Sm,r._currentValue),r._currentValue=o}function As(i){i._currentValue=Sm.current,te(Sm)}function Am(i,r,o){for(;i!==null;){var u=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),i===o)break;i=i.return}}function Rm(i,r,o,u){var d=i.child;for(d!==null&&(d.return=i);d!==null;){var g=d.dependencies;if(g!==null){var x=d.child;g=g.firstContext;e:for(;g!==null;){var E=g;g=d;for(var j=0;j<r.length;j++)if(E.context===r[j]){g.lanes|=o,E=g.alternate,E!==null&&(E.lanes|=o),Am(g.return,o,i),u||(x=null);break e}g=E.next}}else if(d.tag===18){if(x=d.return,x===null)throw Error(s(341));x.lanes|=o,g=x.alternate,g!==null&&(g.lanes|=o),Am(x,o,i),x=null}else x=d.child;if(x!==null)x.return=d;else for(x=d;x!==null;){if(x===i){x=null;break}if(d=x.sibling,d!==null){d.return=x.return,x=d;break}x=x.return}d=x}}function Ao(i,r,o,u){i=null;for(var d=r,g=!1;d!==null;){if(!g){if((d.flags&524288)!==0)g=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var x=d.alternate;if(x===null)throw Error(s(387));if(x=x.memoizedProps,x!==null){var E=d.type;Ln(d.pendingProps.value,x.value)||(i!==null?i.push(E):i=[E])}}else if(d===Ce.current){if(x=d.alternate,x===null)throw Error(s(387));x.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(i!==null?i.push(ku):i=[ku])}d=d.return}i!==null&&Rm(r,i,o,u),r.flags|=262144}function Eh(i){for(i=i.firstContext;i!==null;){if(!Ln(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Ca(i){Ra=i,Ss=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function ln(i){return r_(Ra,i)}function Sh(i,r){return Ra===null&&Ca(i),r_(i,r)}function r_(i,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},Ss===null){if(i===null)throw Error(s(308));Ss=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else Ss=Ss.next=r;return o}var KC=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(o,u){i.push(u)}};this.abort=function(){r.aborted=!0,i.forEach(function(o){return o()})}},YC=t.unstable_scheduleCallback,QC=t.unstable_NormalPriority,zt={$$typeof:F,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Cm(){return{controller:new KC,data:new Map,refCount:0}}function au(i){i.refCount--,i.refCount===0&&YC(QC,function(){i.controller.abort()})}var ou=null,Nm=0,Ro=0,Co=null;function XC(i,r){if(ou===null){var o=ou=[];Nm=0,Ro=kp(),Co={status:"pending",value:void 0,then:function(u){o.push(u)}}}return Nm++,r.then(a_,a_),r}function a_(){if(--Nm===0&&ou!==null){Co!==null&&(Co.status="fulfilled");var i=ou;ou=null,Ro=0,Co=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function WC(i,r){var o=[],u={status:"pending",value:null,reason:null,then:function(d){o.push(d)}};return i.then(function(){u.status="fulfilled",u.value=r;for(var d=0;d<o.length;d++)(0,o[d])(r)},function(d){for(u.status="rejected",u.reason=d,d=0;d<o.length;d++)(0,o[d])(void 0)}),u}var o_=J.S;J.S=function(i,r){qb=Wt(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&XC(i,r),o_!==null&&o_(i,r)};var Na=L(null);function Im(){var i=Na.current;return i!==null?i:ct.pooledCache}function Ah(i,r){r===null?he(Na,Na.current):he(Na,r.pool)}function l_(){var i=Im();return i===null?null:{parent:zt._currentValue,pool:i}}var No=Error(s(460)),Dm=Error(s(474)),Rh=Error(s(542)),Ch={then:function(){}};function u_(i){return i=i.status,i==="fulfilled"||i==="rejected"}function c_(i,r,o){switch(o=i[o],o===void 0?i.push(r):o!==r&&(r.then(_i,_i),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,f_(i),i;default:if(typeof r.status=="string")r.then(_i,_i);else{if(i=ct,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(u){if(r.status==="pending"){var d=r;d.status="fulfilled",d.value=u}},function(u){if(r.status==="pending"){var d=r;d.status="rejected",d.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,f_(i),i}throw Da=r,No}}function Ia(i){try{var r=i._init;return r(i._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Da=o,No):o}}var Da=null;function h_(){if(Da===null)throw Error(s(459));var i=Da;return Da=null,i}function f_(i){if(i===No||i===Rh)throw Error(s(483))}var Io=null,lu=0;function Nh(i){var r=lu;return lu+=1,Io===null&&(Io=[]),c_(Io,i,r)}function uu(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function Ih(i,r){throw r.$$typeof===w?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function d_(i){function r(H,U){if(i){var $=H.deletions;$===null?(H.deletions=[U],H.flags|=16):$.push(U)}}function o(H,U){if(!i)return null;for(;U!==null;)r(H,U),U=U.sibling;return null}function u(H){for(var U=new Map;H!==null;)H.key!==null?U.set(H.key,H):U.set(H.index,H),H=H.sibling;return U}function d(H,U){return H=Ts(H,U),H.index=0,H.sibling=null,H}function g(H,U,$){return H.index=$,i?($=H.alternate,$!==null?($=$.index,$<U?(H.flags|=67108866,U):$):(H.flags|=67108866,U)):(H.flags|=1048576,U)}function x(H){return i&&H.alternate===null&&(H.flags|=67108866),H}function E(H,U,$,ee){return U===null||U.tag!==6?(U=_m($,H.mode,ee),U.return=H,U):(U=d(U,$),U.return=H,U)}function j(H,U,$,ee){var _e=$.type;return _e===M?Z(H,U,$.props.children,ee,$.key):U!==null&&(U.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===A&&Ia(_e)===U.type)?(U=d(U,$.props),uu(U,$),U.return=H,U):(U=wh($.type,$.key,$.props,null,H.mode,ee),uu(U,$),U.return=H,U)}function K(H,U,$,ee){return U===null||U.tag!==4||U.stateNode.containerInfo!==$.containerInfo||U.stateNode.implementation!==$.implementation?(U=bm($,H.mode,ee),U.return=H,U):(U=d(U,$.children||[]),U.return=H,U)}function Z(H,U,$,ee,_e){return U===null||U.tag!==7?(U=Sa($,H.mode,ee,_e),U.return=H,U):(U=d(U,$),U.return=H,U)}function ne(H,U,$){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=_m(""+U,H.mode,$),U.return=H,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case S:return $=wh(U.type,U.key,U.props,null,H.mode,$),uu($,U),$.return=H,$;case N:return U=bm(U,H.mode,$),U.return=H,U;case A:return U=Ia(U),ne(H,U,$)}if(ut(U)||z(U))return U=Sa(U,H.mode,$,null),U.return=H,U;if(typeof U.then=="function")return ne(H,Nh(U),$);if(U.$$typeof===F)return ne(H,Sh(H,U),$);Ih(H,U)}return null}function Q(H,U,$,ee){var _e=U!==null?U.key:null;if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return _e!==null?null:E(H,U,""+$,ee);if(typeof $=="object"&&$!==null){switch($.$$typeof){case S:return $.key===_e?j(H,U,$,ee):null;case N:return $.key===_e?K(H,U,$,ee):null;case A:return $=Ia($),Q(H,U,$,ee)}if(ut($)||z($))return _e!==null?null:Z(H,U,$,ee,null);if(typeof $.then=="function")return Q(H,U,Nh($),ee);if($.$$typeof===F)return Q(H,U,Sh(H,$),ee);Ih(H,$)}return null}function W(H,U,$,ee,_e){if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return H=H.get($)||null,E(U,H,""+ee,_e);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case S:return H=H.get(ee.key===null?$:ee.key)||null,j(U,H,ee,_e);case N:return H=H.get(ee.key===null?$:ee.key)||null,K(U,H,ee,_e);case A:return ee=Ia(ee),W(H,U,$,ee,_e)}if(ut(ee)||z(ee))return H=H.get($)||null,Z(U,H,ee,_e,null);if(typeof ee.then=="function")return W(H,U,$,Nh(ee),_e);if(ee.$$typeof===F)return W(H,U,$,Sh(U,ee),_e);Ih(U,ee)}return null}function ye(H,U,$,ee){for(var _e=null,Xe=null,ve=U,Le=U=0,Fe=null;ve!==null&&Le<$.length;Le++){ve.index>Le?(Fe=ve,ve=null):Fe=ve.sibling;var We=Q(H,ve,$[Le],ee);if(We===null){ve===null&&(ve=Fe);break}i&&ve&&We.alternate===null&&r(H,ve),U=g(We,U,Le),Xe===null?_e=We:Xe.sibling=We,Xe=We,ve=Fe}if(Le===$.length)return o(H,ve),Ke&&Es(H,Le),_e;if(ve===null){for(;Le<$.length;Le++)ve=ne(H,$[Le],ee),ve!==null&&(U=g(ve,U,Le),Xe===null?_e=ve:Xe.sibling=ve,Xe=ve);return Ke&&Es(H,Le),_e}for(ve=u(ve);Le<$.length;Le++)Fe=W(ve,H,Le,$[Le],ee),Fe!==null&&(i&&Fe.alternate!==null&&ve.delete(Fe.key===null?Le:Fe.key),U=g(Fe,U,Le),Xe===null?_e=Fe:Xe.sibling=Fe,Xe=Fe);return i&&ve.forEach(function(Vr){return r(H,Vr)}),Ke&&Es(H,Le),_e}function we(H,U,$,ee){if($==null)throw Error(s(151));for(var _e=null,Xe=null,ve=U,Le=U=0,Fe=null,We=$.next();ve!==null&&!We.done;Le++,We=$.next()){ve.index>Le?(Fe=ve,ve=null):Fe=ve.sibling;var Vr=Q(H,ve,We.value,ee);if(Vr===null){ve===null&&(ve=Fe);break}i&&ve&&Vr.alternate===null&&r(H,ve),U=g(Vr,U,Le),Xe===null?_e=Vr:Xe.sibling=Vr,Xe=Vr,ve=Fe}if(We.done)return o(H,ve),Ke&&Es(H,Le),_e;if(ve===null){for(;!We.done;Le++,We=$.next())We=ne(H,We.value,ee),We!==null&&(U=g(We,U,Le),Xe===null?_e=We:Xe.sibling=We,Xe=We);return Ke&&Es(H,Le),_e}for(ve=u(ve);!We.done;Le++,We=$.next())We=W(ve,H,Le,We.value,ee),We!==null&&(i&&We.alternate!==null&&ve.delete(We.key===null?Le:We.key),U=g(We,U,Le),Xe===null?_e=We:Xe.sibling=We,Xe=We);return i&&ve.forEach(function(lI){return r(H,lI)}),Ke&&Es(H,Le),_e}function lt(H,U,$,ee){if(typeof $=="object"&&$!==null&&$.type===M&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case S:e:{for(var _e=$.key;U!==null;){if(U.key===_e){if(_e=$.type,_e===M){if(U.tag===7){o(H,U.sibling),ee=d(U,$.props.children),ee.return=H,H=ee;break e}}else if(U.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===A&&Ia(_e)===U.type){o(H,U.sibling),ee=d(U,$.props),uu(ee,$),ee.return=H,H=ee;break e}o(H,U);break}else r(H,U);U=U.sibling}$.type===M?(ee=Sa($.props.children,H.mode,ee,$.key),ee.return=H,H=ee):(ee=wh($.type,$.key,$.props,null,H.mode,ee),uu(ee,$),ee.return=H,H=ee)}return x(H);case N:e:{for(_e=$.key;U!==null;){if(U.key===_e)if(U.tag===4&&U.stateNode.containerInfo===$.containerInfo&&U.stateNode.implementation===$.implementation){o(H,U.sibling),ee=d(U,$.children||[]),ee.return=H,H=ee;break e}else{o(H,U);break}else r(H,U);U=U.sibling}ee=bm($,H.mode,ee),ee.return=H,H=ee}return x(H);case A:return $=Ia($),lt(H,U,$,ee)}if(ut($))return ye(H,U,$,ee);if(z($)){if(_e=z($),typeof _e!="function")throw Error(s(150));return $=_e.call($),we(H,U,$,ee)}if(typeof $.then=="function")return lt(H,U,Nh($),ee);if($.$$typeof===F)return lt(H,U,Sh(H,$),ee);Ih(H,$)}return typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint"?($=""+$,U!==null&&U.tag===6?(o(H,U.sibling),ee=d(U,$),ee.return=H,H=ee):(o(H,U),ee=_m($,H.mode,ee),ee.return=H,H=ee),x(H)):o(H,U)}return function(H,U,$,ee){try{lu=0;var _e=lt(H,U,$,ee);return Io=null,_e}catch(ve){if(ve===No||ve===Rh)throw ve;var Xe=Un(29,ve,null,H.mode);return Xe.lanes=ee,Xe.return=H,Xe}finally{}}}var ka=d_(!0),m_=d_(!1),yr=!1;function km(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Mm(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function vr(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function _r(i,r,o){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,(Ze&2)!==0){var d=u.pending;return d===null?r.next=r:(r.next=d.next,d.next=r),u.pending=r,r=xh(i),Wv(i,null,o),r}return bh(i,u,r,o),xh(i)}function cu(i,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var u=r.lanes;u&=i.pendingLanes,o|=u,r.lanes=o,Pl(i,o)}}function Vm(i,r){var o=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var d=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var x={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?d=g=x:g=g.next=x,o=o.next}while(o!==null);g===null?d=g=r:g=g.next=r}else d=g=r;o={baseState:u.baseState,firstBaseUpdate:d,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=r:i.next=r,o.lastBaseUpdate=r}var Om=!1;function hu(){if(Om){var i=Co;if(i!==null)throw i}}function fu(i,r,o,u){Om=!1;var d=i.updateQueue;yr=!1;var g=d.firstBaseUpdate,x=d.lastBaseUpdate,E=d.shared.pending;if(E!==null){d.shared.pending=null;var j=E,K=j.next;j.next=null,x===null?g=K:x.next=K,x=j;var Z=i.alternate;Z!==null&&(Z=Z.updateQueue,E=Z.lastBaseUpdate,E!==x&&(E===null?Z.firstBaseUpdate=K:E.next=K,Z.lastBaseUpdate=j))}if(g!==null){var ne=d.baseState;x=0,Z=K=j=null,E=g;do{var Q=E.lane&-536870913,W=Q!==E.lane;if(W?(Be&Q)===Q:(u&Q)===Q){Q!==0&&Q===Ro&&(Om=!0),Z!==null&&(Z=Z.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var ye=i,we=E;Q=r;var lt=o;switch(we.tag){case 1:if(ye=we.payload,typeof ye=="function"){ne=ye.call(lt,ne,Q);break e}ne=ye;break e;case 3:ye.flags=ye.flags&-65537|128;case 0:if(ye=we.payload,Q=typeof ye=="function"?ye.call(lt,ne,Q):ye,Q==null)break e;ne=_({},ne,Q);break e;case 2:yr=!0}}Q=E.callback,Q!==null&&(i.flags|=64,W&&(i.flags|=8192),W=d.callbacks,W===null?d.callbacks=[Q]:W.push(Q))}else W={lane:Q,tag:E.tag,payload:E.payload,callback:E.callback,next:null},Z===null?(K=Z=W,j=ne):Z=Z.next=W,x|=Q;if(E=E.next,E===null){if(E=d.shared.pending,E===null)break;W=E,E=W.next,W.next=null,d.lastBaseUpdate=W,d.shared.pending=null}}while(!0);Z===null&&(j=ne),d.baseState=j,d.firstBaseUpdate=K,d.lastBaseUpdate=Z,g===null&&(d.shared.lanes=0),Er|=x,i.lanes=x,i.memoizedState=ne}}function p_(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function g_(i,r){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)p_(o[i],r)}var Do=L(null),Dh=L(0);function y_(i,r){i=Os,he(Dh,i),he(Do,r),Os=i|r.baseLanes}function jm(){he(Dh,Os),he(Do,Do.current)}function Pm(){Os=Dh.current,te(Do),te(Dh)}var zn=L(null),ai=null;function br(i){var r=i.alternate;he(Dt,Dt.current&1),he(zn,i),ai===null&&(r===null||Do.current!==null||r.memoizedState!==null)&&(ai=i)}function Lm(i){he(Dt,Dt.current),he(zn,i),ai===null&&(ai=i)}function v_(i){i.tag===22?(he(Dt,Dt.current),he(zn,i),ai===null&&(ai=i)):xr()}function xr(){he(Dt,Dt.current),he(zn,zn.current)}function Bn(i){te(zn),ai===i&&(ai=null),te(Dt)}var Dt=L(0);function kh(i){for(var r=i;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||qp(o)||Gp(o)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Rs=0,Oe=null,at=null,Bt=null,Mh=!1,ko=!1,Ma=!1,Vh=0,du=0,Mo=null,JC=0;function Tt(){throw Error(s(321))}function Um(i,r){if(r===null)return!1;for(var o=0;o<r.length&&o<i.length;o++)if(!Ln(i[o],r[o]))return!1;return!0}function zm(i,r,o,u,d,g){return Rs=g,Oe=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,J.H=i===null||i.memoizedState===null?tb:tp,Ma=!1,g=o(u,d),Ma=!1,ko&&(g=b_(r,o,u,d)),__(i),g}function __(i){J.H=gu;var r=at!==null&&at.next!==null;if(Rs=0,Bt=at=Oe=null,Mh=!1,du=0,Mo=null,r)throw Error(s(300));i===null||Ft||(i=i.dependencies,i!==null&&Eh(i)&&(Ft=!0))}function b_(i,r,o,u){Oe=i;var d=0;do{if(ko&&(Mo=null),du=0,ko=!1,25<=d)throw Error(s(301));if(d+=1,Bt=at=null,i.updateQueue!=null){var g=i.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}J.H=nb,g=r(o,u)}while(ko);return g}function ZC(){var i=J.H,r=i.useState()[0];return r=typeof r.then=="function"?mu(r):r,i=i.useState()[0],(at!==null?at.memoizedState:null)!==i&&(Oe.flags|=1024),r}function Bm(){var i=Vh!==0;return Vh=0,i}function Fm(i,r,o){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~o}function Hm(i){if(Mh){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Mh=!1}Rs=0,Bt=at=Oe=null,ko=!1,du=Vh=0,Mo=null}function bn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Bt===null?Oe.memoizedState=Bt=i:Bt=Bt.next=i,Bt}function kt(){if(at===null){var i=Oe.alternate;i=i!==null?i.memoizedState:null}else i=at.next;var r=Bt===null?Oe.memoizedState:Bt.next;if(r!==null)Bt=r,at=i;else{if(i===null)throw Oe.alternate===null?Error(s(467)):Error(s(310));at=i,i={memoizedState:at.memoizedState,baseState:at.baseState,baseQueue:at.baseQueue,queue:at.queue,next:null},Bt===null?Oe.memoizedState=Bt=i:Bt=Bt.next=i}return Bt}function Oh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function mu(i){var r=du;return du+=1,Mo===null&&(Mo=[]),i=c_(Mo,i,r),r=Oe,(Bt===null?r.memoizedState:Bt.next)===null&&(r=r.alternate,J.H=r===null||r.memoizedState===null?tb:tp),i}function jh(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return mu(i);if(i.$$typeof===F)return ln(i)}throw Error(s(438,String(i)))}function qm(i){var r=null,o=Oe.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var u=Oe.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(d){return d.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=Oh(),Oe.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(i),u=0;u<i;u++)o[u]=P;return r.index++,o}function Cs(i,r){return typeof r=="function"?r(i):r}function Ph(i){var r=kt();return Gm(r,at,i)}function Gm(i,r,o){var u=i.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=o;var d=i.baseQueue,g=u.pending;if(g!==null){if(d!==null){var x=d.next;d.next=g.next,g.next=x}r.baseQueue=d=g,u.pending=null}if(g=i.baseState,d===null)i.memoizedState=g;else{r=d.next;var E=x=null,j=null,K=r,Z=!1;do{var ne=K.lane&-536870913;if(ne!==K.lane?(Be&ne)===ne:(Rs&ne)===ne){var Q=K.revertLane;if(Q===0)j!==null&&(j=j.next={lane:0,revertLane:0,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),ne===Ro&&(Z=!0);else if((Rs&Q)===Q){K=K.next,Q===Ro&&(Z=!0);continue}else ne={lane:0,revertLane:K.revertLane,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},j===null?(E=j=ne,x=g):j=j.next=ne,Oe.lanes|=Q,Er|=Q;ne=K.action,Ma&&o(g,ne),g=K.hasEagerState?K.eagerState:o(g,ne)}else Q={lane:ne,revertLane:K.revertLane,gesture:K.gesture,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},j===null?(E=j=Q,x=g):j=j.next=Q,Oe.lanes|=ne,Er|=ne;K=K.next}while(K!==null&&K!==r);if(j===null?x=g:j.next=E,!Ln(g,i.memoizedState)&&(Ft=!0,Z&&(o=Co,o!==null)))throw o;i.memoizedState=g,i.baseState=x,i.baseQueue=j,u.lastRenderedState=g}return d===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function $m(i){var r=kt(),o=r.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=i;var u=o.dispatch,d=o.pending,g=r.memoizedState;if(d!==null){o.pending=null;var x=d=d.next;do g=i(g,x.action),x=x.next;while(x!==d);Ln(g,r.memoizedState)||(Ft=!0),r.memoizedState=g,r.baseQueue===null&&(r.baseState=g),o.lastRenderedState=g}return[g,u]}function x_(i,r,o){var u=Oe,d=kt(),g=Ke;if(g){if(o===void 0)throw Error(s(407));o=o()}else o=r();var x=!Ln((at||d).memoizedState,o);if(x&&(d.memoizedState=o,Ft=!0),d=d.queue,Qm(E_.bind(null,u,d,i),[i]),d.getSnapshot!==r||x||Bt!==null&&Bt.memoizedState.tag&1){if(u.flags|=2048,Vo(9,{destroy:void 0},T_.bind(null,u,d,o,r),null),ct===null)throw Error(s(349));g||(Rs&127)!==0||w_(u,r,o)}return o}function w_(i,r,o){i.flags|=16384,i={getSnapshot:r,value:o},r=Oe.updateQueue,r===null?(r=Oh(),Oe.updateQueue=r,r.stores=[i]):(o=r.stores,o===null?r.stores=[i]:o.push(i))}function T_(i,r,o,u){r.value=o,r.getSnapshot=u,S_(r)&&A_(i)}function E_(i,r,o){return o(function(){S_(r)&&A_(i)})}function S_(i){var r=i.getSnapshot;i=i.value;try{var o=r();return!Ln(i,o)}catch{return!0}}function A_(i){var r=Ea(i,2);r!==null&&Dn(r,i,2)}function Km(i){var r=bn();if(typeof i=="function"){var o=i;if(i=o(),Ma){Xn(!0);try{o()}finally{Xn(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cs,lastRenderedState:i},r}function R_(i,r,o,u){return i.baseState=o,Gm(i,at,typeof u=="function"?u:Cs)}function eN(i,r,o,u,d){if(zh(i))throw Error(s(485));if(i=r.action,i!==null){var g={payload:d,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(x){g.listeners.push(x)}};J.T!==null?o(!0):g.isTransition=!1,u(g),o=r.pending,o===null?(g.next=r.pending=g,C_(r,g)):(g.next=o.next,r.pending=o.next=g)}}function C_(i,r){var o=r.action,u=r.payload,d=i.state;if(r.isTransition){var g=J.T,x={};J.T=x;try{var E=o(d,u),j=J.S;j!==null&&j(x,E),N_(i,r,E)}catch(K){Ym(i,r,K)}finally{g!==null&&x.types!==null&&(g.types=x.types),J.T=g}}else try{g=o(d,u),N_(i,r,g)}catch(K){Ym(i,r,K)}}function N_(i,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){I_(i,r,u)},function(u){return Ym(i,r,u)}):I_(i,r,o)}function I_(i,r,o){r.status="fulfilled",r.value=o,D_(r),i.state=o,r=i.pending,r!==null&&(o=r.next,o===r?i.pending=null:(o=o.next,r.next=o,C_(i,o)))}function Ym(i,r,o){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=o,D_(r),r=r.next;while(r!==u)}i.action=null}function D_(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function k_(i,r){return r}function M_(i,r){if(Ke){var o=ct.formState;if(o!==null){e:{var u=Oe;if(Ke){if(dt){t:{for(var d=dt,g=ri;d.nodeType!==8;){if(!g){d=null;break t}if(d=oi(d.nextSibling),d===null){d=null;break t}}g=d.data,d=g==="F!"||g==="F"?d:null}if(d){dt=oi(d.nextSibling),u=d.data==="F!";break e}}pr(u)}u=!1}u&&(r=o[0])}}return o=bn(),o.memoizedState=o.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:k_,lastRenderedState:r},o.queue=u,o=J_.bind(null,Oe,u),u.dispatch=o,u=Km(!1),g=ep.bind(null,Oe,!1,u.queue),u=bn(),d={state:r,dispatch:null,action:i,pending:null},u.queue=d,o=eN.bind(null,Oe,d,g,o),d.dispatch=o,u.memoizedState=i,[r,o,!1]}function V_(i){var r=kt();return O_(r,at,i)}function O_(i,r,o){if(r=Gm(i,r,k_)[0],i=Ph(Cs)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=mu(r)}catch(x){throw x===No?Rh:x}else u=r;r=kt();var d=r.queue,g=d.dispatch;return o!==r.memoizedState&&(Oe.flags|=2048,Vo(9,{destroy:void 0},tN.bind(null,d,o),null)),[u,g,i]}function tN(i,r){i.action=r}function j_(i){var r=kt(),o=at;if(o!==null)return O_(r,o,i);kt(),r=r.memoizedState,o=kt();var u=o.queue.dispatch;return o.memoizedState=i,[r,u,!1]}function Vo(i,r,o,u){return i={tag:i,create:o,deps:u,inst:r,next:null},r=Oe.updateQueue,r===null&&(r=Oh(),Oe.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=i.next=i:(u=o.next,o.next=i,i.next=u,r.lastEffect=i),i}function P_(){return kt().memoizedState}function Lh(i,r,o,u){var d=bn();Oe.flags|=i,d.memoizedState=Vo(1|r,{destroy:void 0},o,u===void 0?null:u)}function Uh(i,r,o,u){var d=kt();u=u===void 0?null:u;var g=d.memoizedState.inst;at!==null&&u!==null&&Um(u,at.memoizedState.deps)?d.memoizedState=Vo(r,g,o,u):(Oe.flags|=i,d.memoizedState=Vo(1|r,g,o,u))}function L_(i,r){Lh(8390656,8,i,r)}function Qm(i,r){Uh(2048,8,i,r)}function nN(i){Oe.flags|=4;var r=Oe.updateQueue;if(r===null)r=Oh(),Oe.updateQueue=r,r.events=[i];else{var o=r.events;o===null?r.events=[i]:o.push(i)}}function U_(i){var r=kt().memoizedState;return nN({ref:r,nextImpl:i}),function(){if((Ze&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function z_(i,r){return Uh(4,2,i,r)}function B_(i,r){return Uh(4,4,i,r)}function F_(i,r){if(typeof r=="function"){i=i();var o=r(i);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function H_(i,r,o){o=o!=null?o.concat([i]):null,Uh(4,4,F_.bind(null,r,i),o)}function Xm(){}function q_(i,r){var o=kt();r=r===void 0?null:r;var u=o.memoizedState;return r!==null&&Um(r,u[1])?u[0]:(o.memoizedState=[i,r],i)}function G_(i,r){var o=kt();r=r===void 0?null:r;var u=o.memoizedState;if(r!==null&&Um(r,u[1]))return u[0];if(u=i(),Ma){Xn(!0);try{i()}finally{Xn(!1)}}return o.memoizedState=[u,r],u}function Wm(i,r,o){return o===void 0||(Rs&1073741824)!==0&&(Be&261930)===0?i.memoizedState=r:(i.memoizedState=o,i=$b(),Oe.lanes|=i,Er|=i,o)}function $_(i,r,o,u){return Ln(o,r)?o:Do.current!==null?(i=Wm(i,o,u),Ln(i,r)||(Ft=!0),i):(Rs&42)===0||(Rs&1073741824)!==0&&(Be&261930)===0?(Ft=!0,i.memoizedState=o):(i=$b(),Oe.lanes|=i,Er|=i,r)}function K_(i,r,o,u,d){var g=ae.p;ae.p=g!==0&&8>g?g:8;var x=J.T,E={};J.T=E,ep(i,!1,r,o);try{var j=d(),K=J.S;if(K!==null&&K(E,j),j!==null&&typeof j=="object"&&typeof j.then=="function"){var Z=WC(j,u);pu(i,r,Z,qn(i))}else pu(i,r,u,qn(i))}catch(ne){pu(i,r,{then:function(){},status:"rejected",reason:ne},qn())}finally{ae.p=g,x!==null&&E.types!==null&&(x.types=E.types),J.T=x}}function iN(){}function Jm(i,r,o,u){if(i.tag!==5)throw Error(s(476));var d=Y_(i).queue;K_(i,d,r,de,o===null?iN:function(){return Q_(i),o(u)})}function Y_(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cs,lastRenderedState:de},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cs,lastRenderedState:o},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function Q_(i){var r=Y_(i);r.next===null&&(r=i.alternate.memoizedState),pu(i,r.next.queue,{},qn())}function Zm(){return ln(ku)}function X_(){return kt().memoizedState}function W_(){return kt().memoizedState}function sN(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var o=qn();i=vr(o);var u=_r(r,i,o);u!==null&&(Dn(u,r,o),cu(u,r,o)),r={cache:Cm()},i.payload=r;return}r=r.return}}function rN(i,r,o){var u=qn();o={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},zh(i)?Z_(r,o):(o=ym(i,r,o,u),o!==null&&(Dn(o,i,u),eb(o,r,u)))}function J_(i,r,o){var u=qn();pu(i,r,o,u)}function pu(i,r,o,u){var d={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(zh(i))Z_(r,d);else{var g=i.alternate;if(i.lanes===0&&(g===null||g.lanes===0)&&(g=r.lastRenderedReducer,g!==null))try{var x=r.lastRenderedState,E=g(x,o);if(d.hasEagerState=!0,d.eagerState=E,Ln(E,x))return bh(i,r,d,0),ct===null&&_h(),!1}catch{}finally{}if(o=ym(i,r,d,u),o!==null)return Dn(o,i,u),eb(o,r,u),!0}return!1}function ep(i,r,o,u){if(u={lane:2,revertLane:kp(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},zh(i)){if(r)throw Error(s(479))}else r=ym(i,o,u,2),r!==null&&Dn(r,i,2)}function zh(i){var r=i.alternate;return i===Oe||r!==null&&r===Oe}function Z_(i,r){ko=Mh=!0;var o=i.pending;o===null?r.next=r:(r.next=o.next,o.next=r),i.pending=r}function eb(i,r,o){if((o&4194048)!==0){var u=r.lanes;u&=i.pendingLanes,o|=u,r.lanes=o,Pl(i,o)}}var gu={readContext:ln,use:jh,useCallback:Tt,useContext:Tt,useEffect:Tt,useImperativeHandle:Tt,useLayoutEffect:Tt,useInsertionEffect:Tt,useMemo:Tt,useReducer:Tt,useRef:Tt,useState:Tt,useDebugValue:Tt,useDeferredValue:Tt,useTransition:Tt,useSyncExternalStore:Tt,useId:Tt,useHostTransitionStatus:Tt,useFormState:Tt,useActionState:Tt,useOptimistic:Tt,useMemoCache:Tt,useCacheRefresh:Tt};gu.useEffectEvent=Tt;var tb={readContext:ln,use:jh,useCallback:function(i,r){return bn().memoizedState=[i,r===void 0?null:r],i},useContext:ln,useEffect:L_,useImperativeHandle:function(i,r,o){o=o!=null?o.concat([i]):null,Lh(4194308,4,F_.bind(null,r,i),o)},useLayoutEffect:function(i,r){return Lh(4194308,4,i,r)},useInsertionEffect:function(i,r){Lh(4,2,i,r)},useMemo:function(i,r){var o=bn();r=r===void 0?null:r;var u=i();if(Ma){Xn(!0);try{i()}finally{Xn(!1)}}return o.memoizedState=[u,r],u},useReducer:function(i,r,o){var u=bn();if(o!==void 0){var d=o(r);if(Ma){Xn(!0);try{o(r)}finally{Xn(!1)}}}else d=r;return u.memoizedState=u.baseState=d,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:d},u.queue=i,i=i.dispatch=rN.bind(null,Oe,i),[u.memoizedState,i]},useRef:function(i){var r=bn();return i={current:i},r.memoizedState=i},useState:function(i){i=Km(i);var r=i.queue,o=J_.bind(null,Oe,r);return r.dispatch=o,[i.memoizedState,o]},useDebugValue:Xm,useDeferredValue:function(i,r){var o=bn();return Wm(o,i,r)},useTransition:function(){var i=Km(!1);return i=K_.bind(null,Oe,i.queue,!0,!1),bn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,o){var u=Oe,d=bn();if(Ke){if(o===void 0)throw Error(s(407));o=o()}else{if(o=r(),ct===null)throw Error(s(349));(Be&127)!==0||w_(u,r,o)}d.memoizedState=o;var g={value:o,getSnapshot:r};return d.queue=g,L_(E_.bind(null,u,g,i),[i]),u.flags|=2048,Vo(9,{destroy:void 0},T_.bind(null,u,g,o,r),null),o},useId:function(){var i=bn(),r=ct.identifierPrefix;if(Ke){var o=ns,u=ts;o=(u&~(1<<32-Nt(u)-1)).toString(32)+o,r="_"+r+"R_"+o,o=Vh++,0<o&&(r+="H"+o.toString(32)),r+="_"}else o=JC++,r="_"+r+"r_"+o.toString(32)+"_";return i.memoizedState=r},useHostTransitionStatus:Zm,useFormState:M_,useActionState:M_,useOptimistic:function(i){var r=bn();r.memoizedState=r.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=ep.bind(null,Oe,!0,o),o.dispatch=r,[i,r]},useMemoCache:qm,useCacheRefresh:function(){return bn().memoizedState=sN.bind(null,Oe)},useEffectEvent:function(i){var r=bn(),o={impl:i};return r.memoizedState=o,function(){if((Ze&2)!==0)throw Error(s(440));return o.impl.apply(void 0,arguments)}}},tp={readContext:ln,use:jh,useCallback:q_,useContext:ln,useEffect:Qm,useImperativeHandle:H_,useInsertionEffect:z_,useLayoutEffect:B_,useMemo:G_,useReducer:Ph,useRef:P_,useState:function(){return Ph(Cs)},useDebugValue:Xm,useDeferredValue:function(i,r){var o=kt();return $_(o,at.memoizedState,i,r)},useTransition:function(){var i=Ph(Cs)[0],r=kt().memoizedState;return[typeof i=="boolean"?i:mu(i),r]},useSyncExternalStore:x_,useId:X_,useHostTransitionStatus:Zm,useFormState:V_,useActionState:V_,useOptimistic:function(i,r){var o=kt();return R_(o,at,i,r)},useMemoCache:qm,useCacheRefresh:W_};tp.useEffectEvent=U_;var nb={readContext:ln,use:jh,useCallback:q_,useContext:ln,useEffect:Qm,useImperativeHandle:H_,useInsertionEffect:z_,useLayoutEffect:B_,useMemo:G_,useReducer:$m,useRef:P_,useState:function(){return $m(Cs)},useDebugValue:Xm,useDeferredValue:function(i,r){var o=kt();return at===null?Wm(o,i,r):$_(o,at.memoizedState,i,r)},useTransition:function(){var i=$m(Cs)[0],r=kt().memoizedState;return[typeof i=="boolean"?i:mu(i),r]},useSyncExternalStore:x_,useId:X_,useHostTransitionStatus:Zm,useFormState:j_,useActionState:j_,useOptimistic:function(i,r){var o=kt();return at!==null?R_(o,at,i,r):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:qm,useCacheRefresh:W_};nb.useEffectEvent=U_;function np(i,r,o,u){r=i.memoizedState,o=o(u,r),o=o==null?r:_({},r,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var ip={enqueueSetState:function(i,r,o){i=i._reactInternals;var u=qn(),d=vr(u);d.payload=r,o!=null&&(d.callback=o),r=_r(i,d,u),r!==null&&(Dn(r,i,u),cu(r,i,u))},enqueueReplaceState:function(i,r,o){i=i._reactInternals;var u=qn(),d=vr(u);d.tag=1,d.payload=r,o!=null&&(d.callback=o),r=_r(i,d,u),r!==null&&(Dn(r,i,u),cu(r,i,u))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var o=qn(),u=vr(o);u.tag=2,r!=null&&(u.callback=r),r=_r(i,u,o),r!==null&&(Dn(r,i,o),cu(r,i,o))}};function ib(i,r,o,u,d,g,x){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,g,x):r.prototype&&r.prototype.isPureReactComponent?!nu(o,u)||!nu(d,g):!0}function sb(i,r,o,u){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==i&&ip.enqueueReplaceState(r,r.state,null)}function Va(i,r){var o=r;if("ref"in r){o={};for(var u in r)u!=="ref"&&(o[u]=r[u])}if(i=i.defaultProps){o===r&&(o=_({},o));for(var d in i)o[d]===void 0&&(o[d]=i[d])}return o}function rb(i){vh(i)}function ab(i){console.error(i)}function ob(i){vh(i)}function Bh(i,r){try{var o=i.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function lb(i,r,o){try{var u=i.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function sp(i,r,o){return o=vr(o),o.tag=3,o.payload={element:null},o.callback=function(){Bh(i,r)},o}function ub(i){return i=vr(i),i.tag=3,i}function cb(i,r,o,u){var d=o.type.getDerivedStateFromError;if(typeof d=="function"){var g=u.value;i.payload=function(){return d(g)},i.callback=function(){lb(r,o,u)}}var x=o.stateNode;x!==null&&typeof x.componentDidCatch=="function"&&(i.callback=function(){lb(r,o,u),typeof d!="function"&&(Sr===null?Sr=new Set([this]):Sr.add(this));var E=u.stack;this.componentDidCatch(u.value,{componentStack:E!==null?E:""})})}function aN(i,r,o,u,d){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=o.alternate,r!==null&&Ao(r,o,d,!0),o=zn.current,o!==null){switch(o.tag){case 31:case 13:return ai===null?Zh():o.alternate===null&&Et===0&&(Et=3),o.flags&=-257,o.flags|=65536,o.lanes=d,u===Ch?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([u]):r.add(u),Np(i,u,d)),!1;case 22:return o.flags|=65536,u===Ch?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([u]):o.add(u)),Np(i,u,d)),!1}throw Error(s(435,o.tag))}return Np(i,u,d),Zh(),!1}if(Ke)return r=zn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=d,u!==Tm&&(i=Error(s(422),{cause:u}),ru(ni(i,o)))):(u!==Tm&&(r=Error(s(423),{cause:u}),ru(ni(r,o))),i=i.current.alternate,i.flags|=65536,d&=-d,i.lanes|=d,u=ni(u,o),d=sp(i.stateNode,u,d),Vm(i,d),Et!==4&&(Et=2)),!1;var g=Error(s(520),{cause:u});if(g=ni(g,o),Eu===null?Eu=[g]:Eu.push(g),Et!==4&&(Et=2),r===null)return!0;u=ni(u,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,i=d&-d,o.lanes|=i,i=sp(o.stateNode,u,i),Vm(o,i),!1;case 1:if(r=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Sr===null||!Sr.has(g))))return o.flags|=65536,d&=-d,o.lanes|=d,d=ub(d),cb(d,i,o,u),Vm(o,d),!1}o=o.return}while(o!==null);return!1}var rp=Error(s(461)),Ft=!1;function un(i,r,o,u){r.child=i===null?m_(r,null,o,u):ka(r,i.child,o,u)}function hb(i,r,o,u,d){o=o.render;var g=r.ref;if("ref"in u){var x={};for(var E in u)E!=="ref"&&(x[E]=u[E])}else x=u;return Ca(r),u=zm(i,r,o,x,g,d),E=Bm(),i!==null&&!Ft?(Fm(i,r,d),Ns(i,r,d)):(Ke&&E&&xm(r),r.flags|=1,un(i,r,u,d),r.child)}function fb(i,r,o,u,d){if(i===null){var g=o.type;return typeof g=="function"&&!vm(g)&&g.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=g,db(i,r,g,u,d)):(i=wh(o.type,null,u,r,r.mode,d),i.ref=r.ref,i.return=r,r.child=i)}if(g=i.child,!dp(i,d)){var x=g.memoizedProps;if(o=o.compare,o=o!==null?o:nu,o(x,u)&&i.ref===r.ref)return Ns(i,r,d)}return r.flags|=1,i=Ts(g,u),i.ref=r.ref,i.return=r,r.child=i}function db(i,r,o,u,d){if(i!==null){var g=i.memoizedProps;if(nu(g,u)&&i.ref===r.ref)if(Ft=!1,r.pendingProps=u=g,dp(i,d))(i.flags&131072)!==0&&(Ft=!0);else return r.lanes=i.lanes,Ns(i,r,d)}return ap(i,r,o,u,d)}function mb(i,r,o,u){var d=u.children,g=i!==null?i.memoizedState:null;if(i===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((r.flags&128)!==0){if(g=g!==null?g.baseLanes|o:o,i!==null){for(u=r.child=i.child,d=0;u!==null;)d=d|u.lanes|u.childLanes,u=u.sibling;u=d&~g}else u=0,r.child=null;return pb(i,r,g,o,u)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&Ah(r,g!==null?g.cachePool:null),g!==null?y_(r,g):jm(),v_(r);else return u=r.lanes=536870912,pb(i,r,g!==null?g.baseLanes|o:o,o,u)}else g!==null?(Ah(r,g.cachePool),y_(r,g),xr(),r.memoizedState=null):(i!==null&&Ah(r,null),jm(),xr());return un(i,r,d,o),r.child}function yu(i,r){return i!==null&&i.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function pb(i,r,o,u,d){var g=Im();return g=g===null?null:{parent:zt._currentValue,pool:g},r.memoizedState={baseLanes:o,cachePool:g},i!==null&&Ah(r,null),jm(),v_(r),i!==null&&Ao(i,r,u,!0),r.childLanes=d,null}function Fh(i,r){return r=qh({mode:r.mode,children:r.children},i.mode),r.ref=i.ref,i.child=r,r.return=i,r}function gb(i,r,o){return ka(r,i.child,null,o),i=Fh(r,r.pendingProps),i.flags|=2,Bn(r),r.memoizedState=null,i}function oN(i,r,o){var u=r.pendingProps,d=(r.flags&128)!==0;if(r.flags&=-129,i===null){if(Ke){if(u.mode==="hidden")return i=Fh(r,u),r.lanes=536870912,yu(null,i);if(Lm(r),(i=dt)?(i=C1(i,ri),i=i!==null&&i.data==="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:dr!==null?{id:ts,overflow:ns}:null,retryLane:536870912,hydrationErrors:null},o=Zv(i),o.return=r,r.child=o,on=r,dt=null)):i=null,i===null)throw pr(r);return r.lanes=536870912,null}return Fh(r,u)}var g=i.memoizedState;if(g!==null){var x=g.dehydrated;if(Lm(r),d)if(r.flags&256)r.flags&=-257,r=gb(i,r,o);else if(r.memoizedState!==null)r.child=i.child,r.flags|=128,r=null;else throw Error(s(558));else if(Ft||Ao(i,r,o,!1),d=(o&i.childLanes)!==0,Ft||d){if(u=ct,u!==null&&(x=Ll(u,o),x!==0&&x!==g.retryLane))throw g.retryLane=x,Ea(i,x),Dn(u,i,x),rp;Zh(),r=gb(i,r,o)}else i=g.treeContext,dt=oi(x.nextSibling),on=r,Ke=!0,mr=null,ri=!1,i!==null&&n_(r,i),r=Fh(r,u),r.flags|=4096;return r}return i=Ts(i.child,{mode:u.mode,children:u.children}),i.ref=r.ref,r.child=i,i.return=r,i}function Hh(i,r){var o=r.ref;if(o===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(i===null||i.ref!==o)&&(r.flags|=4194816)}}function ap(i,r,o,u,d){return Ca(r),o=zm(i,r,o,u,void 0,d),u=Bm(),i!==null&&!Ft?(Fm(i,r,d),Ns(i,r,d)):(Ke&&u&&xm(r),r.flags|=1,un(i,r,o,d),r.child)}function yb(i,r,o,u,d,g){return Ca(r),r.updateQueue=null,o=b_(r,u,o,d),__(i),u=Bm(),i!==null&&!Ft?(Fm(i,r,g),Ns(i,r,g)):(Ke&&u&&xm(r),r.flags|=1,un(i,r,o,g),r.child)}function vb(i,r,o,u,d){if(Ca(r),r.stateNode===null){var g=wo,x=o.contextType;typeof x=="object"&&x!==null&&(g=ln(x)),g=new o(u,g),r.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=ip,r.stateNode=g,g._reactInternals=r,g=r.stateNode,g.props=u,g.state=r.memoizedState,g.refs={},km(r),x=o.contextType,g.context=typeof x=="object"&&x!==null?ln(x):wo,g.state=r.memoizedState,x=o.getDerivedStateFromProps,typeof x=="function"&&(np(r,o,x,u),g.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(x=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),x!==g.state&&ip.enqueueReplaceState(g,g.state,null),fu(r,u,g,d),hu(),g.state=r.memoizedState),typeof g.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(i===null){g=r.stateNode;var E=r.memoizedProps,j=Va(o,E);g.props=j;var K=g.context,Z=o.contextType;x=wo,typeof Z=="object"&&Z!==null&&(x=ln(Z));var ne=o.getDerivedStateFromProps;Z=typeof ne=="function"||typeof g.getSnapshotBeforeUpdate=="function",E=r.pendingProps!==E,Z||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(E||K!==x)&&sb(r,g,u,x),yr=!1;var Q=r.memoizedState;g.state=Q,fu(r,u,g,d),hu(),K=r.memoizedState,E||Q!==K||yr?(typeof ne=="function"&&(np(r,o,ne,u),K=r.memoizedState),(j=yr||ib(r,o,j,u,Q,K,x))?(Z||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(r.flags|=4194308)):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=K),g.props=u,g.state=K,g.context=x,u=j):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{g=r.stateNode,Mm(i,r),x=r.memoizedProps,Z=Va(o,x),g.props=Z,ne=r.pendingProps,Q=g.context,K=o.contextType,j=wo,typeof K=="object"&&K!==null&&(j=ln(K)),E=o.getDerivedStateFromProps,(K=typeof E=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(x!==ne||Q!==j)&&sb(r,g,u,j),yr=!1,Q=r.memoizedState,g.state=Q,fu(r,u,g,d),hu();var W=r.memoizedState;x!==ne||Q!==W||yr||i!==null&&i.dependencies!==null&&Eh(i.dependencies)?(typeof E=="function"&&(np(r,o,E,u),W=r.memoizedState),(Z=yr||ib(r,o,Z,u,Q,W,j)||i!==null&&i.dependencies!==null&&Eh(i.dependencies))?(K||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,W,j),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,W,j)),typeof g.componentDidUpdate=="function"&&(r.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof g.componentDidUpdate!="function"||x===i.memoizedProps&&Q===i.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||x===i.memoizedProps&&Q===i.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=W),g.props=u,g.state=W,g.context=j,u=Z):(typeof g.componentDidUpdate!="function"||x===i.memoizedProps&&Q===i.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||x===i.memoizedProps&&Q===i.memoizedState||(r.flags|=1024),u=!1)}return g=u,Hh(i,r),u=(r.flags&128)!==0,g||u?(g=r.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:g.render(),r.flags|=1,i!==null&&u?(r.child=ka(r,i.child,null,d),r.child=ka(r,null,o,d)):un(i,r,o,d),r.memoizedState=g.state,i=r.child):i=Ns(i,r,d),i}function _b(i,r,o,u){return Aa(),r.flags|=256,un(i,r,o,u),r.child}var op={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function lp(i){return{baseLanes:i,cachePool:l_()}}function up(i,r,o){return i=i!==null?i.childLanes&~o:0,r&&(i|=Hn),i}function bb(i,r,o){var u=r.pendingProps,d=!1,g=(r.flags&128)!==0,x;if((x=g)||(x=i!==null&&i.memoizedState===null?!1:(Dt.current&2)!==0),x&&(d=!0,r.flags&=-129),x=(r.flags&32)!==0,r.flags&=-33,i===null){if(Ke){if(d?br(r):xr(),(i=dt)?(i=C1(i,ri),i=i!==null&&i.data!=="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:dr!==null?{id:ts,overflow:ns}:null,retryLane:536870912,hydrationErrors:null},o=Zv(i),o.return=r,r.child=o,on=r,dt=null)):i=null,i===null)throw pr(r);return Gp(i)?r.lanes=32:r.lanes=536870912,null}var E=u.children;return u=u.fallback,d?(xr(),d=r.mode,E=qh({mode:"hidden",children:E},d),u=Sa(u,d,o,null),E.return=r,u.return=r,E.sibling=u,r.child=E,u=r.child,u.memoizedState=lp(o),u.childLanes=up(i,x,o),r.memoizedState=op,yu(null,u)):(br(r),cp(r,E))}var j=i.memoizedState;if(j!==null&&(E=j.dehydrated,E!==null)){if(g)r.flags&256?(br(r),r.flags&=-257,r=hp(i,r,o)):r.memoizedState!==null?(xr(),r.child=i.child,r.flags|=128,r=null):(xr(),E=u.fallback,d=r.mode,u=qh({mode:"visible",children:u.children},d),E=Sa(E,d,o,null),E.flags|=2,u.return=r,E.return=r,u.sibling=E,r.child=u,ka(r,i.child,null,o),u=r.child,u.memoizedState=lp(o),u.childLanes=up(i,x,o),r.memoizedState=op,r=yu(null,u));else if(br(r),Gp(E)){if(x=E.nextSibling&&E.nextSibling.dataset,x)var K=x.dgst;x=K,u=Error(s(419)),u.stack="",u.digest=x,ru({value:u,source:null,stack:null}),r=hp(i,r,o)}else if(Ft||Ao(i,r,o,!1),x=(o&i.childLanes)!==0,Ft||x){if(x=ct,x!==null&&(u=Ll(x,o),u!==0&&u!==j.retryLane))throw j.retryLane=u,Ea(i,u),Dn(x,i,u),rp;qp(E)||Zh(),r=hp(i,r,o)}else qp(E)?(r.flags|=192,r.child=i.child,r=null):(i=j.treeContext,dt=oi(E.nextSibling),on=r,Ke=!0,mr=null,ri=!1,i!==null&&n_(r,i),r=cp(r,u.children),r.flags|=4096);return r}return d?(xr(),E=u.fallback,d=r.mode,j=i.child,K=j.sibling,u=Ts(j,{mode:"hidden",children:u.children}),u.subtreeFlags=j.subtreeFlags&65011712,K!==null?E=Ts(K,E):(E=Sa(E,d,o,null),E.flags|=2),E.return=r,u.return=r,u.sibling=E,r.child=u,yu(null,u),u=r.child,E=i.child.memoizedState,E===null?E=lp(o):(d=E.cachePool,d!==null?(j=zt._currentValue,d=d.parent!==j?{parent:j,pool:j}:d):d=l_(),E={baseLanes:E.baseLanes|o,cachePool:d}),u.memoizedState=E,u.childLanes=up(i,x,o),r.memoizedState=op,yu(i.child,u)):(br(r),o=i.child,i=o.sibling,o=Ts(o,{mode:"visible",children:u.children}),o.return=r,o.sibling=null,i!==null&&(x=r.deletions,x===null?(r.deletions=[i],r.flags|=16):x.push(i)),r.child=o,r.memoizedState=null,o)}function cp(i,r){return r=qh({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function qh(i,r){return i=Un(22,i,null,r),i.lanes=0,i}function hp(i,r,o){return ka(r,i.child,null,o),i=cp(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function xb(i,r,o){i.lanes|=r;var u=i.alternate;u!==null&&(u.lanes|=r),Am(i.return,r,o)}function fp(i,r,o,u,d,g){var x=i.memoizedState;x===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:d,treeForkCount:g}:(x.isBackwards=r,x.rendering=null,x.renderingStartTime=0,x.last=u,x.tail=o,x.tailMode=d,x.treeForkCount=g)}function wb(i,r,o){var u=r.pendingProps,d=u.revealOrder,g=u.tail;u=u.children;var x=Dt.current,E=(x&2)!==0;if(E?(x=x&1|2,r.flags|=128):x&=1,he(Dt,x),un(i,r,u,o),u=Ke?su:0,!E&&i!==null&&(i.flags&128)!==0)e:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&xb(i,o,r);else if(i.tag===19)xb(i,o,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(d){case"forwards":for(o=r.child,d=null;o!==null;)i=o.alternate,i!==null&&kh(i)===null&&(d=o),o=o.sibling;o=d,o===null?(d=r.child,r.child=null):(d=o.sibling,o.sibling=null),fp(r,!1,d,o,g,u);break;case"backwards":case"unstable_legacy-backwards":for(o=null,d=r.child,r.child=null;d!==null;){if(i=d.alternate,i!==null&&kh(i)===null){r.child=d;break}i=d.sibling,d.sibling=o,o=d,d=i}fp(r,!0,o,null,g,u);break;case"together":fp(r,!1,null,null,void 0,u);break;default:r.memoizedState=null}return r.child}function Ns(i,r,o){if(i!==null&&(r.dependencies=i.dependencies),Er|=r.lanes,(o&r.childLanes)===0)if(i!==null){if(Ao(i,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,o=Ts(i,i.pendingProps),r.child=o,o.return=r;i.sibling!==null;)i=i.sibling,o=o.sibling=Ts(i,i.pendingProps),o.return=r;o.sibling=null}return r.child}function dp(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&Eh(i)))}function lN(i,r,o){switch(r.tag){case 3:_t(r,r.stateNode.containerInfo),gr(r,zt,i.memoizedState.cache),Aa();break;case 27:case 5:On(r);break;case 4:_t(r,r.stateNode.containerInfo);break;case 10:gr(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,Lm(r),null;break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(br(r),r.flags|=128,null):(o&r.child.childLanes)!==0?bb(i,r,o):(br(r),i=Ns(i,r,o),i!==null?i.sibling:null);br(r);break;case 19:var d=(i.flags&128)!==0;if(u=(o&r.childLanes)!==0,u||(Ao(i,r,o,!1),u=(o&r.childLanes)!==0),d){if(u)return wb(i,r,o);r.flags|=128}if(d=r.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),he(Dt,Dt.current),u)break;return null;case 22:return r.lanes=0,mb(i,r,o,r.pendingProps);case 24:gr(r,zt,i.memoizedState.cache)}return Ns(i,r,o)}function Tb(i,r,o){if(i!==null)if(i.memoizedProps!==r.pendingProps)Ft=!0;else{if(!dp(i,o)&&(r.flags&128)===0)return Ft=!1,lN(i,r,o);Ft=(i.flags&131072)!==0}else Ft=!1,Ke&&(r.flags&1048576)!==0&&t_(r,su,r.index);switch(r.lanes=0,r.tag){case 16:e:{var u=r.pendingProps;if(i=Ia(r.elementType),r.type=i,typeof i=="function")vm(i)?(u=Va(i,u),r.tag=1,r=vb(null,r,i,u,o)):(r.tag=0,r=ap(null,r,i,u,o));else{if(i!=null){var d=i.$$typeof;if(d===oe){r.tag=11,r=hb(null,r,i,u,o);break e}else if(d===C){r.tag=14,r=fb(null,r,i,u,o);break e}}throw r=Qe(i)||i,Error(s(306,r,""))}}return r;case 0:return ap(i,r,r.type,r.pendingProps,o);case 1:return u=r.type,d=Va(u,r.pendingProps),vb(i,r,u,d,o);case 3:e:{if(_t(r,r.stateNode.containerInfo),i===null)throw Error(s(387));u=r.pendingProps;var g=r.memoizedState;d=g.element,Mm(i,r),fu(r,u,null,o);var x=r.memoizedState;if(u=x.cache,gr(r,zt,u),u!==g.cache&&Rm(r,[zt],o,!0),hu(),u=x.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:x.cache},r.updateQueue.baseState=g,r.memoizedState=g,r.flags&256){r=_b(i,r,u,o);break e}else if(u!==d){d=ni(Error(s(424)),r),ru(d),r=_b(i,r,u,o);break e}else{switch(i=r.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(dt=oi(i.firstChild),on=r,Ke=!0,mr=null,ri=!0,o=m_(r,null,u,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Aa(),u===d){r=Ns(i,r,o);break e}un(i,r,u,o)}r=r.child}return r;case 26:return Hh(i,r),i===null?(o=V1(r.type,null,r.pendingProps,null))?r.memoizedState=o:Ke||(o=r.type,i=r.pendingProps,u=of(Me.current).createElement(o),u[Pt]=r,u[Jt]=i,cn(u,o,i),Lt(u),r.stateNode=u):r.memoizedState=V1(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return On(r),i===null&&Ke&&(u=r.stateNode=D1(r.type,r.pendingProps,Me.current),on=r,ri=!0,d=dt,Nr(r.type)?($p=d,dt=oi(u.firstChild)):dt=d),un(i,r,r.pendingProps.children,o),Hh(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&Ke&&((d=u=dt)&&(u=LN(u,r.type,r.pendingProps,ri),u!==null?(r.stateNode=u,on=r,dt=oi(u.firstChild),ri=!1,d=!0):d=!1),d||pr(r)),On(r),d=r.type,g=r.pendingProps,x=i!==null?i.memoizedProps:null,u=g.children,Bp(d,g)?u=null:x!==null&&Bp(d,x)&&(r.flags|=32),r.memoizedState!==null&&(d=zm(i,r,ZC,null,null,o),ku._currentValue=d),Hh(i,r),un(i,r,u,o),r.child;case 6:return i===null&&Ke&&((i=o=dt)&&(o=UN(o,r.pendingProps,ri),o!==null?(r.stateNode=o,on=r,dt=null,i=!0):i=!1),i||pr(r)),null;case 13:return bb(i,r,o);case 4:return _t(r,r.stateNode.containerInfo),u=r.pendingProps,i===null?r.child=ka(r,null,u,o):un(i,r,u,o),r.child;case 11:return hb(i,r,r.type,r.pendingProps,o);case 7:return un(i,r,r.pendingProps,o),r.child;case 8:return un(i,r,r.pendingProps.children,o),r.child;case 12:return un(i,r,r.pendingProps.children,o),r.child;case 10:return u=r.pendingProps,gr(r,r.type,u.value),un(i,r,u.children,o),r.child;case 9:return d=r.type._context,u=r.pendingProps.children,Ca(r),d=ln(d),u=u(d),r.flags|=1,un(i,r,u,o),r.child;case 14:return fb(i,r,r.type,r.pendingProps,o);case 15:return db(i,r,r.type,r.pendingProps,o);case 19:return wb(i,r,o);case 31:return oN(i,r,o);case 22:return mb(i,r,o,r.pendingProps);case 24:return Ca(r),u=ln(zt),i===null?(d=Im(),d===null&&(d=ct,g=Cm(),d.pooledCache=g,g.refCount++,g!==null&&(d.pooledCacheLanes|=o),d=g),r.memoizedState={parent:u,cache:d},km(r),gr(r,zt,d)):((i.lanes&o)!==0&&(Mm(i,r),fu(r,null,null,o),hu()),d=i.memoizedState,g=r.memoizedState,d.parent!==u?(d={parent:u,cache:u},r.memoizedState=d,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=d),gr(r,zt,u)):(u=g.cache,gr(r,zt,u),u!==d.cache&&Rm(r,[zt],o,!0))),un(i,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function Is(i){i.flags|=4}function mp(i,r,o,u,d){if((r=(i.mode&32)!==0)&&(r=!1),r){if(i.flags|=16777216,(d&335544128)===d)if(i.stateNode.complete)i.flags|=8192;else if(Xb())i.flags|=8192;else throw Da=Ch,Dm}else i.flags&=-16777217}function Eb(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!U1(r))if(Xb())i.flags|=8192;else throw Da=Ch,Dm}function Gh(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?Wc():536870912,i.lanes|=r,Lo|=r)}function vu(i,r){if(!Ke)switch(i.tailMode){case"hidden":r=i.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function mt(i){var r=i.alternate!==null&&i.alternate.child===i.child,o=0,u=0;if(r)for(var d=i.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags&65011712,u|=d.flags&65011712,d.return=i,d=d.sibling;else for(d=i.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags,u|=d.flags,d.return=i,d=d.sibling;return i.subtreeFlags|=u,i.childLanes=o,r}function uN(i,r,o){var u=r.pendingProps;switch(wm(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mt(r),null;case 1:return mt(r),null;case 3:return o=r.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),As(zt),ht(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(So(r)?Is(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Em())),mt(r),null;case 26:var d=r.type,g=r.memoizedState;return i===null?(Is(r),g!==null?(mt(r),Eb(r,g)):(mt(r),mp(r,d,null,u,o))):g?g!==i.memoizedState?(Is(r),mt(r),Eb(r,g)):(mt(r),r.flags&=-16777217):(i=i.memoizedProps,i!==u&&Is(r),mt(r),mp(r,d,i,u,o)),null;case 27:if(Zs(r),o=Me.current,d=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==u&&Is(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return mt(r),null}i=me.current,So(r)?i_(r):(i=D1(d,u,o),r.stateNode=i,Is(r))}return mt(r),null;case 5:if(Zs(r),d=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==u&&Is(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return mt(r),null}if(g=me.current,So(r))i_(r);else{var x=of(Me.current);switch(g){case 1:g=x.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:g=x.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":g=x.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":g=x.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":g=x.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof u.is=="string"?x.createElement("select",{is:u.is}):x.createElement("select"),u.multiple?g.multiple=!0:u.size&&(g.size=u.size);break;default:g=typeof u.is=="string"?x.createElement(d,{is:u.is}):x.createElement(d)}}g[Pt]=r,g[Jt]=u;e:for(x=r.child;x!==null;){if(x.tag===5||x.tag===6)g.appendChild(x.stateNode);else if(x.tag!==4&&x.tag!==27&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===r)break e;for(;x.sibling===null;){if(x.return===null||x.return===r)break e;x=x.return}x.sibling.return=x.return,x=x.sibling}r.stateNode=g;e:switch(cn(g,d,u),d){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&Is(r)}}return mt(r),mp(r,r.type,i===null?null:i.memoizedProps,r.pendingProps,o),null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==u&&Is(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(s(166));if(i=Me.current,So(r)){if(i=r.stateNode,o=r.memoizedProps,u=null,d=on,d!==null)switch(d.tag){case 27:case 5:u=d.memoizedProps}i[Pt]=r,i=!!(i.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||b1(i.nodeValue,o)),i||pr(r,!0)}else i=of(i).createTextNode(u),i[Pt]=r,r.stateNode=i}return mt(r),null;case 31:if(o=r.memoizedState,i===null||i.memoizedState!==null){if(u=So(r),o!==null){if(i===null){if(!u)throw Error(s(318));if(i=r.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(557));i[Pt]=r}else Aa(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;mt(r),i=!1}else o=Em(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=o),i=!0;if(!i)return r.flags&256?(Bn(r),r):(Bn(r),null);if((r.flags&128)!==0)throw Error(s(558))}return mt(r),null;case 13:if(u=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(d=So(r),u!==null&&u.dehydrated!==null){if(i===null){if(!d)throw Error(s(318));if(d=r.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(s(317));d[Pt]=r}else Aa(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;mt(r),d=!1}else d=Em(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=d),d=!0;if(!d)return r.flags&256?(Bn(r),r):(Bn(r),null)}return Bn(r),(r.flags&128)!==0?(r.lanes=o,r):(o=u!==null,i=i!==null&&i.memoizedState!==null,o&&(u=r.child,d=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(d=u.alternate.memoizedState.cachePool.pool),g=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==d&&(u.flags|=2048)),o!==i&&o&&(r.child.flags|=8192),Gh(r,r.updateQueue),mt(r),null);case 4:return ht(),i===null&&jp(r.stateNode.containerInfo),mt(r),null;case 10:return As(r.type),mt(r),null;case 19:if(te(Dt),u=r.memoizedState,u===null)return mt(r),null;if(d=(r.flags&128)!==0,g=u.rendering,g===null)if(d)vu(u,!1);else{if(Et!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(g=kh(i),g!==null){for(r.flags|=128,vu(u,!1),i=g.updateQueue,r.updateQueue=i,Gh(r,i),r.subtreeFlags=0,i=o,o=r.child;o!==null;)Jv(o,i),o=o.sibling;return he(Dt,Dt.current&1|2),Ke&&Es(r,u.treeForkCount),r.child}i=i.sibling}u.tail!==null&&Wt()>Xh&&(r.flags|=128,d=!0,vu(u,!1),r.lanes=4194304)}else{if(!d)if(i=kh(g),i!==null){if(r.flags|=128,d=!0,i=i.updateQueue,r.updateQueue=i,Gh(r,i),vu(u,!0),u.tail===null&&u.tailMode==="hidden"&&!g.alternate&&!Ke)return mt(r),null}else 2*Wt()-u.renderingStartTime>Xh&&o!==536870912&&(r.flags|=128,d=!0,vu(u,!1),r.lanes=4194304);u.isBackwards?(g.sibling=r.child,r.child=g):(i=u.last,i!==null?i.sibling=g:r.child=g,u.last=g)}return u.tail!==null?(i=u.tail,u.rendering=i,u.tail=i.sibling,u.renderingStartTime=Wt(),i.sibling=null,o=Dt.current,he(Dt,d?o&1|2:o&1),Ke&&Es(r,u.treeForkCount),i):(mt(r),null);case 22:case 23:return Bn(r),Pm(),u=r.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(o&536870912)!==0&&(r.flags&128)===0&&(mt(r),r.subtreeFlags&6&&(r.flags|=8192)):mt(r),o=r.updateQueue,o!==null&&Gh(r,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==o&&(r.flags|=2048),i!==null&&te(Na),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),As(zt),mt(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function cN(i,r){switch(wm(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return As(zt),ht(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return Zs(r),null;case 31:if(r.memoizedState!==null){if(Bn(r),r.alternate===null)throw Error(s(340));Aa()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 13:if(Bn(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Aa()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return te(Dt),null;case 4:return ht(),null;case 10:return As(r.type),null;case 22:case 23:return Bn(r),Pm(),i!==null&&te(Na),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return As(zt),null;case 25:return null;default:return null}}function Sb(i,r){switch(wm(r),r.tag){case 3:As(zt),ht();break;case 26:case 27:case 5:Zs(r);break;case 4:ht();break;case 31:r.memoizedState!==null&&Bn(r);break;case 13:Bn(r);break;case 19:te(Dt);break;case 10:As(r.type);break;case 22:case 23:Bn(r),Pm(),i!==null&&te(Na);break;case 24:As(zt)}}function _u(i,r){try{var o=r.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var d=u.next;o=d;do{if((o.tag&i)===i){u=void 0;var g=o.create,x=o.inst;u=g(),x.destroy=u}o=o.next}while(o!==d)}}catch(E){st(r,r.return,E)}}function wr(i,r,o){try{var u=r.updateQueue,d=u!==null?u.lastEffect:null;if(d!==null){var g=d.next;u=g;do{if((u.tag&i)===i){var x=u.inst,E=x.destroy;if(E!==void 0){x.destroy=void 0,d=r;var j=o,K=E;try{K()}catch(Z){st(d,j,Z)}}}u=u.next}while(u!==g)}}catch(Z){st(r,r.return,Z)}}function Ab(i){var r=i.updateQueue;if(r!==null){var o=i.stateNode;try{g_(r,o)}catch(u){st(i,i.return,u)}}}function Rb(i,r,o){o.props=Va(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(u){st(i,r,u)}}function bu(i,r){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var u=i.stateNode;break;case 30:u=i.stateNode;break;default:u=i.stateNode}typeof o=="function"?i.refCleanup=o(u):o.current=u}}catch(d){st(i,r,d)}}function is(i,r){var o=i.ref,u=i.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(d){st(i,r,d)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(d){st(i,r,d)}else o.current=null}function Cb(i){var r=i.type,o=i.memoizedProps,u=i.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(d){st(i,i.return,d)}}function pp(i,r,o){try{var u=i.stateNode;kN(u,i.type,o,r),u[Jt]=r}catch(d){st(i,i.return,d)}}function Nb(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Nr(i.type)||i.tag===4}function gp(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Nb(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Nr(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function yp(i,r,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(i),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=_i));else if(u!==4&&(u===27&&Nr(i.type)&&(o=i.stateNode,r=null),i=i.child,i!==null))for(yp(i,r,o),i=i.sibling;i!==null;)yp(i,r,o),i=i.sibling}function $h(i,r,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?o.insertBefore(i,r):o.appendChild(i);else if(u!==4&&(u===27&&Nr(i.type)&&(o=i.stateNode),i=i.child,i!==null))for($h(i,r,o),i=i.sibling;i!==null;)$h(i,r,o),i=i.sibling}function Ib(i){var r=i.stateNode,o=i.memoizedProps;try{for(var u=i.type,d=r.attributes;d.length;)r.removeAttributeNode(d[0]);cn(r,u,o),r[Pt]=i,r[Jt]=o}catch(g){st(i,i.return,g)}}var Ds=!1,Ht=!1,vp=!1,Db=typeof WeakSet=="function"?WeakSet:Set,en=null;function hN(i,r){if(i=i.containerInfo,Up=mf,i=Hv(i),hm(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else e:{o=(o=i.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var d=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var x=0,E=-1,j=-1,K=0,Z=0,ne=i,Q=null;t:for(;;){for(var W;ne!==o||d!==0&&ne.nodeType!==3||(E=x+d),ne!==g||u!==0&&ne.nodeType!==3||(j=x+u),ne.nodeType===3&&(x+=ne.nodeValue.length),(W=ne.firstChild)!==null;)Q=ne,ne=W;for(;;){if(ne===i)break t;if(Q===o&&++K===d&&(E=x),Q===g&&++Z===u&&(j=x),(W=ne.nextSibling)!==null)break;ne=Q,Q=ne.parentNode}ne=W}o=E===-1||j===-1?null:{start:E,end:j}}else o=null}o=o||{start:0,end:0}}else o=null;for(zp={focusedElem:i,selectionRange:o},mf=!1,en=r;en!==null;)if(r=en,i=r.child,(r.subtreeFlags&1028)!==0&&i!==null)i.return=r,en=i;else for(;en!==null;){switch(r=en,g=r.alternate,i=r.flags,r.tag){case 0:if((i&4)!==0&&(i=r.updateQueue,i=i!==null?i.events:null,i!==null))for(o=0;o<i.length;o++)d=i[o],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&g!==null){i=void 0,o=r,d=g.memoizedProps,g=g.memoizedState,u=o.stateNode;try{var ye=Va(o.type,d);i=u.getSnapshotBeforeUpdate(ye,g),u.__reactInternalSnapshotBeforeUpdate=i}catch(we){st(o,o.return,we)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,o=i.nodeType,o===9)Hp(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Hp(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,en=i;break}en=r.return}}function kb(i,r,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:Ms(i,o),u&4&&_u(5,o);break;case 1:if(Ms(i,o),u&4)if(i=o.stateNode,r===null)try{i.componentDidMount()}catch(x){st(o,o.return,x)}else{var d=Va(o.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(d,r,i.__reactInternalSnapshotBeforeUpdate)}catch(x){st(o,o.return,x)}}u&64&&Ab(o),u&512&&bu(o,o.return);break;case 3:if(Ms(i,o),u&64&&(i=o.updateQueue,i!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{g_(i,r)}catch(x){st(o,o.return,x)}}break;case 27:r===null&&u&4&&Ib(o);case 26:case 5:Ms(i,o),r===null&&u&4&&Cb(o),u&512&&bu(o,o.return);break;case 12:Ms(i,o);break;case 31:Ms(i,o),u&4&&Ob(i,o);break;case 13:Ms(i,o),u&4&&jb(i,o),u&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=bN.bind(null,o),zN(i,o))));break;case 22:if(u=o.memoizedState!==null||Ds,!u){r=r!==null&&r.memoizedState!==null||Ht,d=Ds;var g=Ht;Ds=u,(Ht=r)&&!g?Vs(i,o,(o.subtreeFlags&8772)!==0):Ms(i,o),Ds=d,Ht=g}break;case 30:break;default:Ms(i,o)}}function Mb(i){var r=i.alternate;r!==null&&(i.alternate=null,Mb(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&oo(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var yt=null,Rn=!1;function ks(i,r,o){for(o=o.child;o!==null;)Vb(i,r,o),o=o.sibling}function Vb(i,r,o){if(rn&&typeof rn.onCommitFiberUnmount=="function")try{rn.onCommitFiberUnmount(pi,o)}catch{}switch(o.tag){case 26:Ht||is(o,r),ks(i,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Ht||is(o,r);var u=yt,d=Rn;Nr(o.type)&&(yt=o.stateNode,Rn=!1),ks(i,r,o),Nu(o.stateNode),yt=u,Rn=d;break;case 5:Ht||is(o,r);case 6:if(u=yt,d=Rn,yt=null,ks(i,r,o),yt=u,Rn=d,yt!==null)if(Rn)try{(yt.nodeType===9?yt.body:yt.nodeName==="HTML"?yt.ownerDocument.body:yt).removeChild(o.stateNode)}catch(g){st(o,r,g)}else try{yt.removeChild(o.stateNode)}catch(g){st(o,r,g)}break;case 18:yt!==null&&(Rn?(i=yt,A1(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),$o(i)):A1(yt,o.stateNode));break;case 4:u=yt,d=Rn,yt=o.stateNode.containerInfo,Rn=!0,ks(i,r,o),yt=u,Rn=d;break;case 0:case 11:case 14:case 15:wr(2,o,r),Ht||wr(4,o,r),ks(i,r,o);break;case 1:Ht||(is(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"&&Rb(o,r,u)),ks(i,r,o);break;case 21:ks(i,r,o);break;case 22:Ht=(u=Ht)||o.memoizedState!==null,ks(i,r,o),Ht=u;break;default:ks(i,r,o)}}function Ob(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{$o(i)}catch(o){st(r,r.return,o)}}}function jb(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{$o(i)}catch(o){st(r,r.return,o)}}function fN(i){switch(i.tag){case 31:case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new Db),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new Db),r;default:throw Error(s(435,i.tag))}}function Kh(i,r){var o=fN(i);r.forEach(function(u){if(!o.has(u)){o.add(u);var d=xN.bind(null,i,u);u.then(d,d)}})}function Cn(i,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var d=o[u],g=i,x=r,E=x;e:for(;E!==null;){switch(E.tag){case 27:if(Nr(E.type)){yt=E.stateNode,Rn=!1;break e}break;case 5:yt=E.stateNode,Rn=!1;break e;case 3:case 4:yt=E.stateNode.containerInfo,Rn=!0;break e}E=E.return}if(yt===null)throw Error(s(160));Vb(g,x,d),yt=null,Rn=!1,g=d.alternate,g!==null&&(g.return=null),d.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)Pb(r,i),r=r.sibling}var Si=null;function Pb(i,r){var o=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Cn(r,i),Nn(i),u&4&&(wr(3,i,i.return),_u(3,i),wr(5,i,i.return));break;case 1:Cn(r,i),Nn(i),u&512&&(Ht||o===null||is(o,o.return)),u&64&&Ds&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var d=Si;if(Cn(r,i),Nn(i),u&512&&(Ht||o===null||is(o,o.return)),u&4){var g=o!==null?o.memoizedState:null;if(u=i.memoizedState,o===null)if(u===null)if(i.stateNode===null){e:{u=i.type,o=i.memoizedProps,d=d.ownerDocument||d;t:switch(u){case"title":g=d.getElementsByTagName("title")[0],(!g||g[Hi]||g[Pt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=d.createElement(u),d.head.insertBefore(g,d.querySelector("head > title"))),cn(g,u,o),g[Pt]=i,Lt(g),u=g;break e;case"link":var x=P1("link","href",d).get(u+(o.href||""));if(x){for(var E=0;E<x.length;E++)if(g=x[E],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){x.splice(E,1);break t}}g=d.createElement(u),cn(g,u,o),d.head.appendChild(g);break;case"meta":if(x=P1("meta","content",d).get(u+(o.content||""))){for(E=0;E<x.length;E++)if(g=x[E],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){x.splice(E,1);break t}}g=d.createElement(u),cn(g,u,o),d.head.appendChild(g);break;default:throw Error(s(468,u))}g[Pt]=i,Lt(g),u=g}i.stateNode=u}else L1(d,i.type,i.stateNode);else i.stateNode=j1(d,u,i.memoizedProps);else g!==u?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,u===null?L1(d,i.type,i.stateNode):j1(d,u,i.memoizedProps)):u===null&&i.stateNode!==null&&pp(i,i.memoizedProps,o.memoizedProps)}break;case 27:Cn(r,i),Nn(i),u&512&&(Ht||o===null||is(o,o.return)),o!==null&&u&4&&pp(i,i.memoizedProps,o.memoizedProps);break;case 5:if(Cn(r,i),Nn(i),u&512&&(Ht||o===null||is(o,o.return)),i.flags&32){d=i.stateNode;try{An(d,"")}catch(ye){st(i,i.return,ye)}}u&4&&i.stateNode!=null&&(d=i.memoizedProps,pp(i,d,o!==null?o.memoizedProps:d)),u&1024&&(vp=!0);break;case 6:if(Cn(r,i),Nn(i),u&4){if(i.stateNode===null)throw Error(s(162));u=i.memoizedProps,o=i.stateNode;try{o.nodeValue=u}catch(ye){st(i,i.return,ye)}}break;case 3:if(cf=null,d=Si,Si=lf(r.containerInfo),Cn(r,i),Si=d,Nn(i),u&4&&o!==null&&o.memoizedState.isDehydrated)try{$o(r.containerInfo)}catch(ye){st(i,i.return,ye)}vp&&(vp=!1,Lb(i));break;case 4:u=Si,Si=lf(i.stateNode.containerInfo),Cn(r,i),Nn(i),Si=u;break;case 12:Cn(r,i),Nn(i);break;case 31:Cn(r,i),Nn(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Kh(i,u)));break;case 13:Cn(r,i),Nn(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Qh=Wt()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Kh(i,u)));break;case 22:d=i.memoizedState!==null;var j=o!==null&&o.memoizedState!==null,K=Ds,Z=Ht;if(Ds=K||d,Ht=Z||j,Cn(r,i),Ht=Z,Ds=K,Nn(i),u&8192)e:for(r=i.stateNode,r._visibility=d?r._visibility&-2:r._visibility|1,d&&(o===null||j||Ds||Ht||Oa(i)),o=null,r=i;;){if(r.tag===5||r.tag===26){if(o===null){j=o=r;try{if(g=j.stateNode,d)x=g.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none";else{E=j.stateNode;var ne=j.memoizedProps.style,Q=ne!=null&&ne.hasOwnProperty("display")?ne.display:null;E.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch(ye){st(j,j.return,ye)}}}else if(r.tag===6){if(o===null){j=r;try{j.stateNode.nodeValue=d?"":j.memoizedProps}catch(ye){st(j,j.return,ye)}}}else if(r.tag===18){if(o===null){j=r;try{var W=j.stateNode;d?R1(W,!0):R1(j.stateNode,!1)}catch(ye){st(j,j.return,ye)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=i.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,Kh(i,o))));break;case 19:Cn(r,i),Nn(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Kh(i,u)));break;case 30:break;case 21:break;default:Cn(r,i),Nn(i)}}function Nn(i){var r=i.flags;if(r&2){try{for(var o,u=i.return;u!==null;){if(Nb(u)){o=u;break}u=u.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var d=o.stateNode,g=gp(i);$h(i,g,d);break;case 5:var x=o.stateNode;o.flags&32&&(An(x,""),o.flags&=-33);var E=gp(i);$h(i,E,x);break;case 3:case 4:var j=o.stateNode.containerInfo,K=gp(i);yp(i,K,j);break;default:throw Error(s(161))}}catch(Z){st(i,i.return,Z)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function Lb(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;Lb(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function Ms(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)kb(i,r.alternate,r),r=r.sibling}function Oa(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:wr(4,r,r.return),Oa(r);break;case 1:is(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&Rb(r,r.return,o),Oa(r);break;case 27:Nu(r.stateNode);case 26:case 5:is(r,r.return),Oa(r);break;case 22:r.memoizedState===null&&Oa(r);break;case 30:Oa(r);break;default:Oa(r)}i=i.sibling}}function Vs(i,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,d=i,g=r,x=g.flags;switch(g.tag){case 0:case 11:case 15:Vs(d,g,o),_u(4,g);break;case 1:if(Vs(d,g,o),u=g,d=u.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(K){st(u,u.return,K)}if(u=g,d=u.updateQueue,d!==null){var E=u.stateNode;try{var j=d.shared.hiddenCallbacks;if(j!==null)for(d.shared.hiddenCallbacks=null,d=0;d<j.length;d++)p_(j[d],E)}catch(K){st(u,u.return,K)}}o&&x&64&&Ab(g),bu(g,g.return);break;case 27:Ib(g);case 26:case 5:Vs(d,g,o),o&&u===null&&x&4&&Cb(g),bu(g,g.return);break;case 12:Vs(d,g,o);break;case 31:Vs(d,g,o),o&&x&4&&Ob(d,g);break;case 13:Vs(d,g,o),o&&x&4&&jb(d,g);break;case 22:g.memoizedState===null&&Vs(d,g,o),bu(g,g.return);break;case 30:break;default:Vs(d,g,o)}r=r.sibling}}function _p(i,r){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&au(o))}function bp(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&au(i))}function Ai(i,r,o,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Ub(i,r,o,u),r=r.sibling}function Ub(i,r,o,u){var d=r.flags;switch(r.tag){case 0:case 11:case 15:Ai(i,r,o,u),d&2048&&_u(9,r);break;case 1:Ai(i,r,o,u);break;case 3:Ai(i,r,o,u),d&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&au(i)));break;case 12:if(d&2048){Ai(i,r,o,u),i=r.stateNode;try{var g=r.memoizedProps,x=g.id,E=g.onPostCommit;typeof E=="function"&&E(x,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(j){st(r,r.return,j)}}else Ai(i,r,o,u);break;case 31:Ai(i,r,o,u);break;case 13:Ai(i,r,o,u);break;case 23:break;case 22:g=r.stateNode,x=r.alternate,r.memoizedState!==null?g._visibility&2?Ai(i,r,o,u):xu(i,r):g._visibility&2?Ai(i,r,o,u):(g._visibility|=2,Oo(i,r,o,u,(r.subtreeFlags&10256)!==0||!1)),d&2048&&_p(x,r);break;case 24:Ai(i,r,o,u),d&2048&&bp(r.alternate,r);break;default:Ai(i,r,o,u)}}function Oo(i,r,o,u,d){for(d=d&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var g=i,x=r,E=o,j=u,K=x.flags;switch(x.tag){case 0:case 11:case 15:Oo(g,x,E,j,d),_u(8,x);break;case 23:break;case 22:var Z=x.stateNode;x.memoizedState!==null?Z._visibility&2?Oo(g,x,E,j,d):xu(g,x):(Z._visibility|=2,Oo(g,x,E,j,d)),d&&K&2048&&_p(x.alternate,x);break;case 24:Oo(g,x,E,j,d),d&&K&2048&&bp(x.alternate,x);break;default:Oo(g,x,E,j,d)}r=r.sibling}}function xu(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=i,u=r,d=u.flags;switch(u.tag){case 22:xu(o,u),d&2048&&_p(u.alternate,u);break;case 24:xu(o,u),d&2048&&bp(u.alternate,u);break;default:xu(o,u)}r=r.sibling}}var wu=8192;function jo(i,r,o){if(i.subtreeFlags&wu)for(i=i.child;i!==null;)zb(i,r,o),i=i.sibling}function zb(i,r,o){switch(i.tag){case 26:jo(i,r,o),i.flags&wu&&i.memoizedState!==null&&JN(o,Si,i.memoizedState,i.memoizedProps);break;case 5:jo(i,r,o);break;case 3:case 4:var u=Si;Si=lf(i.stateNode.containerInfo),jo(i,r,o),Si=u;break;case 22:i.memoizedState===null&&(u=i.alternate,u!==null&&u.memoizedState!==null?(u=wu,wu=16777216,jo(i,r,o),wu=u):jo(i,r,o));break;default:jo(i,r,o)}}function Bb(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function Tu(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];en=u,Hb(u,i)}Bb(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Fb(i),i=i.sibling}function Fb(i){switch(i.tag){case 0:case 11:case 15:Tu(i),i.flags&2048&&wr(9,i,i.return);break;case 3:Tu(i);break;case 12:Tu(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,Yh(i)):Tu(i);break;default:Tu(i)}}function Yh(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];en=u,Hb(u,i)}Bb(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:wr(8,r,r.return),Yh(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,Yh(r));break;default:Yh(r)}i=i.sibling}}function Hb(i,r){for(;en!==null;){var o=en;switch(o.tag){case 0:case 11:case 15:wr(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:au(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,en=u;else e:for(o=i;en!==null;){u=en;var d=u.sibling,g=u.return;if(Mb(u),u===o){en=null;break e}if(d!==null){d.return=g,en=d;break e}en=g}}}var dN={getCacheForType:function(i){var r=ln(zt),o=r.data.get(i);return o===void 0&&(o=i(),r.data.set(i,o)),o},cacheSignal:function(){return ln(zt).controller.signal}},mN=typeof WeakMap=="function"?WeakMap:Map,Ze=0,ct=null,Ue=null,Be=0,it=0,Fn=null,Tr=!1,Po=!1,xp=!1,Os=0,Et=0,Er=0,ja=0,wp=0,Hn=0,Lo=0,Eu=null,In=null,Tp=!1,Qh=0,qb=0,Xh=1/0,Wh=null,Sr=null,Yt=0,Ar=null,Uo=null,js=0,Ep=0,Sp=null,Gb=null,Su=0,Ap=null;function qn(){return(Ze&2)!==0&&Be!==0?Be&-Be:J.T!==null?kp():Jc()}function $b(){if(Hn===0)if((Be&536870912)===0||Ke){var i=ua;ua<<=1,(ua&3932160)===0&&(ua=262144),Hn=i}else Hn=536870912;return i=zn.current,i!==null&&(i.flags|=32),Hn}function Dn(i,r,o){(i===ct&&(it===2||it===9)||i.cancelPendingCommit!==null)&&(zo(i,0),Rr(i,Be,Hn,!1)),ca(i,o),((Ze&2)===0||i!==ct)&&(i===ct&&((Ze&2)===0&&(ja|=o),Et===4&&Rr(i,Be,Hn,!1)),ss(i))}function Kb(i,r,o){if((Ze&6)!==0)throw Error(s(327));var u=!o&&(r&127)===0&&(r&i.expiredLanes)===0||gi(i,r),d=u?yN(i,r):Cp(i,r,!0),g=u;do{if(d===0){Po&&!u&&Rr(i,r,0,!1);break}else{if(o=i.current.alternate,g&&!pN(o)){d=Cp(i,r,!1),g=!1;continue}if(d===2){if(g=r,i.errorRecoveryDisabledLanes&g)var x=0;else x=i.pendingLanes&-536870913,x=x!==0?x:x&536870912?536870912:0;if(x!==0){r=x;e:{var E=i;d=Eu;var j=E.current.memoizedState.isDehydrated;if(j&&(zo(E,x).flags|=256),x=Cp(E,x,!1),x!==2){if(xp&&!j){E.errorRecoveryDisabledLanes|=g,ja|=g,d=4;break e}g=In,In=d,g!==null&&(In===null?In=g:In.push.apply(In,g))}d=x}if(g=!1,d!==2)continue}}if(d===1){zo(i,0),Rr(i,r,0,!0);break}e:{switch(u=i,g=d,g){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Rr(u,r,Hn,!Tr);break e;case 2:In=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(d=Qh+300-Wt(),10<d)){if(Rr(u,r,Hn,!Tr),zi(u,0,!0)!==0)break e;js=r,u.timeoutHandle=E1(Yb.bind(null,u,o,In,Wh,Tp,r,Hn,ja,Lo,Tr,g,"Throttled",-0,0),d);break e}Yb(u,o,In,Wh,Tp,r,Hn,ja,Lo,Tr,g,null,-0,0)}}break}while(!0);ss(i)}function Yb(i,r,o,u,d,g,x,E,j,K,Z,ne,Q,W){if(i.timeoutHandle=-1,ne=r.subtreeFlags,ne&8192||(ne&16785408)===16785408){ne={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:_i},zb(r,g,ne);var ye=(g&62914560)===g?Qh-Wt():(g&4194048)===g?qb-Wt():0;if(ye=ZN(ne,ye),ye!==null){js=g,i.cancelPendingCommit=ye(n1.bind(null,i,r,g,o,u,d,x,E,j,Z,ne,null,Q,W)),Rr(i,g,x,!K);return}}n1(i,r,g,o,u,d,x,E,j)}function pN(i){for(var r=i;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var d=o[u],g=d.getSnapshot;d=d.value;try{if(!Ln(g(),d))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Rr(i,r,o,u){r&=~wp,r&=~ja,i.suspendedLanes|=r,i.pingedLanes&=~r,u&&(i.warmLanes|=r),u=i.expirationTimes;for(var d=r;0<d;){var g=31-Nt(d),x=1<<g;u[g]=-1,d&=~x}o!==0&&ha(i,o,r)}function Jh(){return(Ze&6)===0?(Au(0),!1):!0}function Rp(){if(Ue!==null){if(it===0)var i=Ue.return;else i=Ue,Ss=Ra=null,Hm(i),Io=null,lu=0,i=Ue;for(;i!==null;)Sb(i.alternate,i),i=i.return;Ue=null}}function zo(i,r){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,ON(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),js=0,Rp(),ct=i,Ue=o=Ts(i.current,null),Be=r,it=0,Fn=null,Tr=!1,Po=gi(i,r),xp=!1,Lo=Hn=wp=ja=Er=Et=0,In=Eu=null,Tp=!1,(r&8)!==0&&(r|=r&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=r;0<u;){var d=31-Nt(u),g=1<<d;r|=i[d],u&=~g}return Os=r,_h(),o}function Qb(i,r){Oe=null,J.H=gu,r===No||r===Rh?(r=h_(),it=3):r===Dm?(r=h_(),it=4):it=r===rp?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Fn=r,Ue===null&&(Et=1,Bh(i,ni(r,i.current)))}function Xb(){var i=zn.current;return i===null?!0:(Be&4194048)===Be?ai===null:(Be&62914560)===Be||(Be&536870912)!==0?i===ai:!1}function Wb(){var i=J.H;return J.H=gu,i===null?gu:i}function Jb(){var i=J.A;return J.A=dN,i}function Zh(){Et=4,Tr||(Be&4194048)!==Be&&zn.current!==null||(Po=!0),(Er&134217727)===0&&(ja&134217727)===0||ct===null||Rr(ct,Be,Hn,!1)}function Cp(i,r,o){var u=Ze;Ze|=2;var d=Wb(),g=Jb();(ct!==i||Be!==r)&&(Wh=null,zo(i,r)),r=!1;var x=Et;e:do try{if(it!==0&&Ue!==null){var E=Ue,j=Fn;switch(it){case 8:Rp(),x=6;break e;case 3:case 2:case 9:case 6:zn.current===null&&(r=!0);var K=it;if(it=0,Fn=null,Bo(i,E,j,K),o&&Po){x=0;break e}break;default:K=it,it=0,Fn=null,Bo(i,E,j,K)}}gN(),x=Et;break}catch(Z){Qb(i,Z)}while(!0);return r&&i.shellSuspendCounter++,Ss=Ra=null,Ze=u,J.H=d,J.A=g,Ue===null&&(ct=null,Be=0,_h()),x}function gN(){for(;Ue!==null;)Zb(Ue)}function yN(i,r){var o=Ze;Ze|=2;var u=Wb(),d=Jb();ct!==i||Be!==r?(Wh=null,Xh=Wt()+500,zo(i,r)):Po=gi(i,r);e:do try{if(it!==0&&Ue!==null){r=Ue;var g=Fn;t:switch(it){case 1:it=0,Fn=null,Bo(i,r,g,1);break;case 2:case 9:if(u_(g)){it=0,Fn=null,e1(r);break}r=function(){it!==2&&it!==9||ct!==i||(it=7),ss(i)},g.then(r,r);break e;case 3:it=7;break e;case 4:it=5;break e;case 7:u_(g)?(it=0,Fn=null,e1(r)):(it=0,Fn=null,Bo(i,r,g,7));break;case 5:var x=null;switch(Ue.tag){case 26:x=Ue.memoizedState;case 5:case 27:var E=Ue;if(x?U1(x):E.stateNode.complete){it=0,Fn=null;var j=E.sibling;if(j!==null)Ue=j;else{var K=E.return;K!==null?(Ue=K,ef(K)):Ue=null}break t}}it=0,Fn=null,Bo(i,r,g,5);break;case 6:it=0,Fn=null,Bo(i,r,g,6);break;case 8:Rp(),Et=6;break e;default:throw Error(s(462))}}vN();break}catch(Z){Qb(i,Z)}while(!0);return Ss=Ra=null,J.H=u,J.A=d,Ze=o,Ue!==null?0:(ct=null,Be=0,_h(),Et)}function vN(){for(;Ue!==null&&!$e();)Zb(Ue)}function Zb(i){var r=Tb(i.alternate,i,Os);i.memoizedProps=i.pendingProps,r===null?ef(i):Ue=r}function e1(i){var r=i,o=r.alternate;switch(r.tag){case 15:case 0:r=yb(o,r,r.pendingProps,r.type,void 0,Be);break;case 11:r=yb(o,r,r.pendingProps,r.type.render,r.ref,Be);break;case 5:Hm(r);default:Sb(o,r),r=Ue=Jv(r,Os),r=Tb(o,r,Os)}i.memoizedProps=i.pendingProps,r===null?ef(i):Ue=r}function Bo(i,r,o,u){Ss=Ra=null,Hm(r),Io=null,lu=0;var d=r.return;try{if(aN(i,d,r,o,Be)){Et=1,Bh(i,ni(o,i.current)),Ue=null;return}}catch(g){if(d!==null)throw Ue=d,g;Et=1,Bh(i,ni(o,i.current)),Ue=null;return}r.flags&32768?(Ke||u===1?i=!0:Po||(Be&536870912)!==0?i=!1:(Tr=i=!0,(u===2||u===9||u===3||u===6)&&(u=zn.current,u!==null&&u.tag===13&&(u.flags|=16384))),t1(r,i)):ef(r)}function ef(i){var r=i;do{if((r.flags&32768)!==0){t1(r,Tr);return}i=r.return;var o=uN(r.alternate,r,Os);if(o!==null){Ue=o;return}if(r=r.sibling,r!==null){Ue=r;return}Ue=r=i}while(r!==null);Et===0&&(Et=5)}function t1(i,r){do{var o=cN(i.alternate,i);if(o!==null){o.flags&=32767,Ue=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(i=i.sibling,i!==null)){Ue=i;return}Ue=i=o}while(i!==null);Et=6,Ue=null}function n1(i,r,o,u,d,g,x,E,j){i.cancelPendingCommit=null;do tf();while(Yt!==0);if((Ze&6)!==0)throw Error(s(327));if(r!==null){if(r===i.current)throw Error(s(177));if(g=r.lanes|r.childLanes,g|=gm,om(i,o,g,x,E,j),i===ct&&(Ue=ct=null,Be=0),Uo=r,Ar=i,js=o,Ep=g,Sp=d,Gb=u,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,wN(ir,function(){return o1(),null})):(i.callbackNode=null,i.callbackPriority=0),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=J.T,J.T=null,d=ae.p,ae.p=2,x=Ze,Ze|=4;try{hN(i,r,o)}finally{Ze=x,ae.p=d,J.T=u}}Yt=1,i1(),s1(),r1()}}function i1(){if(Yt===1){Yt=0;var i=Ar,r=Uo,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=J.T,J.T=null;var u=ae.p;ae.p=2;var d=Ze;Ze|=4;try{Pb(r,i);var g=zp,x=Hv(i.containerInfo),E=g.focusedElem,j=g.selectionRange;if(x!==E&&E&&E.ownerDocument&&Fv(E.ownerDocument.documentElement,E)){if(j!==null&&hm(E)){var K=j.start,Z=j.end;if(Z===void 0&&(Z=K),"selectionStart"in E)E.selectionStart=K,E.selectionEnd=Math.min(Z,E.value.length);else{var ne=E.ownerDocument||document,Q=ne&&ne.defaultView||window;if(Q.getSelection){var W=Q.getSelection(),ye=E.textContent.length,we=Math.min(j.start,ye),lt=j.end===void 0?we:Math.min(j.end,ye);!W.extend&&we>lt&&(x=lt,lt=we,we=x);var H=Bv(E,we),U=Bv(E,lt);if(H&&U&&(W.rangeCount!==1||W.anchorNode!==H.node||W.anchorOffset!==H.offset||W.focusNode!==U.node||W.focusOffset!==U.offset)){var $=ne.createRange();$.setStart(H.node,H.offset),W.removeAllRanges(),we>lt?(W.addRange($),W.extend(U.node,U.offset)):($.setEnd(U.node,U.offset),W.addRange($))}}}}for(ne=[],W=E;W=W.parentNode;)W.nodeType===1&&ne.push({element:W,left:W.scrollLeft,top:W.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<ne.length;E++){var ee=ne[E];ee.element.scrollLeft=ee.left,ee.element.scrollTop=ee.top}}mf=!!Up,zp=Up=null}finally{Ze=d,ae.p=u,J.T=o}}i.current=r,Yt=2}}function s1(){if(Yt===2){Yt=0;var i=Ar,r=Uo,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=J.T,J.T=null;var u=ae.p;ae.p=2;var d=Ze;Ze|=4;try{kb(i,r.alternate,r)}finally{Ze=d,ae.p=u,J.T=o}}Yt=3}}function r1(){if(Yt===4||Yt===3){Yt=0,so();var i=Ar,r=Uo,o=js,u=Gb;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Yt=5:(Yt=0,Uo=Ar=null,a1(i,i.pendingLanes));var d=i.pendingLanes;if(d===0&&(Sr=null),_s(o),r=r.stateNode,rn&&typeof rn.onCommitFiberRoot=="function")try{rn.onCommitFiberRoot(pi,r,void 0,(r.current.flags&128)===128)}catch{}if(u!==null){r=J.T,d=ae.p,ae.p=2,J.T=null;try{for(var g=i.onRecoverableError,x=0;x<u.length;x++){var E=u[x];g(E.value,{componentStack:E.stack})}}finally{J.T=r,ae.p=d}}(js&3)!==0&&tf(),ss(i),d=i.pendingLanes,(o&261930)!==0&&(d&42)!==0?i===Ap?Su++:(Su=0,Ap=i):Su=0,Au(0)}}function a1(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,au(r)))}function tf(){return i1(),s1(),r1(),o1()}function o1(){if(Yt!==5)return!1;var i=Ar,r=Ep;Ep=0;var o=_s(js),u=J.T,d=ae.p;try{ae.p=32>o?32:o,J.T=null,o=Sp,Sp=null;var g=Ar,x=js;if(Yt=0,Uo=Ar=null,js=0,(Ze&6)!==0)throw Error(s(331));var E=Ze;if(Ze|=4,Fb(g.current),Ub(g,g.current,x,o),Ze=E,Au(0,!1),rn&&typeof rn.onPostCommitFiberRoot=="function")try{rn.onPostCommitFiberRoot(pi,g)}catch{}return!0}finally{ae.p=d,J.T=u,a1(i,r)}}function l1(i,r,o){r=ni(o,r),r=sp(i.stateNode,r,2),i=_r(i,r,2),i!==null&&(ca(i,2),ss(i))}function st(i,r,o){if(i.tag===3)l1(i,i,o);else for(;r!==null;){if(r.tag===3){l1(r,i,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Sr===null||!Sr.has(u))){i=ni(o,i),o=ub(2),u=_r(r,o,2),u!==null&&(cb(o,u,r,i),ca(u,2),ss(u));break}}r=r.return}}function Np(i,r,o){var u=i.pingCache;if(u===null){u=i.pingCache=new mN;var d=new Set;u.set(r,d)}else d=u.get(r),d===void 0&&(d=new Set,u.set(r,d));d.has(o)||(xp=!0,d.add(o),i=_N.bind(null,i,r,o),r.then(i,i))}function _N(i,r,o){var u=i.pingCache;u!==null&&u.delete(r),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,ct===i&&(Be&o)===o&&(Et===4||Et===3&&(Be&62914560)===Be&&300>Wt()-Qh?(Ze&2)===0&&zo(i,0):wp|=o,Lo===Be&&(Lo=0)),ss(i)}function u1(i,r){r===0&&(r=Wc()),i=Ea(i,r),i!==null&&(ca(i,r),ss(i))}function bN(i){var r=i.memoizedState,o=0;r!==null&&(o=r.retryLane),u1(i,o)}function xN(i,r){var o=0;switch(i.tag){case 31:case 13:var u=i.stateNode,d=i.memoizedState;d!==null&&(o=d.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(r),u1(i,o)}function wN(i,r){return xe(i,r)}var nf=null,Fo=null,Ip=!1,sf=!1,Dp=!1,Cr=0;function ss(i){i!==Fo&&i.next===null&&(Fo===null?nf=Fo=i:Fo=Fo.next=i),sf=!0,Ip||(Ip=!0,EN())}function Au(i,r){if(!Dp&&sf){Dp=!0;do for(var o=!1,u=nf;u!==null;){if(i!==0){var d=u.pendingLanes;if(d===0)var g=0;else{var x=u.suspendedLanes,E=u.pingedLanes;g=(1<<31-Nt(42|i)+1)-1,g&=d&~(x&~E),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,d1(u,g))}else g=Be,g=zi(u,u===ct?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(g&3)===0||gi(u,g)||(o=!0,d1(u,g));u=u.next}while(o);Dp=!1}}function TN(){c1()}function c1(){sf=Ip=!1;var i=0;Cr!==0&&VN()&&(i=Cr);for(var r=Wt(),o=null,u=nf;u!==null;){var d=u.next,g=h1(u,r);g===0?(u.next=null,o===null?nf=d:o.next=d,d===null&&(Fo=o)):(o=u,(i!==0||(g&3)!==0)&&(sf=!0)),u=d}Yt!==0&&Yt!==5||Au(i),Cr!==0&&(Cr=0)}function h1(i,r){for(var o=i.suspendedLanes,u=i.pingedLanes,d=i.expirationTimes,g=i.pendingLanes&-62914561;0<g;){var x=31-Nt(g),E=1<<x,j=d[x];j===-1?((E&o)===0||(E&u)!==0)&&(d[x]=am(E,r)):j<=r&&(i.expiredLanes|=E),g&=~E}if(r=ct,o=Be,o=zi(i,i===r?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u=i.callbackNode,o===0||i===r&&(it===2||it===9)||i.cancelPendingCommit!==null)return u!==null&&u!==null&&Se(u),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||gi(i,o)){if(r=o&-o,r===i.callbackPriority)return r;switch(u!==null&&Se(u),_s(o)){case 2:case 8:o=jl;break;case 32:o=ir;break;case 268435456:o=$c;break;default:o=ir}return u=f1.bind(null,i),o=xe(o,u),i.callbackPriority=r,i.callbackNode=o,r}return u!==null&&u!==null&&Se(u),i.callbackPriority=2,i.callbackNode=null,2}function f1(i,r){if(Yt!==0&&Yt!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(tf()&&i.callbackNode!==o)return null;var u=Be;return u=zi(i,i===ct?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u===0?null:(Kb(i,u,r),h1(i,Wt()),i.callbackNode!=null&&i.callbackNode===o?f1.bind(null,i):null)}function d1(i,r){if(tf())return null;Kb(i,r,!0)}function EN(){jN(function(){(Ze&6)!==0?xe(Ol,TN):c1()})}function kp(){if(Cr===0){var i=Ro;i===0&&(i=Li,Li<<=1,(Li&261888)===0&&(Li=256)),Cr=i}return Cr}function m1(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:ho(""+i)}function p1(i,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,i.id&&o.setAttribute("form",i.id),r.parentNode.insertBefore(o,r),i=new FormData(i),o.parentNode.removeChild(o),i}function SN(i,r,o,u,d){if(r==="submit"&&o&&o.stateNode===d){var g=m1((d[Jt]||null).action),x=u.submitter;x&&(r=(r=x[Jt]||null)?m1(r.formAction):x.getAttribute("formAction"),r!==null&&(g=r,x=null));var E=new Wi("action","action",null,u,d);i.push({event:E,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Cr!==0){var j=x?p1(d,x):new FormData(d);Jm(o,{pending:!0,data:j,method:d.method,action:g},null,j)}}else typeof g=="function"&&(E.preventDefault(),j=x?p1(d,x):new FormData(d),Jm(o,{pending:!0,data:j,method:d.method,action:g},g,j))},currentTarget:d}]})}}for(var Mp=0;Mp<pm.length;Mp++){var Vp=pm[Mp],AN=Vp.toLowerCase(),RN=Vp[0].toUpperCase()+Vp.slice(1);Ei(AN,"on"+RN)}Ei($v,"onAnimationEnd"),Ei(Kv,"onAnimationIteration"),Ei(Yv,"onAnimationStart"),Ei("dblclick","onDoubleClick"),Ei("focusin","onFocus"),Ei("focusout","onBlur"),Ei(HC,"onTransitionRun"),Ei(qC,"onTransitionStart"),Ei(GC,"onTransitionCancel"),Ei(Qv,"onTransitionEnd"),Ki("onMouseEnter",["mouseout","mouseover"]),Ki("onMouseLeave",["mouseout","mouseover"]),Ki("onPointerEnter",["pointerout","pointerover"]),Ki("onPointerLeave",["pointerout","pointerover"]),$i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),$i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),$i("onBeforeInput",["compositionend","keypress","textInput","paste"]),$i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),$i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),$i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ru="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),CN=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ru));function g1(i,r){r=(r&4)!==0;for(var o=0;o<i.length;o++){var u=i[o],d=u.event;u=u.listeners;e:{var g=void 0;if(r)for(var x=u.length-1;0<=x;x--){var E=u[x],j=E.instance,K=E.currentTarget;if(E=E.listener,j!==g&&d.isPropagationStopped())break e;g=E,d.currentTarget=K;try{g(d)}catch(Z){vh(Z)}d.currentTarget=null,g=j}else for(x=0;x<u.length;x++){if(E=u[x],j=E.instance,K=E.currentTarget,E=E.listener,j!==g&&d.isPropagationStopped())break e;g=E,d.currentTarget=K;try{g(d)}catch(Z){vh(Z)}d.currentTarget=null,g=j}}}}function ze(i,r){var o=r[ao];o===void 0&&(o=r[ao]=new Set);var u=i+"__bubble";o.has(u)||(y1(r,i,2,!1),o.add(u))}function Op(i,r,o){var u=0;r&&(u|=4),y1(o,i,u,r)}var rf="_reactListening"+Math.random().toString(36).slice(2);function jp(i){if(!i[rf]){i[rf]=!0,Ul.forEach(function(o){o!=="selectionchange"&&(CN.has(o)||Op(o,!1,i),Op(o,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[rf]||(r[rf]=!0,Op("selectionchange",!1,r))}}function y1(i,r,o,u){switch($1(r)){case 2:var d=nI;break;case 8:d=iI;break;default:d=Wp}o=d.bind(null,r,o,i),d=void 0,!ga||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(d=!0),u?d!==void 0?i.addEventListener(r,o,{capture:!0,passive:d}):i.addEventListener(r,o,!0):d!==void 0?i.addEventListener(r,o,{passive:d}):i.addEventListener(r,o,!1)}function Pp(i,r,o,u,d){var g=u;if((r&1)===0&&(r&2)===0&&u!==null)e:for(;;){if(u===null)return;var x=u.tag;if(x===3||x===4){var E=u.stateNode.containerInfo;if(E===d)break;if(x===4)for(x=u.return;x!==null;){var j=x.tag;if((j===3||j===4)&&x.stateNode.containerInfo===d)return;x=x.return}for(;E!==null;){if(x=qi(E),x===null)return;if(j=x.tag,j===5||j===6||j===26||j===27){u=g=x;continue e}E=E.parentNode}}u=u.return}ur(function(){var K=g,Z=Jn(o),ne=[];e:{var Q=Xv.get(i);if(Q!==void 0){var W=Wi,ye=i;switch(i){case"keypress":if(va(o)===0)break e;case"keydown":case"keyup":W=ph;break;case"focusin":ye="focus",W=ba;break;case"focusout":ye="blur",W=ba;break;case"beforeblur":case"afterblur":W=ba;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=Jl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=ah;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=b;break;case $v:case Kv:case Yv:W=lh;break;case Qv:W=R;break;case"scroll":case"scrollend":W=Wl;break;case"wheel":W=X;break;case"copy":case"cut":case"paste":W=uh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=ws;break;case"toggle":case"beforetoggle":W=Ve}var we=(r&4)!==0,lt=!we&&(i==="scroll"||i==="scrollend"),H=we?Q!==null?Q+"Capture":null:Q;we=[];for(var U=K,$;U!==null;){var ee=U;if($=ee.stateNode,ee=ee.tag,ee!==5&&ee!==26&&ee!==27||$===null||H===null||(ee=bi(U,H),ee!=null&&we.push(Cu(U,ee,$))),lt)break;U=U.return}0<we.length&&(Q=new W(Q,ye,null,o,Z),ne.push({event:Q,listeners:we}))}}if((r&7)===0){e:{if(Q=i==="mouseover"||i==="pointerover",W=i==="mouseout"||i==="pointerout",Q&&o!==Yl&&(ye=o.relatedTarget||o.fromElement)&&(qi(ye)||ye[Fi]))break e;if((W||Q)&&(Q=Z.window===Z?Z:(Q=Z.ownerDocument)?Q.defaultView||Q.parentWindow:window,W?(ye=o.relatedTarget||o.toElement,W=K,ye=ye?qi(ye):null,ye!==null&&(lt=l(ye),we=ye.tag,ye!==lt||we!==5&&we!==27&&we!==6)&&(ye=null)):(W=null,ye=K),W!==ye)){if(we=Jl,ee="onMouseLeave",H="onMouseEnter",U="mouse",(i==="pointerout"||i==="pointerover")&&(we=ws,ee="onPointerLeave",H="onPointerEnter",U="pointer"),lt=W==null?Q:jn(W),$=ye==null?Q:jn(ye),Q=new we(ee,U+"leave",W,o,Z),Q.target=lt,Q.relatedTarget=$,ee=null,qi(Z)===K&&(we=new we(H,U+"enter",ye,o,Z),we.target=$,we.relatedTarget=lt,ee=we),lt=ee,W&&ye)t:{for(we=NN,H=W,U=ye,$=0,ee=H;ee;ee=we(ee))$++;ee=0;for(var _e=U;_e;_e=we(_e))ee++;for(;0<$-ee;)H=we(H),$--;for(;0<ee-$;)U=we(U),ee--;for(;$--;){if(H===U||U!==null&&H===U.alternate){we=H;break t}H=we(H),U=we(U)}we=null}else we=null;W!==null&&v1(ne,Q,W,we,!1),ye!==null&&lt!==null&&v1(ne,lt,ye,we,!0)}}e:{if(Q=K?jn(K):window,W=Q.nodeName&&Q.nodeName.toLowerCase(),W==="select"||W==="input"&&Q.type==="file")var Xe=Ov;else if(Mv(Q))if(jv)Xe=zC;else{Xe=LC;var ve=PC}else W=Q.nodeName,!W||W.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?K&&co(K.elementType)&&(Xe=Ov):Xe=UC;if(Xe&&(Xe=Xe(i,K))){Vv(ne,Xe,o,Z);break e}ve&&ve(i,Q,K),i==="focusout"&&K&&Q.type==="number"&&K.memoizedProps.value!=null&&Gl(Q,"number",Q.value)}switch(ve=K?jn(K):window,i){case"focusin":(Mv(ve)||ve.contentEditable==="true")&&(_o=ve,fm=K,iu=null);break;case"focusout":iu=fm=_o=null;break;case"mousedown":dm=!0;break;case"contextmenu":case"mouseup":case"dragend":dm=!1,qv(ne,o,Z);break;case"selectionchange":if(FC)break;case"keydown":case"keyup":qv(ne,o,Z)}var Le;if(Je)e:{switch(i){case"compositionstart":var Fe="onCompositionStart";break e;case"compositionend":Fe="onCompositionEnd";break e;case"compositionupdate":Fe="onCompositionUpdate";break e}Fe=void 0}else vo?xa(i,o)&&(Fe="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(Fe="onCompositionStart");Fe&&(es&&o.locale!=="ko"&&(vo||Fe!=="onCompositionStart"?Fe==="onCompositionEnd"&&vo&&(Le=Xl()):(Xi=Z,Ql="value"in Xi?Xi.value:Xi.textContent,vo=!0)),ve=af(K,Fe),0<ve.length&&(Fe=new Zi(Fe,i,null,o,Z),ne.push({event:Fe,listeners:ve}),Le?Fe.data=Le:(Le=yo(o),Le!==null&&(Fe.data=Le)))),(Le=ei?MC(i,o):VC(i,o))&&(Fe=af(K,"onBeforeInput"),0<Fe.length&&(ve=new Zi("onBeforeInput","beforeinput",null,o,Z),ne.push({event:ve,listeners:Fe}),ve.data=Le)),SN(ne,i,K,o,Z)}g1(ne,r)})}function Cu(i,r,o){return{instance:i,listener:r,currentTarget:o}}function af(i,r){for(var o=r+"Capture",u=[];i!==null;){var d=i,g=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||g===null||(d=bi(i,o),d!=null&&u.unshift(Cu(i,d,g)),d=bi(i,r),d!=null&&u.push(Cu(i,d,g))),i.tag===3)return u;i=i.return}return[]}function NN(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function v1(i,r,o,u,d){for(var g=r._reactName,x=[];o!==null&&o!==u;){var E=o,j=E.alternate,K=E.stateNode;if(E=E.tag,j!==null&&j===u)break;E!==5&&E!==26&&E!==27||K===null||(j=K,d?(K=bi(o,g),K!=null&&x.unshift(Cu(o,K,j))):d||(K=bi(o,g),K!=null&&x.push(Cu(o,K,j)))),o=o.return}x.length!==0&&i.push({event:r,listeners:x})}var IN=/\r\n?/g,DN=/\u0000|\uFFFD/g;function _1(i){return(typeof i=="string"?i:""+i).replace(IN,`
`).replace(DN,"")}function b1(i,r){return r=_1(r),_1(i)===r}function ot(i,r,o,u,d,g){switch(o){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||An(i,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&An(i,""+u);break;case"className":Pn(i,"class",u);break;case"tabIndex":Pn(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Pn(i,o,u);break;case"style":Kl(i,u,g);break;case"data":if(r!=="object"){Pn(i,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||o!=="href")){i.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=ho(""+u),i.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(r!=="input"&&ot(i,r,"name",d.name,d,null),ot(i,r,"formEncType",d.formEncType,d,null),ot(i,r,"formMethod",d.formMethod,d,null),ot(i,r,"formTarget",d.formTarget,d,null)):(ot(i,r,"encType",d.encType,d,null),ot(i,r,"method",d.method,d,null),ot(i,r,"target",d.target,d,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=ho(""+u),i.setAttribute(o,u);break;case"onClick":u!=null&&(i.onclick=_i);break;case"onScroll":u!=null&&ze("scroll",i);break;case"onScrollEnd":u!=null&&ze("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(d.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}o=ho(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""+u):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":u===!0?i.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,u):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(o,u):i.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(o):i.setAttribute(o,u);break;case"popover":ze("beforetoggle",i),ze("toggle",i),lo(i,"popover",u);break;case"xlinkActuate":Ut(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Ut(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Ut(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Ut(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Ut(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Ut(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Ut(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Ut(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Ut(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":lo(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=rh.get(o)||o,lo(i,o,u))}}function Lp(i,r,o,u,d,g){switch(o){case"style":Kl(i,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(d.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"children":typeof u=="string"?An(i,u):(typeof u=="number"||typeof u=="bigint")&&An(i,""+u);break;case"onScroll":u!=null&&ze("scroll",i);break;case"onScrollEnd":u!=null&&ze("scrollend",i);break;case"onClick":u!=null&&(i.onclick=_i);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!zl.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(d=o.endsWith("Capture"),r=o.slice(2,d?o.length-7:void 0),g=i[Jt]||null,g=g!=null?g[o]:null,typeof g=="function"&&i.removeEventListener(r,g,d),typeof u=="function")){typeof g!="function"&&g!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(r,u,d);break e}o in i?i[o]=u:u===!0?i.setAttribute(o,""):lo(i,o,u)}}}function cn(i,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ze("error",i),ze("load",i);var u=!1,d=!1,g;for(g in o)if(o.hasOwnProperty(g)){var x=o[g];if(x!=null)switch(g){case"src":u=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:ot(i,r,g,x,o,null)}}d&&ot(i,r,"srcSet",o.srcSet,o,null),u&&ot(i,r,"src",o.src,o,null);return;case"input":ze("invalid",i);var E=g=x=d=null,j=null,K=null;for(u in o)if(o.hasOwnProperty(u)){var Z=o[u];if(Z!=null)switch(u){case"name":d=Z;break;case"type":x=Z;break;case"checked":j=Z;break;case"defaultChecked":K=Z;break;case"value":g=Z;break;case"defaultValue":E=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(s(137,r));break;default:ot(i,r,u,Z,o,null)}}nh(i,g,E,j,K,x,d,!1);return;case"select":ze("invalid",i),u=x=g=null;for(d in o)if(o.hasOwnProperty(d)&&(E=o[d],E!=null))switch(d){case"value":g=E;break;case"defaultValue":x=E;break;case"multiple":u=E;default:ot(i,r,d,E,o,null)}r=g,o=x,i.multiple=!!u,r!=null?rr(i,!!u,r,!1):o!=null&&rr(i,!!u,o,!0);return;case"textarea":ze("invalid",i),g=d=u=null;for(x in o)if(o.hasOwnProperty(x)&&(E=o[x],E!=null))switch(x){case"value":u=E;break;case"defaultValue":d=E;break;case"children":g=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:ot(i,r,x,E,o,null)}ar(i,u,d,g);return;case"option":for(j in o)if(o.hasOwnProperty(j)&&(u=o[j],u!=null))switch(j){case"selected":i.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:ot(i,r,j,u,o,null)}return;case"dialog":ze("beforetoggle",i),ze("toggle",i),ze("cancel",i),ze("close",i);break;case"iframe":case"object":ze("load",i);break;case"video":case"audio":for(u=0;u<Ru.length;u++)ze(Ru[u],i);break;case"image":ze("error",i),ze("load",i);break;case"details":ze("toggle",i);break;case"embed":case"source":case"link":ze("error",i),ze("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in o)if(o.hasOwnProperty(K)&&(u=o[K],u!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:ot(i,r,K,u,o,null)}return;default:if(co(r)){for(Z in o)o.hasOwnProperty(Z)&&(u=o[Z],u!==void 0&&Lp(i,r,Z,u,o,void 0));return}}for(E in o)o.hasOwnProperty(E)&&(u=o[E],u!=null&&ot(i,r,E,u,o,null))}function kN(i,r,o,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,g=null,x=null,E=null,j=null,K=null,Z=null;for(W in o){var ne=o[W];if(o.hasOwnProperty(W)&&ne!=null)switch(W){case"checked":break;case"value":break;case"defaultValue":j=ne;default:u.hasOwnProperty(W)||ot(i,r,W,null,u,ne)}}for(var Q in u){var W=u[Q];if(ne=o[Q],u.hasOwnProperty(Q)&&(W!=null||ne!=null))switch(Q){case"type":g=W;break;case"name":d=W;break;case"checked":K=W;break;case"defaultChecked":Z=W;break;case"value":x=W;break;case"defaultValue":E=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,r));break;default:W!==ne&&ot(i,r,Q,W,u,ne)}}uo(i,x,E,j,K,Z,g,d);return;case"select":W=x=E=Q=null;for(g in o)if(j=o[g],o.hasOwnProperty(g)&&j!=null)switch(g){case"value":break;case"multiple":W=j;default:u.hasOwnProperty(g)||ot(i,r,g,null,u,j)}for(d in u)if(g=u[d],j=o[d],u.hasOwnProperty(d)&&(g!=null||j!=null))switch(d){case"value":Q=g;break;case"defaultValue":E=g;break;case"multiple":x=g;default:g!==j&&ot(i,r,d,g,u,j)}r=E,o=x,u=W,Q!=null?rr(i,!!o,Q,!1):!!u!=!!o&&(r!=null?rr(i,!!o,r,!0):rr(i,!!o,o?[]:"",!1));return;case"textarea":W=Q=null;for(E in o)if(d=o[E],o.hasOwnProperty(E)&&d!=null&&!u.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:ot(i,r,E,null,u,d)}for(x in u)if(d=u[x],g=o[x],u.hasOwnProperty(x)&&(d!=null||g!=null))switch(x){case"value":Q=d;break;case"defaultValue":W=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(s(91));break;default:d!==g&&ot(i,r,x,d,u,g)}ih(i,Q,W);return;case"option":for(var ye in o)if(Q=o[ye],o.hasOwnProperty(ye)&&Q!=null&&!u.hasOwnProperty(ye))switch(ye){case"selected":i.selected=!1;break;default:ot(i,r,ye,null,u,Q)}for(j in u)if(Q=u[j],W=o[j],u.hasOwnProperty(j)&&Q!==W&&(Q!=null||W!=null))switch(j){case"selected":i.selected=Q&&typeof Q!="function"&&typeof Q!="symbol";break;default:ot(i,r,j,Q,u,W)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var we in o)Q=o[we],o.hasOwnProperty(we)&&Q!=null&&!u.hasOwnProperty(we)&&ot(i,r,we,null,u,Q);for(K in u)if(Q=u[K],W=o[K],u.hasOwnProperty(K)&&Q!==W&&(Q!=null||W!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,r));break;default:ot(i,r,K,Q,u,W)}return;default:if(co(r)){for(var lt in o)Q=o[lt],o.hasOwnProperty(lt)&&Q!==void 0&&!u.hasOwnProperty(lt)&&Lp(i,r,lt,void 0,u,Q);for(Z in u)Q=u[Z],W=o[Z],!u.hasOwnProperty(Z)||Q===W||Q===void 0&&W===void 0||Lp(i,r,Z,Q,u,W);return}}for(var H in o)Q=o[H],o.hasOwnProperty(H)&&Q!=null&&!u.hasOwnProperty(H)&&ot(i,r,H,null,u,Q);for(ne in u)Q=u[ne],W=o[ne],!u.hasOwnProperty(ne)||Q===W||Q==null&&W==null||ot(i,r,ne,Q,u,W)}function x1(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function MN(){if(typeof performance.getEntriesByType=="function"){for(var i=0,r=0,o=performance.getEntriesByType("resource"),u=0;u<o.length;u++){var d=o[u],g=d.transferSize,x=d.initiatorType,E=d.duration;if(g&&E&&x1(x)){for(x=0,E=d.responseEnd,u+=1;u<o.length;u++){var j=o[u],K=j.startTime;if(K>E)break;var Z=j.transferSize,ne=j.initiatorType;Z&&x1(ne)&&(j=j.responseEnd,x+=Z*(j<E?1:(E-K)/(j-K)))}if(--u,r+=8*(g+x)/(d.duration/1e3),i++,10<i)break}}if(0<i)return r/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Up=null,zp=null;function of(i){return i.nodeType===9?i:i.ownerDocument}function w1(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function T1(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function Bp(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Fp=null;function VN(){var i=window.event;return i&&i.type==="popstate"?i===Fp?!1:(Fp=i,!0):(Fp=null,!1)}var E1=typeof setTimeout=="function"?setTimeout:void 0,ON=typeof clearTimeout=="function"?clearTimeout:void 0,S1=typeof Promise=="function"?Promise:void 0,jN=typeof queueMicrotask=="function"?queueMicrotask:typeof S1<"u"?function(i){return S1.resolve(null).then(i).catch(PN)}:E1;function PN(i){setTimeout(function(){throw i})}function Nr(i){return i==="head"}function A1(i,r){var o=r,u=0;do{var d=o.nextSibling;if(i.removeChild(o),d&&d.nodeType===8)if(o=d.data,o==="/$"||o==="/&"){if(u===0){i.removeChild(d),$o(r);return}u--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")u++;else if(o==="html")Nu(i.ownerDocument.documentElement);else if(o==="head"){o=i.ownerDocument.head,Nu(o);for(var g=o.firstChild;g;){var x=g.nextSibling,E=g.nodeName;g[Hi]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&g.rel.toLowerCase()==="stylesheet"||o.removeChild(g),g=x}}else o==="body"&&Nu(i.ownerDocument.body);o=d}while(o);$o(r)}function R1(i,r){var o=i;i=0;do{var u=o.nextSibling;if(o.nodeType===1?r?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(r?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),u&&u.nodeType===8)if(o=u.data,o==="/$"){if(i===0)break;i--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||i++;o=u}while(o)}function Hp(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Hp(o),oo(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function LN(i,r,o,u){for(;i.nodeType===1;){var d=o;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[Hi])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(g=i.getAttribute("rel"),g==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(g!==d.rel||i.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||i.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||i.getAttribute("title")!==(d.title==null?null:d.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(g=i.getAttribute("src"),(g!==(d.src==null?null:d.src)||i.getAttribute("type")!==(d.type==null?null:d.type)||i.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&g&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var g=d.name==null?null:""+d.name;if(d.type==="hidden"&&i.getAttribute("name")===g)return i}else return i;if(i=oi(i.nextSibling),i===null)break}return null}function UN(i,r,o){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=oi(i.nextSibling),i===null))return null;return i}function C1(i,r){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!r||(i=oi(i.nextSibling),i===null))return null;return i}function qp(i){return i.data==="$?"||i.data==="$~"}function Gp(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function zN(i,r){var o=i.ownerDocument;if(i.data==="$~")i._reactRetry=r;else if(i.data!=="$?"||o.readyState!=="loading")r();else{var u=function(){r(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),i._reactRetry=u}}function oi(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return i}var $p=null;function N1(i){i=i.nextSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="/$"||o==="/&"){if(r===0)return oi(i.nextSibling);r--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||r++}i=i.nextSibling}return null}function I1(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(r===0)return i;r--}else o!=="/$"&&o!=="/&"||r++}i=i.previousSibling}return null}function D1(i,r,o){switch(r=of(o),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function Nu(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);oo(i)}var li=new Map,k1=new Set;function lf(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Ps=ae.d;ae.d={f:BN,r:FN,D:HN,C:qN,L:GN,m:$N,X:YN,S:KN,M:QN};function BN(){var i=Ps.f(),r=Jh();return i||r}function FN(i){var r=Wn(i);r!==null&&r.tag===5&&r.type==="form"?Q_(r):Ps.r(i)}var Ho=typeof document>"u"?null:document;function M1(i,r,o){var u=Ho;if(u&&typeof r=="string"&&r){var d=Sn(r);d='link[rel="'+i+'"][href="'+d+'"]',typeof o=="string"&&(d+='[crossorigin="'+o+'"]'),k1.has(d)||(k1.add(d),i={rel:i,crossOrigin:o,href:r},u.querySelector(d)===null&&(r=u.createElement("link"),cn(r,"link",i),Lt(r),u.head.appendChild(r)))}}function HN(i){Ps.D(i),M1("dns-prefetch",i,null)}function qN(i,r){Ps.C(i,r),M1("preconnect",i,r)}function GN(i,r,o){Ps.L(i,r,o);var u=Ho;if(u&&i&&r){var d='link[rel="preload"][as="'+Sn(r)+'"]';r==="image"&&o&&o.imageSrcSet?(d+='[imagesrcset="'+Sn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(d+='[imagesizes="'+Sn(o.imageSizes)+'"]')):d+='[href="'+Sn(i)+'"]';var g=d;switch(r){case"style":g=qo(i);break;case"script":g=Go(i)}li.has(g)||(i=_({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:i,as:r},o),li.set(g,i),u.querySelector(d)!==null||r==="style"&&u.querySelector(Iu(g))||r==="script"&&u.querySelector(Du(g))||(r=u.createElement("link"),cn(r,"link",i),Lt(r),u.head.appendChild(r)))}}function $N(i,r){Ps.m(i,r);var o=Ho;if(o&&i){var u=r&&typeof r.as=="string"?r.as:"script",d='link[rel="modulepreload"][as="'+Sn(u)+'"][href="'+Sn(i)+'"]',g=d;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Go(i)}if(!li.has(g)&&(i=_({rel:"modulepreload",href:i},r),li.set(g,i),o.querySelector(d)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Du(g)))return}u=o.createElement("link"),cn(u,"link",i),Lt(u),o.head.appendChild(u)}}}function KN(i,r,o){Ps.S(i,r,o);var u=Ho;if(u&&i){var d=Gi(u).hoistableStyles,g=qo(i);r=r||"default";var x=d.get(g);if(!x){var E={loading:0,preload:null};if(x=u.querySelector(Iu(g)))E.loading=5;else{i=_({rel:"stylesheet",href:i,"data-precedence":r},o),(o=li.get(g))&&Kp(i,o);var j=x=u.createElement("link");Lt(j),cn(j,"link",i),j._p=new Promise(function(K,Z){j.onload=K,j.onerror=Z}),j.addEventListener("load",function(){E.loading|=1}),j.addEventListener("error",function(){E.loading|=2}),E.loading|=4,uf(x,r,u)}x={type:"stylesheet",instance:x,count:1,state:E},d.set(g,x)}}}function YN(i,r){Ps.X(i,r);var o=Ho;if(o&&i){var u=Gi(o).hoistableScripts,d=Go(i),g=u.get(d);g||(g=o.querySelector(Du(d)),g||(i=_({src:i,async:!0},r),(r=li.get(d))&&Yp(i,r),g=o.createElement("script"),Lt(g),cn(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(d,g))}}function QN(i,r){Ps.M(i,r);var o=Ho;if(o&&i){var u=Gi(o).hoistableScripts,d=Go(i),g=u.get(d);g||(g=o.querySelector(Du(d)),g||(i=_({src:i,async:!0,type:"module"},r),(r=li.get(d))&&Yp(i,r),g=o.createElement("script"),Lt(g),cn(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(d,g))}}function V1(i,r,o,u){var d=(d=Me.current)?lf(d):null;if(!d)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=qo(o.href),o=Gi(d).hoistableStyles,u=o.get(r),u||(u={type:"style",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=qo(o.href);var g=Gi(d).hoistableStyles,x=g.get(i);if(x||(d=d.ownerDocument||d,x={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(i,x),(g=d.querySelector(Iu(i)))&&!g._p&&(x.instance=g,x.state.loading=5),li.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},li.set(i,o),g||XN(d,i,o,x.state))),r&&u===null)throw Error(s(528,""));return x}if(r&&u!==null)throw Error(s(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Go(o),o=Gi(d).hoistableScripts,u=o.get(r),u||(u={type:"script",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function qo(i){return'href="'+Sn(i)+'"'}function Iu(i){return'link[rel="stylesheet"]['+i+"]"}function O1(i){return _({},i,{"data-precedence":i.precedence,precedence:null})}function XN(i,r,o,u){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=i.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),cn(r,"link",o),Lt(r),i.head.appendChild(r))}function Go(i){return'[src="'+Sn(i)+'"]'}function Du(i){return"script[async]"+i}function j1(i,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var u=i.querySelector('style[data-href~="'+Sn(o.href)+'"]');if(u)return r.instance=u,Lt(u),u;var d=_({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),Lt(u),cn(u,"style",d),uf(u,o.precedence,i),r.instance=u;case"stylesheet":d=qo(o.href);var g=i.querySelector(Iu(d));if(g)return r.state.loading|=4,r.instance=g,Lt(g),g;u=O1(o),(d=li.get(d))&&Kp(u,d),g=(i.ownerDocument||i).createElement("link"),Lt(g);var x=g;return x._p=new Promise(function(E,j){x.onload=E,x.onerror=j}),cn(g,"link",u),r.state.loading|=4,uf(g,o.precedence,i),r.instance=g;case"script":return g=Go(o.src),(d=i.querySelector(Du(g)))?(r.instance=d,Lt(d),d):(u=o,(d=li.get(g))&&(u=_({},o),Yp(u,d)),i=i.ownerDocument||i,d=i.createElement("script"),Lt(d),cn(d,"link",u),i.head.appendChild(d),r.instance=d);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,uf(u,o.precedence,i));return r.instance}function uf(i,r,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=u.length?u[u.length-1]:null,g=d,x=0;x<u.length;x++){var E=u[x];if(E.dataset.precedence===r)g=E;else if(g!==d)break}g?g.parentNode.insertBefore(i,g.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(i,r.firstChild))}function Kp(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function Yp(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var cf=null;function P1(i,r,o){if(cf===null){var u=new Map,d=cf=new Map;d.set(o,u)}else d=cf,u=d.get(o),u||(u=new Map,d.set(o,u));if(u.has(i))return u;for(u.set(i,null),o=o.getElementsByTagName(i),d=0;d<o.length;d++){var g=o[d];if(!(g[Hi]||g[Pt]||i==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var x=g.getAttribute(r)||"";x=i+x;var E=u.get(x);E?E.push(g):u.set(x,[g])}}return u}function L1(i,r,o){i=i.ownerDocument||i,i.head.insertBefore(o,r==="title"?i.querySelector("head > title"):null)}function WN(i,r,o){if(o===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return i=r.disabled,typeof r.precedence=="string"&&i==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function U1(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function JN(i,r,o,u){if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var d=qo(u.href),g=r.querySelector(Iu(d));if(g){r=g._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(i.count++,i=hf.bind(i),r.then(i,i)),o.state.loading|=4,o.instance=g,Lt(g);return}g=r.ownerDocument||r,u=O1(u),(d=li.get(d))&&Kp(u,d),g=g.createElement("link"),Lt(g);var x=g;x._p=new Promise(function(E,j){x.onload=E,x.onerror=j}),cn(g,"link",u),o.instance=g}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(i.count++,o=hf.bind(i),r.addEventListener("load",o),r.addEventListener("error",o))}}var Qp=0;function ZN(i,r){return i.stylesheets&&i.count===0&&df(i,i.stylesheets),0<i.count||0<i.imgCount?function(o){var u=setTimeout(function(){if(i.stylesheets&&df(i,i.stylesheets),i.unsuspend){var g=i.unsuspend;i.unsuspend=null,g()}},6e4+r);0<i.imgBytes&&Qp===0&&(Qp=62500*MN());var d=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&df(i,i.stylesheets),i.unsuspend)){var g=i.unsuspend;i.unsuspend=null,g()}},(i.imgBytes>Qp?50:800)+r);return i.unsuspend=o,function(){i.unsuspend=null,clearTimeout(u),clearTimeout(d)}}:null}function hf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)df(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var ff=null;function df(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,ff=new Map,r.forEach(eI,i),ff=null,hf.call(i))}function eI(i,r){if(!(r.state.loading&4)){var o=ff.get(i);if(o)var u=o.get(null);else{o=new Map,ff.set(i,o);for(var d=i.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<d.length;g++){var x=d[g];(x.nodeName==="LINK"||x.getAttribute("media")!=="not all")&&(o.set(x.dataset.precedence,x),u=x)}u&&o.set(null,u)}d=r.instance,x=d.getAttribute("data-precedence"),g=o.get(x)||u,g===u&&o.set(null,d),o.set(x,d),this.count++,u=hf.bind(this),d.addEventListener("load",u),d.addEventListener("error",u),g?g.parentNode.insertBefore(d,g.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(d,i.firstChild)),r.state.loading|=4}}var ku={$$typeof:F,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function tI(i,r,o,u,d,g,x,E,j){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Bi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bi(0),this.hiddenUpdates=Bi(null),this.identifierPrefix=u,this.onUncaughtError=d,this.onCaughtError=g,this.onRecoverableError=x,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=j,this.incompleteTransitions=new Map}function z1(i,r,o,u,d,g,x,E,j,K,Z,ne){return i=new tI(i,r,o,x,j,K,Z,ne,E),r=1,g===!0&&(r|=24),g=Un(3,null,null,r),i.current=g,g.stateNode=i,r=Cm(),r.refCount++,i.pooledCache=r,r.refCount++,g.memoizedState={element:u,isDehydrated:o,cache:r},km(g),i}function B1(i){return i?(i=wo,i):wo}function F1(i,r,o,u,d,g){d=B1(d),u.context===null?u.context=d:u.pendingContext=d,u=vr(r),u.payload={element:o},g=g===void 0?null:g,g!==null&&(u.callback=g),o=_r(i,u,r),o!==null&&(Dn(o,i,r),cu(o,i,r))}function H1(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<r?o:r}}function Xp(i,r){H1(i,r),(i=i.alternate)&&H1(i,r)}function q1(i){if(i.tag===13||i.tag===31){var r=Ea(i,67108864);r!==null&&Dn(r,i,67108864),Xp(i,67108864)}}function G1(i){if(i.tag===13||i.tag===31){var r=qn();r=fa(r);var o=Ea(i,r);o!==null&&Dn(o,i,r),Xp(i,r)}}var mf=!0;function nI(i,r,o,u){var d=J.T;J.T=null;var g=ae.p;try{ae.p=2,Wp(i,r,o,u)}finally{ae.p=g,J.T=d}}function iI(i,r,o,u){var d=J.T;J.T=null;var g=ae.p;try{ae.p=8,Wp(i,r,o,u)}finally{ae.p=g,J.T=d}}function Wp(i,r,o,u){if(mf){var d=Jp(u);if(d===null)Pp(i,r,u,pf,o),K1(i,u);else if(rI(d,i,r,o,u))u.stopPropagation();else if(K1(i,u),r&4&&-1<sI.indexOf(i)){for(;d!==null;){var g=Wn(d);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var x=Ui(g.pendingLanes);if(x!==0){var E=g;for(E.pendingLanes|=2,E.entangledLanes|=2;x;){var j=1<<31-Nt(x);E.entanglements[1]|=j,x&=~j}ss(g),(Ze&6)===0&&(Xh=Wt()+500,Au(0))}}break;case 31:case 13:E=Ea(g,2),E!==null&&Dn(E,g,2),Jh(),Xp(g,2)}if(g=Jp(u),g===null&&Pp(i,r,u,pf,o),g===d)break;d=g}d!==null&&u.stopPropagation()}else Pp(i,r,u,null,o)}}function Jp(i){return i=Jn(i),Zp(i)}var pf=null;function Zp(i){if(pf=null,i=qi(i),i!==null){var r=l(i);if(r===null)i=null;else{var o=r.tag;if(o===13){if(i=c(r),i!==null)return i;i=null}else if(o===31){if(i=f(r),i!==null)return i;i=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return pf=i,null}function $1(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(wt()){case Ol:return 2;case jl:return 8;case ir:case rm:return 32;case $c:return 268435456;default:return 32}default:return 32}}var eg=!1,Ir=null,Dr=null,kr=null,Mu=new Map,Vu=new Map,Mr=[],sI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function K1(i,r){switch(i){case"focusin":case"focusout":Ir=null;break;case"dragenter":case"dragleave":Dr=null;break;case"mouseover":case"mouseout":kr=null;break;case"pointerover":case"pointerout":Mu.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vu.delete(r.pointerId)}}function Ou(i,r,o,u,d,g){return i===null||i.nativeEvent!==g?(i={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:g,targetContainers:[d]},r!==null&&(r=Wn(r),r!==null&&q1(r)),i):(i.eventSystemFlags|=u,r=i.targetContainers,d!==null&&r.indexOf(d)===-1&&r.push(d),i)}function rI(i,r,o,u,d){switch(r){case"focusin":return Ir=Ou(Ir,i,r,o,u,d),!0;case"dragenter":return Dr=Ou(Dr,i,r,o,u,d),!0;case"mouseover":return kr=Ou(kr,i,r,o,u,d),!0;case"pointerover":var g=d.pointerId;return Mu.set(g,Ou(Mu.get(g)||null,i,r,o,u,d)),!0;case"gotpointercapture":return g=d.pointerId,Vu.set(g,Ou(Vu.get(g)||null,i,r,o,u,d)),!0}return!1}function Y1(i){var r=qi(i.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=c(o),r!==null){i.blockedOn=r,yi(i.priority,function(){G1(o)});return}}else if(r===31){if(r=f(o),r!==null){i.blockedOn=r,yi(i.priority,function(){G1(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function gf(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var o=Jp(i.nativeEvent);if(o===null){o=i.nativeEvent;var u=new o.constructor(o.type,o);Yl=u,o.target.dispatchEvent(u),Yl=null}else return r=Wn(o),r!==null&&q1(r),i.blockedOn=o,!1;r.shift()}return!0}function Q1(i,r,o){gf(i)&&o.delete(r)}function aI(){eg=!1,Ir!==null&&gf(Ir)&&(Ir=null),Dr!==null&&gf(Dr)&&(Dr=null),kr!==null&&gf(kr)&&(kr=null),Mu.forEach(Q1),Vu.forEach(Q1)}function yf(i,r){i.blockedOn===r&&(i.blockedOn=null,eg||(eg=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,aI)))}var vf=null;function X1(i){vf!==i&&(vf=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){vf===i&&(vf=null);for(var r=0;r<i.length;r+=3){var o=i[r],u=i[r+1],d=i[r+2];if(typeof u!="function"){if(Zp(u||o)===null)continue;break}var g=Wn(o);g!==null&&(i.splice(r,3),r-=3,Jm(g,{pending:!0,data:d,method:o.method,action:u},u,d))}}))}function $o(i){function r(j){return yf(j,i)}Ir!==null&&yf(Ir,i),Dr!==null&&yf(Dr,i),kr!==null&&yf(kr,i),Mu.forEach(r),Vu.forEach(r);for(var o=0;o<Mr.length;o++){var u=Mr[o];u.blockedOn===i&&(u.blockedOn=null)}for(;0<Mr.length&&(o=Mr[0],o.blockedOn===null);)Y1(o),o.blockedOn===null&&Mr.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var d=o[u],g=o[u+1],x=d[Jt]||null;if(typeof g=="function")x||X1(o);else if(x){var E=null;if(g&&g.hasAttribute("formAction")){if(d=g,x=g[Jt]||null)E=x.formAction;else if(Zp(d)!==null)continue}else E=x.action;typeof E=="function"?o[u+1]=E:(o.splice(u,3),u-=3),X1(o)}}}function W1(){function i(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(x){return d=x})},focusReset:"manual",scroll:"manual"})}function r(){d!==null&&(d(),d=null),u||setTimeout(o,20)}function o(){if(!u&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,d=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(o,100),function(){u=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),d!==null&&(d(),d=null)}}}function tg(i){this._internalRoot=i}_f.prototype.render=tg.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var o=r.current,u=qn();F1(o,u,i,r,null,null)},_f.prototype.unmount=tg.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;F1(i.current,2,null,i,null,null),Jh(),r[Fi]=null}};function _f(i){this._internalRoot=i}_f.prototype.unstable_scheduleHydration=function(i){if(i){var r=Jc();i={blockedOn:null,target:i,priority:r};for(var o=0;o<Mr.length&&r!==0&&r<Mr[o].priority;o++);Mr.splice(o,0,i),o===0&&Y1(i)}};var J1=e.version;if(J1!=="19.2.3")throw Error(s(527,J1,"19.2.3"));ae.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=p(r),i=i!==null?v(i):null,i=i===null?null:i.stateNode,i};var oI={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:J,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bf.isDisabled&&bf.supportsFiber)try{pi=bf.inject(oI),rn=bf}catch{}}return Pu.createRoot=function(i,r){if(!a(i))throw Error(s(299));var o=!1,u="",d=rb,g=ab,x=ob;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(d=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(x=r.onRecoverableError)),r=z1(i,1,!1,null,null,o,u,null,d,g,x,W1),i[Fi]=r.current,jp(i),new tg(r)},Pu.hydrateRoot=function(i,r,o){if(!a(i))throw Error(s(299));var u=!1,d="",g=rb,x=ab,E=ob,j=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(x=o.onCaughtError),o.onRecoverableError!==void 0&&(E=o.onRecoverableError),o.formState!==void 0&&(j=o.formState)),r=z1(i,1,!0,r,o??null,u,d,j,g,x,E,W1),r.context=B1(null),o=r.current,u=qn(),u=fa(u),d=vr(u),d.callback=null,_r(o,d,u),o=u,r.current.lanes=o,ca(r,o),ss(r),i[Fi]=r.current,jp(i),new _f(r)},Pu.version="19.2.3",Pu}var lx;function yI(){if(lx)return sg.exports;lx=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),sg.exports=gI(),sg.exports}var vI=yI();const _I=EE(vI);/**
 * react-router v7.12.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var ux="popstate";function bI(t={}){function e(s,a){let{pathname:l,search:c,hash:f}=s.location;return Gg("",{pathname:l,search:c,hash:f},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){return typeof a=="string"?a:cc(a)}return wI(e,n,null,t)}function vt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function mi(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function xI(){return Math.random().toString(36).substring(2,10)}function cx(t,e){return{usr:t.state,key:t.key,idx:e}}function Gg(t,e,n=null,s){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?El(e):e,state:n,key:e&&e.key||s||xI()}}function cc({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function El(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substring(s),t=t.substring(0,s)),t&&(e.pathname=t)}return e}function wI(t,e,n,s={}){let{window:a=document.defaultView,v5Compat:l=!1}=s,c=a.history,f="POP",m=null,p=v();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function v(){return(c.state||{idx:null}).idx}function _(){f="POP";let O=v(),B=O==null?null:O-p;p=O,m&&m({action:f,location:M.location,delta:B})}function w(O,B){f="PUSH";let G=Gg(M.location,O,B);p=v()+1;let F=cx(G,p),oe=M.createHref(G);try{c.pushState(F,"",oe)}catch(re){if(re instanceof DOMException&&re.name==="DataCloneError")throw re;a.location.assign(oe)}l&&m&&m({action:f,location:M.location,delta:1})}function S(O,B){f="REPLACE";let G=Gg(M.location,O,B);p=v();let F=cx(G,p),oe=M.createHref(G);c.replaceState(F,"",oe),l&&m&&m({action:f,location:M.location,delta:0})}function N(O){return TI(O)}let M={get action(){return f},get location(){return t(a,c)},listen(O){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(ux,_),m=O,()=>{a.removeEventListener(ux,_),m=null}},createHref(O){return e(a,O)},createURL:N,encodeLocation(O){let B=N(O);return{pathname:B.pathname,search:B.search,hash:B.hash}},push:w,replace:S,go(O){return c.go(O)}};return M}function TI(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),vt(n,"No window.location.(origin|href) available to create URL");let s=typeof t=="string"?t:cc(t);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function SE(t,e,n="/"){return EI(t,e,n,!1)}function EI(t,e,n,s){let a=typeof e=="string"?El(e):e,l=Gs(a.pathname||"/",n);if(l==null)return null;let c=AE(t);SI(c);let f=null;for(let m=0;f==null&&m<c.length;++m){let p=jI(l);f=VI(c[m],p,s)}return f}function AE(t,e=[],n=[],s="",a=!1){let l=(c,f,m=a,p)=>{let v={relativePath:p===void 0?c.path||"":p,caseSensitive:c.caseSensitive===!0,childrenIndex:f,route:c};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(s)&&m)return;vt(v.relativePath.startsWith(s),`Absolute route path "${v.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(s.length)}let _=Fs([s,v.relativePath]),w=n.concat(v);c.children&&c.children.length>0&&(vt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),AE(c.children,e,w,_,m)),!(c.path==null&&!c.index)&&e.push({path:_,score:kI(_,c.index),routesMeta:w})};return t.forEach((c,f)=>{var m;if(c.path===""||!((m=c.path)!=null&&m.includes("?")))l(c,f);else for(let p of RE(c.path))l(c,f,!0,p)}),e}function RE(t){let e=t.split("/");if(e.length===0)return[];let[n,...s]=e,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(s.length===0)return a?[l,""]:[l];let c=RE(s.join("/")),f=[];return f.push(...c.map(m=>m===""?l:[l,m].join("/"))),a&&f.push(...c),f.map(m=>t.startsWith("/")&&m===""?"/":m)}function SI(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:MI(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var AI=/^:[\w-]+$/,RI=3,CI=2,NI=1,II=10,DI=-2,hx=t=>t==="*";function kI(t,e){let n=t.split("/"),s=n.length;return n.some(hx)&&(s+=DI),e&&(s+=CI),n.filter(a=>!hx(a)).reduce((a,l)=>a+(AI.test(l)?RI:l===""?NI:II),s)}function MI(t,e){return t.length===e.length&&t.slice(0,-1).every((s,a)=>s===e[a])?t[t.length-1]-e[e.length-1]:0}function VI(t,e,n=!1){let{routesMeta:s}=t,a={},l="/",c=[];for(let f=0;f<s.length;++f){let m=s[f],p=f===s.length-1,v=l==="/"?e:e.slice(l.length)||"/",_=ed({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},v),w=m.route;if(!_&&p&&n&&!s[s.length-1].route.index&&(_=ed({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},v)),!_)return null;Object.assign(a,_.params),c.push({params:a,pathname:Fs([l,_.pathname]),pathnameBase:zI(Fs([l,_.pathnameBase])),route:w}),_.pathnameBase!=="/"&&(l=Fs([l,_.pathnameBase]))}return c}function ed(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=OI(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),f=a.slice(1);return{params:s.reduce((p,{paramName:v,isOptional:_},w)=>{if(v==="*"){let N=f[w]||"";c=l.slice(0,l.length-N.length).replace(/(.)\/+$/,"$1")}const S=f[w];return _&&!S?p[v]=void 0:p[v]=(S||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:c,pattern:t}}function OI(t,e=!1,n=!0){mi(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let s=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,f,m)=>(s.push({paramName:f,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(s.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function jI(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return mi(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Gs(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}var CE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,PI=t=>CE.test(t);function LI(t,e="/"){let{pathname:n,search:s="",hash:a=""}=typeof t=="string"?El(t):t,l;if(n)if(PI(n))l=n;else{if(n.includes("//")){let c=n;n=n.replace(/\/\/+/g,"/"),mi(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${n}`)}n.startsWith("/")?l=fx(n.substring(1),"/"):l=fx(n,e)}else l=e;return{pathname:l,search:BI(s),hash:FI(a)}}function fx(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function lg(t,e,n,s){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function UI(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function $y(t){let e=UI(t);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function Ky(t,e,n,s=!1){let a;typeof t=="string"?a=El(t):(a={...t},vt(!a.pathname||!a.pathname.includes("?"),lg("?","pathname","search",a)),vt(!a.pathname||!a.pathname.includes("#"),lg("#","pathname","hash",a)),vt(!a.search||!a.search.includes("#"),lg("#","search","hash",a)));let l=t===""||a.pathname==="",c=l?"/":a.pathname,f;if(c==null)f=n;else{let _=e.length-1;if(!s&&c.startsWith("..")){let w=c.split("/");for(;w[0]==="..";)w.shift(),_-=1;a.pathname=w.join("/")}f=_>=0?e[_]:"/"}let m=LI(a,f),p=c&&c!=="/"&&c.endsWith("/"),v=(l||c===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(p||v)&&(m.pathname+="/"),m}var Fs=t=>t.join("/").replace(/\/\/+/g,"/"),zI=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),BI=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,FI=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,HI=class{constructor(t,e,n,s=!1){this.status=t,this.statusText=e||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function qI(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function GI(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var NE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function IE(t,e){let n=t;if(typeof n!="string"||!CE.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,a=!1;if(NE)try{let l=new URL(window.location.href),c=n.startsWith("//")?new URL(l.protocol+n):new URL(n),f=Gs(c.pathname,e);c.origin===l.origin&&f!=null?n=f+c.search+c.hash:a=!0}catch{mi(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:a,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var DE=["POST","PUT","PATCH","DELETE"];new Set(DE);var $I=["GET",...DE];new Set($I);var Sl=D.createContext(null);Sl.displayName="DataRouter";var Cd=D.createContext(null);Cd.displayName="DataRouterState";var KI=D.createContext(!1),kE=D.createContext({isTransitioning:!1});kE.displayName="ViewTransition";var YI=D.createContext(new Map);YI.displayName="Fetchers";var QI=D.createContext(null);QI.displayName="Await";var Yn=D.createContext(null);Yn.displayName="Navigation";var Ac=D.createContext(null);Ac.displayName="Location";var gs=D.createContext({outlet:null,matches:[],isDataRoute:!1});gs.displayName="Route";var Yy=D.createContext(null);Yy.displayName="RouteError";var ME="REACT_ROUTER_ERROR",XI="REDIRECT",WI="ROUTE_ERROR_RESPONSE";function JI(t){if(t.startsWith(`${ME}:${XI}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function ZI(t){if(t.startsWith(`${ME}:${WI}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new HI(e.status,e.statusText,e.data)}catch{}}function eD(t,{relative:e}={}){vt(Al(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=D.useContext(Yn),{hash:a,pathname:l,search:c}=Rc(t,{relative:e}),f=l;return n!=="/"&&(f=l==="/"?n:Fs([n,l])),s.createHref({pathname:f,search:c,hash:a})}function Al(){return D.useContext(Ac)!=null}function Js(){return vt(Al(),"useLocation() may be used only in the context of a <Router> component."),D.useContext(Ac).location}var VE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function OE(t){D.useContext(Yn).static||D.useLayoutEffect(t)}function Nd(){let{isDataRoute:t}=D.useContext(gs);return t?dD():tD()}function tD(){vt(Al(),"useNavigate() may be used only in the context of a <Router> component.");let t=D.useContext(Sl),{basename:e,navigator:n}=D.useContext(Yn),{matches:s}=D.useContext(gs),{pathname:a}=Js(),l=JSON.stringify($y(s)),c=D.useRef(!1);return OE(()=>{c.current=!0}),D.useCallback((m,p={})=>{if(mi(c.current,VE),!c.current)return;if(typeof m=="number"){n.go(m);return}let v=Ky(m,JSON.parse(l),a,p.relative==="path");t==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Fs([e,v.pathname])),(p.replace?n.replace:n.push)(v,p.state,p)},[e,n,l,a,t])}D.createContext(null);function Rc(t,{relative:e}={}){let{matches:n}=D.useContext(gs),{pathname:s}=Js(),a=JSON.stringify($y(n));return D.useMemo(()=>Ky(t,JSON.parse(a),s,e==="path"),[t,a,s,e])}function nD(t,e){return jE(t,e)}function jE(t,e,n,s,a){var G;vt(Al(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=D.useContext(Yn),{matches:c}=D.useContext(gs),f=c[c.length-1],m=f?f.params:{},p=f?f.pathname:"/",v=f?f.pathnameBase:"/",_=f&&f.route;{let F=_&&_.path||"";LE(p,!_||F.endsWith("*")||F.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${F}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${F}"> to <Route path="${F==="/"?"*":`${F}/*`}">.`)}let w=Js(),S;if(e){let F=typeof e=="string"?El(e):e;vt(v==="/"||((G=F.pathname)==null?void 0:G.startsWith(v)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${F.pathname}" was given in the \`location\` prop.`),S=F}else S=w;let N=S.pathname||"/",M=N;if(v!=="/"){let F=v.replace(/^\//,"").split("/");M="/"+N.replace(/^\//,"").split("/").slice(F.length).join("/")}let O=SE(t,{pathname:M});mi(_||O!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),mi(O==null||O[O.length-1].route.element!==void 0||O[O.length-1].route.Component!==void 0||O[O.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let B=oD(O&&O.map(F=>Object.assign({},F,{params:Object.assign({},m,F.params),pathname:Fs([v,l.encodeLocation?l.encodeLocation(F.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:F.pathname]),pathnameBase:F.pathnameBase==="/"?v:Fs([v,l.encodeLocation?l.encodeLocation(F.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:F.pathnameBase])})),c,n,s,a);return e&&B?D.createElement(Ac.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},B):B}function iD(){let t=fD(),e=qI(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=D.createElement(D.Fragment,null,D.createElement("p",null," Hey developer "),D.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",D.createElement("code",{style:l},"ErrorBoundary")," or"," ",D.createElement("code",{style:l},"errorElement")," prop on your route.")),D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},e),n?D.createElement("pre",{style:a},n):null,c)}var sD=D.createElement(iD,null),PE=class extends D.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=ZI(t.digest);n&&(t=n)}let e=t!==void 0?D.createElement(gs.Provider,{value:this.props.routeContext},D.createElement(Yy.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?D.createElement(rD,{error:t},e):e}};PE.contextType=KI;var ug=new WeakMap;function rD({children:t,error:e}){let{basename:n}=D.useContext(Yn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=JI(e.digest);if(s){let a=ug.get(e);if(a)throw a;let l=IE(s.location,n);if(NE&&!ug.get(e))if(l.isExternal||s.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:s.replace}));throw ug.set(e,c),c}return D.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return t}function aD({routeContext:t,match:e,children:n}){let s=D.useContext(Sl);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),D.createElement(gs.Provider,{value:t},n)}function oD(t,e=[],n=null,s=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,c=n==null?void 0:n.errors;if(c!=null){let v=l.findIndex(_=>_.route.id&&(c==null?void 0:c[_.route.id])!==void 0);vt(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,v+1))}let f=!1,m=-1;if(n)for(let v=0;v<l.length;v++){let _=l[v];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(m=v),_.route.id){let{loaderData:w,errors:S}=n,N=_.route.loader&&!w.hasOwnProperty(_.route.id)&&(!S||S[_.route.id]===void 0);if(_.route.lazy||N){f=!0,m>=0?l=l.slice(0,m+1):l=[l[0]];break}}}let p=n&&s?(v,_)=>{var w,S;s(v,{location:n.location,params:((S=(w=n.matches)==null?void 0:w[0])==null?void 0:S.params)??{},unstable_pattern:GI(n.matches),errorInfo:_})}:void 0;return l.reduceRight((v,_,w)=>{let S,N=!1,M=null,O=null;n&&(S=c&&_.route.id?c[_.route.id]:void 0,M=_.route.errorElement||sD,f&&(m<0&&w===0?(LE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),N=!0,O=null):m===w&&(N=!0,O=_.route.hydrateFallbackElement||null)));let B=e.concat(l.slice(0,w+1)),G=()=>{let F;return S?F=M:N?F=O:_.route.Component?F=D.createElement(_.route.Component,null):_.route.element?F=_.route.element:F=v,D.createElement(aD,{match:_,routeContext:{outlet:v,matches:B,isDataRoute:n!=null},children:F})};return n&&(_.route.ErrorBoundary||_.route.errorElement||w===0)?D.createElement(PE,{location:n.location,revalidation:n.revalidation,component:M,error:S,children:G(),routeContext:{outlet:null,matches:B,isDataRoute:!0},onError:p}):G()},null)}function Qy(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function lD(t){let e=D.useContext(Sl);return vt(e,Qy(t)),e}function uD(t){let e=D.useContext(Cd);return vt(e,Qy(t)),e}function cD(t){let e=D.useContext(gs);return vt(e,Qy(t)),e}function Xy(t){let e=cD(t),n=e.matches[e.matches.length-1];return vt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function hD(){return Xy("useRouteId")}function fD(){var s;let t=D.useContext(Yy),e=uD("useRouteError"),n=Xy("useRouteError");return t!==void 0?t:(s=e.errors)==null?void 0:s[n]}function dD(){let{router:t}=lD("useNavigate"),e=Xy("useNavigate"),n=D.useRef(!1);return OE(()=>{n.current=!0}),D.useCallback(async(a,l={})=>{mi(n.current,VE),n.current&&(typeof a=="number"?await t.navigate(a):await t.navigate(a,{fromRouteId:e,...l}))},[t,e])}var dx={};function LE(t,e,n){!e&&!dx[t]&&(dx[t]=!0,mi(!1,n))}D.memo(mD);function mD({routes:t,future:e,state:n,onError:s}){return jE(t,void 0,n,s,e)}function pD({to:t,replace:e,state:n,relative:s}){vt(Al(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=D.useContext(Yn);mi(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=D.useContext(gs),{pathname:c}=Js(),f=Nd(),m=Ky(t,$y(l),c,s==="path"),p=JSON.stringify(m);return D.useEffect(()=>{f(JSON.parse(p),{replace:e,state:n,relative:s})},[f,p,s,e,n]),null}function $g(t){vt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function gD({basename:t="/",children:e=null,location:n,navigationType:s="POP",navigator:a,static:l=!1,unstable_useTransitions:c}){vt(!Al(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=t.replace(/^\/*/,"/"),m=D.useMemo(()=>({basename:f,navigator:a,static:l,unstable_useTransitions:c,future:{}}),[f,a,l,c]);typeof n=="string"&&(n=El(n));let{pathname:p="/",search:v="",hash:_="",state:w=null,key:S="default"}=n,N=D.useMemo(()=>{let M=Gs(p,f);return M==null?null:{location:{pathname:M,search:v,hash:_,state:w,key:S},navigationType:s}},[f,p,v,_,w,S,s]);return mi(N!=null,`<Router basename="${f}"> is not able to match the URL "${p}${v}${_}" because it does not start with the basename, so the <Router> won't render anything.`),N==null?null:D.createElement(Yn.Provider,{value:m},D.createElement(Ac.Provider,{children:e,value:N}))}function yD({children:t,location:e}){return nD(Kg(t),e)}function Kg(t,e=[]){let n=[];return D.Children.forEach(t,(s,a)=>{if(!D.isValidElement(s))return;let l=[...e,a];if(s.type===D.Fragment){n.push.apply(n,Kg(s.props.children,l));return}vt(s.type===$g,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),vt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let c={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=Kg(s.props.children,l)),n.push(c)}),n}var jf="get",Pf="application/x-www-form-urlencoded";function Id(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function vD(t){return Id(t)&&t.tagName.toLowerCase()==="button"}function _D(t){return Id(t)&&t.tagName.toLowerCase()==="form"}function bD(t){return Id(t)&&t.tagName.toLowerCase()==="input"}function xD(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function wD(t,e){return t.button===0&&(!e||e==="_self")&&!xD(t)}var xf=null;function TD(){if(xf===null)try{new FormData(document.createElement("form"),0),xf=!1}catch{xf=!0}return xf}var ED=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function cg(t){return t!=null&&!ED.has(t)?(mi(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Pf}"`),null):t}function SD(t,e){let n,s,a,l,c;if(_D(t)){let f=t.getAttribute("action");s=f?Gs(f,e):null,n=t.getAttribute("method")||jf,a=cg(t.getAttribute("enctype"))||Pf,l=new FormData(t)}else if(vD(t)||bD(t)&&(t.type==="submit"||t.type==="image")){let f=t.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=t.getAttribute("formaction")||f.getAttribute("action");if(s=m?Gs(m,e):null,n=t.getAttribute("formmethod")||f.getAttribute("method")||jf,a=cg(t.getAttribute("formenctype"))||cg(f.getAttribute("enctype"))||Pf,l=new FormData(f,t),!TD()){let{name:p,type:v,value:_}=t;if(v==="image"){let w=p?`${p}.`:"";l.append(`${w}x`,"0"),l.append(`${w}y`,"0")}else p&&l.append(p,_)}}else{if(Id(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=jf,s=null,a=Pf,c=t}return l&&a==="text/plain"&&(c=l,l=void 0),{action:s,method:n.toLowerCase(),encType:a,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Wy(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function AD(t,e,n,s){let a=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n?a.pathname.endsWith("/")?a.pathname=`${a.pathname}_.${s}`:a.pathname=`${a.pathname}.${s}`:a.pathname==="/"?a.pathname=`_root.${s}`:e&&Gs(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${s}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${s}`,a}async function RD(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function CD(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function ND(t,e,n){let s=await Promise.all(t.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await RD(l,n);return c.links?c.links():[]}return[]}));return MD(s.flat(1).filter(CD).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function mx(t,e,n,s,a,l){let c=(m,p)=>n[p]?m.route.id!==n[p].route.id:!0,f=(m,p)=>{var v;return n[p].pathname!==m.pathname||((v=n[p].route.path)==null?void 0:v.endsWith("*"))&&n[p].params["*"]!==m.params["*"]};return l==="assets"?e.filter((m,p)=>c(m,p)||f(m,p)):l==="data"?e.filter((m,p)=>{var _;let v=s.routes[m.route.id];if(!v||!v.hasLoader)return!1;if(c(m,p)||f(m,p))return!0;if(m.route.shouldRevalidate){let w=m.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((_=n[0])==null?void 0:_.params)||{},nextUrl:new URL(t,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function ID(t,e,{includeHydrateFallback:n}={}){return DD(t.map(s=>{let a=e.routes[s.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function DD(t){return[...new Set(t)]}function kD(t){let e={},n=Object.keys(t).sort();for(let s of n)e[s]=t[s];return e}function MD(t,e){let n=new Set;return new Set(e),t.reduce((s,a)=>{let l=JSON.stringify(kD(a));return n.has(l)||(n.add(l),s.push({key:l,link:a})),s},[])}function UE(){let t=D.useContext(Sl);return Wy(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function VD(){let t=D.useContext(Cd);return Wy(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Jy=D.createContext(void 0);Jy.displayName="FrameworkContext";function zE(){let t=D.useContext(Jy);return Wy(t,"You must render this element inside a <HydratedRouter> element"),t}function OD(t,e){let n=D.useContext(Jy),[s,a]=D.useState(!1),[l,c]=D.useState(!1),{onFocus:f,onBlur:m,onMouseEnter:p,onMouseLeave:v,onTouchStart:_}=e,w=D.useRef(null);D.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let M=B=>{B.forEach(G=>{c(G.isIntersecting)})},O=new IntersectionObserver(M,{threshold:.5});return w.current&&O.observe(w.current),()=>{O.disconnect()}}},[t]),D.useEffect(()=>{if(s){let M=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(M)}}},[s]);let S=()=>{a(!0)},N=()=>{a(!1),c(!1)};return n?t!=="intent"?[l,w,{}]:[l,w,{onFocus:Lu(f,S),onBlur:Lu(m,N),onMouseEnter:Lu(p,S),onMouseLeave:Lu(v,N),onTouchStart:Lu(_,S)}]:[!1,w,{}]}function Lu(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function jD({page:t,...e}){let{router:n}=UE(),s=D.useMemo(()=>SE(n.routes,t,n.basename),[n.routes,t,n.basename]);return s?D.createElement(LD,{page:t,matches:s,...e}):null}function PD(t){let{manifest:e,routeModules:n}=zE(),[s,a]=D.useState([]);return D.useEffect(()=>{let l=!1;return ND(t,e,n).then(c=>{l||a(c)}),()=>{l=!0}},[t,e,n]),s}function LD({page:t,matches:e,...n}){let s=Js(),{future:a,manifest:l,routeModules:c}=zE(),{basename:f}=UE(),{loaderData:m,matches:p}=VD(),v=D.useMemo(()=>mx(t,e,p,l,s,"data"),[t,e,p,l,s]),_=D.useMemo(()=>mx(t,e,p,l,s,"assets"),[t,e,p,l,s]),w=D.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let M=new Set,O=!1;if(e.forEach(G=>{var oe;let F=l.routes[G.route.id];!F||!F.hasLoader||(!v.some(re=>re.route.id===G.route.id)&&G.route.id in m&&((oe=c[G.route.id])!=null&&oe.shouldRevalidate)||F.hasClientLoader?O=!0:M.add(G.route.id))}),M.size===0)return[];let B=AD(t,f,a.unstable_trailingSlashAwareDataRequests,"data");return O&&M.size>0&&B.searchParams.set("_routes",e.filter(G=>M.has(G.route.id)).map(G=>G.route.id).join(",")),[B.pathname+B.search]},[f,a.unstable_trailingSlashAwareDataRequests,m,s,l,v,e,t,c]),S=D.useMemo(()=>ID(_,l),[_,l]),N=PD(_);return D.createElement(D.Fragment,null,w.map(M=>D.createElement("link",{key:M,rel:"prefetch",as:"fetch",href:M,...n})),S.map(M=>D.createElement("link",{key:M,rel:"modulepreload",href:M,...n})),N.map(({key:M,link:O})=>D.createElement("link",{key:M,nonce:n.nonce,...O})))}function UD(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var zD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{zD&&(window.__reactRouterVersion="7.12.0")}catch{}function BD({basename:t,children:e,unstable_useTransitions:n,window:s}){let a=D.useRef();a.current==null&&(a.current=bI({window:s,v5Compat:!0}));let l=a.current,[c,f]=D.useState({action:l.action,location:l.location}),m=D.useCallback(p=>{n===!1?f(p):D.startTransition(()=>f(p))},[n]);return D.useLayoutEffect(()=>l.listen(m),[l,m]),D.createElement(gD,{basename:t,children:e,location:c.location,navigationType:c.action,navigator:l,unstable_useTransitions:n})}var BE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,FE=D.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:a,reloadDocument:l,replace:c,state:f,target:m,to:p,preventScrollReset:v,viewTransition:_,unstable_defaultShouldRevalidate:w,...S},N){let{basename:M,unstable_useTransitions:O}=D.useContext(Yn),B=typeof p=="string"&&BE.test(p),G=IE(p,M);p=G.to;let F=eD(p,{relative:a}),[oe,re,ce]=OD(s,S),C=GD(p,{replace:c,state:f,target:m,preventScrollReset:v,relative:a,viewTransition:_,unstable_defaultShouldRevalidate:w,unstable_useTransitions:O});function A(P){e&&e(P),P.defaultPrevented||C(P)}let I=D.createElement("a",{...S,...ce,href:G.absoluteURL||F,onClick:G.isExternal||l?e:A,ref:UD(N,re),target:m,"data-discover":!B&&n==="render"?"true":void 0});return oe&&!B?D.createElement(D.Fragment,null,I,D.createElement(jD,{page:F})):I});FE.displayName="Link";var FD=D.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:a=!1,style:l,to:c,viewTransition:f,children:m,...p},v){let _=Rc(c,{relative:p.relative}),w=Js(),S=D.useContext(Cd),{navigator:N,basename:M}=D.useContext(Yn),O=S!=null&&XD(_)&&f===!0,B=N.encodeLocation?N.encodeLocation(_).pathname:_.pathname,G=w.pathname,F=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;n||(G=G.toLowerCase(),F=F?F.toLowerCase():null,B=B.toLowerCase()),F&&M&&(F=Gs(F,M)||F);const oe=B!=="/"&&B.endsWith("/")?B.length-1:B.length;let re=G===B||!a&&G.startsWith(B)&&G.charAt(oe)==="/",ce=F!=null&&(F===B||!a&&F.startsWith(B)&&F.charAt(B.length)==="/"),C={isActive:re,isPending:ce,isTransitioning:O},A=re?e:void 0,I;typeof s=="function"?I=s(C):I=[s,re?"active":null,ce?"pending":null,O?"transitioning":null].filter(Boolean).join(" ");let P=typeof l=="function"?l(C):l;return D.createElement(FE,{...p,"aria-current":A,className:I,ref:v,style:P,to:c,viewTransition:f},typeof m=="function"?m(C):m)});FD.displayName="NavLink";var HD=D.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:a,state:l,method:c=jf,action:f,onSubmit:m,relative:p,preventScrollReset:v,viewTransition:_,unstable_defaultShouldRevalidate:w,...S},N)=>{let{unstable_useTransitions:M}=D.useContext(Yn),O=YD(),B=QD(f,{relative:p}),G=c.toLowerCase()==="get"?"get":"post",F=typeof f=="string"&&BE.test(f),oe=re=>{if(m&&m(re),re.defaultPrevented)return;re.preventDefault();let ce=re.nativeEvent.submitter,C=(ce==null?void 0:ce.getAttribute("formmethod"))||c,A=()=>O(ce||re.currentTarget,{fetcherKey:e,method:C,navigate:n,replace:a,state:l,relative:p,preventScrollReset:v,viewTransition:_,unstable_defaultShouldRevalidate:w});M&&n!==!1?D.startTransition(()=>A()):A()};return D.createElement("form",{ref:N,method:G,action:B,onSubmit:s?m:oe,...S,"data-discover":!F&&t==="render"?"true":void 0})});HD.displayName="Form";function qD(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function HE(t){let e=D.useContext(Sl);return vt(e,qD(t)),e}function GD(t,{target:e,replace:n,state:s,preventScrollReset:a,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:f,unstable_useTransitions:m}={}){let p=Nd(),v=Js(),_=Rc(t,{relative:l});return D.useCallback(w=>{if(wD(w,e)){w.preventDefault();let S=n!==void 0?n:cc(v)===cc(_),N=()=>p(t,{replace:S,state:s,preventScrollReset:a,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:f});m?D.startTransition(()=>N()):N()}},[v,p,_,n,s,e,t,a,l,c,f,m])}var $D=0,KD=()=>`__${String(++$D)}__`;function YD(){let{router:t}=HE("useSubmit"),{basename:e}=D.useContext(Yn),n=hD(),s=t.fetch,a=t.navigate;return D.useCallback(async(l,c={})=>{let{action:f,method:m,encType:p,formData:v,body:_}=SD(l,e);if(c.navigate===!1){let w=c.fetcherKey||KD();await s(w,n,c.action||f,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:v,body:_,formMethod:c.method||m,formEncType:c.encType||p,flushSync:c.flushSync})}else await a(c.action||f,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:v,body:_,formMethod:c.method||m,formEncType:c.encType||p,replace:c.replace,state:c.state,fromRouteId:n,flushSync:c.flushSync,viewTransition:c.viewTransition})},[s,a,e,n])}function QD(t,{relative:e}={}){let{basename:n}=D.useContext(Yn),s=D.useContext(gs);vt(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),l={...Rc(t||".",{relative:e})},c=Js();if(t==null){l.search=c.search;let f=new URLSearchParams(l.search),m=f.getAll("index");if(m.some(v=>v==="")){f.delete("index"),m.filter(_=>_).forEach(_=>f.append("index",_));let v=f.toString();l.search=v?`?${v}`:""}}return(!t||t===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:Fs([n,l.pathname])),cc(l)}function XD(t,{relative:e}={}){let n=D.useContext(kE);vt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=HE("useViewTransitionState"),a=Rc(t,{relative:e});if(!n.isTransitioning)return!1;let l=Gs(n.currentLocation.pathname,s)||n.currentLocation.pathname,c=Gs(n.nextLocation.pathname,s)||n.nextLocation.pathname;return ed(a.pathname,c)!=null||ed(a.pathname,l)!=null}const WD=()=>{};var px={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qE=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let a=t.charCodeAt(s);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},JD=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const a=t[n++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[s++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],c=t[n++],f=t[n++],m=((a&7)<<18|(l&63)<<12|(c&63)<<6|f&63)-65536;e[s++]=String.fromCharCode(55296+(m>>10)),e[s++]=String.fromCharCode(56320+(m&1023))}else{const l=t[n++],c=t[n++];e[s++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},GE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<t.length;a+=3){const l=t[a],c=a+1<t.length,f=c?t[a+1]:0,m=a+2<t.length,p=m?t[a+2]:0,v=l>>2,_=(l&3)<<4|f>>4;let w=(f&15)<<2|p>>6,S=p&63;m||(S=64,c||(w=64)),s.push(n[v],n[_],n[w],n[S])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(qE(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):JD(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],f=a<t.length?n[t.charAt(a)]:0;++a;const p=a<t.length?n[t.charAt(a)]:64;++a;const _=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||f==null||p==null||_==null)throw new ZD;const w=l<<2|f>>4;if(s.push(w),p!==64){const S=f<<4&240|p>>2;if(s.push(S),_!==64){const N=p<<6&192|_;s.push(N)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class ZD extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const e4=function(t){const e=qE(t);return GE.encodeByteArray(e,!0)},td=function(t){return e4(t).replace(/\./g,"")},$E=function(t){try{return GE.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n4=()=>t4().__FIREBASE_DEFAULTS__,i4=()=>{if(typeof process>"u"||typeof px>"u")return;const t=px.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},s4=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&$E(t[1]);return e&&JSON.parse(e)},Dd=()=>{try{return WD()||n4()||i4()||s4()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},KE=t=>{var e,n;return(n=(e=Dd())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},YE=t=>{const e=KE(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},QE=()=>{var t;return(t=Dd())==null?void 0:t.config},XE=t=>{var e;return(e=Dd())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r4{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ra(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Zy(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WE(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...t};return[td(JSON.stringify(n)),td(JSON.stringify(c)),""].join(".")}const Wu={};function a4(){const t={prod:[],emulator:[]};for(const e of Object.keys(Wu))Wu[e]?t.emulator.push(e):t.prod.push(e);return t}function o4(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let gx=!1;function e0(t,e){if(typeof window>"u"||typeof document>"u"||!ra(window.location.host)||Wu[t]===e||Wu[t]||gx)return;Wu[t]=e;function n(w){return`__firebase__banner__${w}`}const s="__firebase__banner",l=a4().prod.length>0;function c(){const w=document.getElementById(s);w&&w.remove()}function f(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function m(w,S){w.setAttribute("width","24"),w.setAttribute("id",S),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function p(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{gx=!0,c()},w}function v(w,S){w.setAttribute("id",S),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function _(){const w=o4(s),S=n("text"),N=document.getElementById(S)||document.createElement("span"),M=n("learnmore"),O=document.getElementById(M)||document.createElement("a"),B=n("preprendIcon"),G=document.getElementById(B)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const F=w.element;f(F),v(O,M);const oe=p();m(G,B),F.append(G,N,O,oe),document.body.appendChild(F)}l?(N.innerText="Preview backend disconnected.",G.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(G.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,N.innerText="Preview backend running in this workspace."),N.setAttribute("id",S)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function l4(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(vn())}function u4(){var e;const t=(e=Dd())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function c4(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function h4(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function f4(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function d4(){const t=vn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function m4(){return!u4()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function p4(){try{return typeof indexedDB=="object"}catch{return!1}}function g4(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var l;e(((l=a.error)==null?void 0:l.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y4="FirebaseError";class ys extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=y4,Object.setPrototypeOf(this,ys.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Cc.prototype.create)}}class Cc{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?v4(l,s):"Error",f=`${this.serviceName}: ${c} (${a}).`;return new ys(a,f,s)}}function v4(t,e){return t.replace(_4,(n,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const _4=/\{\$([^}]+)}/g;function b4(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ka(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const a of n){if(!s.includes(a))return!1;const l=t[a],c=e[a];if(yx(l)&&yx(c)){if(!Ka(l,c))return!1}else if(l!==c)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function yx(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nc(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function x4(t,e){const n=new w4(t,e);return n.subscribe.bind(n)}class w4{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let a;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");T4(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:s},a.next===void 0&&(a.next=hg),a.error===void 0&&(a.error=hg),a.complete===void 0&&(a.complete=hg);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function T4(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function hg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function At(t){return t&&t._delegate?t._delegate:t}class Qr{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const La="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E4{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new r4;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(A4(e))try{this.getOrInitializeService({instanceIdentifier:La})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});s.resolve(l)}catch{}}}}clearInstance(e=La){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=La){return this.instances.has(e)}getOptions(e=La){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[l,c]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);s===f&&c.resolve(a)}return a}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(s)??new Set;a.add(e),this.onInitCallbacks.set(s,a);const l=this.instances.get(s);return l&&e(l,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:S4(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=La){return this.component?this.component.multipleInstances?e:La:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function S4(t){return t===La?void 0:t}function A4(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R4{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new E4(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var He;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(He||(He={}));const C4={debug:He.DEBUG,verbose:He.VERBOSE,info:He.INFO,warn:He.WARN,error:He.ERROR,silent:He.SILENT},N4=He.INFO,I4={[He.DEBUG]:"log",[He.VERBOSE]:"log",[He.INFO]:"info",[He.WARN]:"warn",[He.ERROR]:"error"},D4=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),a=I4[e];if(a)console[a](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class t0{constructor(e){this.name=e,this._logLevel=N4,this._logHandler=D4,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in He))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?C4[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,He.DEBUG,...e),this._logHandler(this,He.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,He.VERBOSE,...e),this._logHandler(this,He.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,He.INFO,...e),this._logHandler(this,He.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,He.WARN,...e),this._logHandler(this,He.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,He.ERROR,...e),this._logHandler(this,He.ERROR,...e)}}const k4=(t,e)=>e.some(n=>t instanceof n);let vx,_x;function M4(){return vx||(vx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function V4(){return _x||(_x=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const JE=new WeakMap,Yg=new WeakMap,ZE=new WeakMap,fg=new WeakMap,n0=new WeakMap;function O4(t){const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",c)},l=()=>{n(qr(t.result)),a()},c=()=>{s(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&JE.set(n,t)}).catch(()=>{}),n0.set(e,t),e}function j4(t){if(Yg.has(t))return;const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",c),t.removeEventListener("abort",c)},l=()=>{n(),a()},c=()=>{s(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",c),t.addEventListener("abort",c)});Yg.set(t,e)}let Qg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Yg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||ZE.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return qr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function P4(t){Qg=t(Qg)}function L4(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(dg(this),e,...n);return ZE.set(s,e.sort?e.sort():[e]),qr(s)}:V4().includes(t)?function(...e){return t.apply(dg(this),e),qr(JE.get(this))}:function(...e){return qr(t.apply(dg(this),e))}}function U4(t){return typeof t=="function"?L4(t):(t instanceof IDBTransaction&&j4(t),k4(t,M4())?new Proxy(t,Qg):t)}function qr(t){if(t instanceof IDBRequest)return O4(t);if(fg.has(t))return fg.get(t);const e=U4(t);return e!==t&&(fg.set(t,e),n0.set(e,t)),e}const dg=t=>n0.get(t);function z4(t,e,{blocked:n,upgrade:s,blocking:a,terminated:l}={}){const c=indexedDB.open(t,e),f=qr(c);return s&&c.addEventListener("upgradeneeded",m=>{s(qr(c.result),m.oldVersion,m.newVersion,qr(c.transaction),m)}),n&&c.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),f.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),f}const B4=["get","getKey","getAll","getAllKeys","count"],F4=["put","add","delete","clear"],mg=new Map;function bx(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(mg.get(e))return mg.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,a=F4.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||B4.includes(n)))return;const l=async function(c,...f){const m=this.transaction(c,a?"readwrite":"readonly");let p=m.store;return s&&(p=p.index(f.shift())),(await Promise.all([p[n](...f),a&&m.done]))[0]};return mg.set(e,l),l}P4(t=>({...t,get:(e,n,s)=>bx(e,n)||t.get(e,n,s),has:(e,n)=>!!bx(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H4{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(q4(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function q4(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Xg="@firebase/app",xx="0.14.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $s=new t0("@firebase/app"),G4="@firebase/app-compat",$4="@firebase/analytics-compat",K4="@firebase/analytics",Y4="@firebase/app-check-compat",Q4="@firebase/app-check",X4="@firebase/auth",W4="@firebase/auth-compat",J4="@firebase/database",Z4="@firebase/data-connect",ek="@firebase/database-compat",tk="@firebase/functions",nk="@firebase/functions-compat",ik="@firebase/installations",sk="@firebase/installations-compat",rk="@firebase/messaging",ak="@firebase/messaging-compat",ok="@firebase/performance",lk="@firebase/performance-compat",uk="@firebase/remote-config",ck="@firebase/remote-config-compat",hk="@firebase/storage",fk="@firebase/storage-compat",dk="@firebase/firestore",mk="@firebase/ai",pk="@firebase/firestore-compat",gk="firebase",yk="12.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wg="[DEFAULT]",vk={[Xg]:"fire-core",[G4]:"fire-core-compat",[K4]:"fire-analytics",[$4]:"fire-analytics-compat",[Q4]:"fire-app-check",[Y4]:"fire-app-check-compat",[X4]:"fire-auth",[W4]:"fire-auth-compat",[J4]:"fire-rtdb",[Z4]:"fire-data-connect",[ek]:"fire-rtdb-compat",[tk]:"fire-fn",[nk]:"fire-fn-compat",[ik]:"fire-iid",[sk]:"fire-iid-compat",[rk]:"fire-fcm",[ak]:"fire-fcm-compat",[ok]:"fire-perf",[lk]:"fire-perf-compat",[uk]:"fire-rc",[ck]:"fire-rc-compat",[hk]:"fire-gcs",[fk]:"fire-gcs-compat",[dk]:"fire-fst",[pk]:"fire-fst-compat",[mk]:"fire-vertex","fire-js":"fire-js",[gk]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nd=new Map,_k=new Map,Jg=new Map;function wx(t,e){try{t.container.addComponent(e)}catch(n){$s.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ya(t){const e=t.name;if(Jg.has(e))return $s.debug(`There were multiple attempts to register component ${e}.`),!1;Jg.set(e,t);for(const n of nd.values())wx(n,t);for(const n of _k.values())wx(n,t);return!0}function kd(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Gn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bk={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Gr=new Cc("app","Firebase",bk);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xk{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Qr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Gr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Za=yk;function eS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s={name:Wg,automaticDataCollectionEnabled:!0,...e},a=s.name;if(typeof a!="string"||!a)throw Gr.create("bad-app-name",{appName:String(a)});if(n||(n=QE()),!n)throw Gr.create("no-options");const l=nd.get(a);if(l){if(Ka(n,l.options)&&Ka(s,l.config))return l;throw Gr.create("duplicate-app",{appName:a})}const c=new R4(a);for(const m of Jg.values())c.addComponent(m);const f=new xk(n,s,c);return nd.set(a,f),f}function i0(t=Wg){const e=nd.get(t);if(!e&&t===Wg&&QE())return eS();if(!e)throw Gr.create("no-app",{appName:t});return e}function ls(t,e,n){let s=vk[t]??t;n&&(s+=`-${n}`);const a=s.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const c=[`Unable to register library "${s}" with version "${e}":`];a&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),$s.warn(c.join(" "));return}Ya(new Qr(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wk="firebase-heartbeat-database",Tk=1,hc="firebase-heartbeat-store";let pg=null;function tS(){return pg||(pg=z4(wk,Tk,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(hc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Gr.create("idb-open",{originalErrorMessage:t.message})})),pg}async function Ek(t){try{const n=(await tS()).transaction(hc),s=await n.objectStore(hc).get(nS(t));return await n.done,s}catch(e){if(e instanceof ys)$s.warn(e.message);else{const n=Gr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});$s.warn(n.message)}}}async function Tx(t,e){try{const s=(await tS()).transaction(hc,"readwrite");await s.objectStore(hc).put(e,nS(t)),await s.done}catch(n){if(n instanceof ys)$s.warn(n.message);else{const s=Gr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});$s.warn(s.message)}}}function nS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sk=1024,Ak=30;class Rk{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Nk(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=Ex();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>Ak){const c=Ik(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){$s.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Ex(),{heartbeatsToSend:s,unsentEntries:a}=Ck(this._heartbeatsCache.heartbeats),l=td(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(n){return $s.warn(n),""}}}function Ex(){return new Date().toISOString().substring(0,10)}function Ck(t,e=Sk){const n=[];let s=t.slice();for(const a of t){const l=n.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),Sx(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),Sx(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class Nk{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return p4()?g4().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Ek(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Tx(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Tx(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Sx(t){return td(JSON.stringify({version:2,heartbeats:t})).length}function Ik(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let s=1;s<t.length;s++)t[s].date<n&&(n=t[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dk(t){Ya(new Qr("platform-logger",e=>new H4(e),"PRIVATE")),Ya(new Qr("heartbeat",e=>new Rk(e),"PRIVATE")),ls(Xg,xx,t),ls(Xg,xx,"esm2020"),ls("fire-js","")}Dk("");function iS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const kk=iS,sS=new Cc("auth","Firebase",iS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const id=new t0("@firebase/auth");function Mk(t,...e){id.logLevel<=He.WARN&&id.warn(`Auth (${Za}): ${t}`,...e)}function Lf(t,...e){id.logLevel<=He.ERROR&&id.error(`Auth (${Za}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ms(t,...e){throw r0(t,...e)}function Di(t,...e){return r0(t,...e)}function s0(t,e,n){const s={...kk(),[e]:n};return new Cc("auth","Firebase",s).create(e,{appName:t.name})}function $r(t){return s0(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Vk(t,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&ms(t,"argument-error"),s0(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function r0(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return sS.create(t,...e)}function Re(t,e,...n){if(!t)throw r0(e,...n)}function zs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Lf(e),new Error(e)}function Ks(t,e){t||zs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zg(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function Ok(){return Ax()==="http:"||Ax()==="https:"}function Ax(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jk(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Ok()||h4()||"connection"in navigator)?navigator.onLine:!0}function Pk(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ks(n>e,"Short delay should be less than long delay!"),this.isMobile=l4()||f4()}get(){return jk()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a0(t,e){Ks(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;zs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;zs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;zs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lk={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uk=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],zk=new Ic(3e4,6e4);function Md(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function eo(t,e,n,s,a={}){return aS(t,a,async()=>{let l={},c={};s&&(e==="GET"?c=s:l={body:JSON.stringify(s)});const f=Nc({key:t.config.apiKey,...c}).slice(1),m=await t._getAdditionalHeaders();m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode);const p={method:e,headers:m,...l};return c4()||(p.referrerPolicy="no-referrer"),t.emulatorConfig&&ra(t.emulatorConfig.host)&&(p.credentials="include"),rS.fetch()(await lS(t,t.config.apiHost,n,f),p)})}async function aS(t,e,n){t._canInitEmulator=!1;const s={...Lk,...e};try{const a=new Bk(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw wf(t,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const f=l.ok?c.errorMessage:c.error.message,[m,p]=f.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw wf(t,"credential-already-in-use",c);if(m==="EMAIL_EXISTS")throw wf(t,"email-already-in-use",c);if(m==="USER_DISABLED")throw wf(t,"user-disabled",c);const v=s[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw s0(t,v,p);ms(t,v)}}catch(a){if(a instanceof ys)throw a;ms(t,"network-request-failed",{message:String(a)})}}async function oS(t,e,n,s,a={}){const l=await eo(t,e,n,s,a);return"mfaPendingCredential"in l&&ms(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function lS(t,e,n,s){const a=`${e}${n}?${s}`,l=t,c=l.config.emulator?a0(t.config,a):`${t.config.apiScheme}://${a}`;return Uk.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}class Bk{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Di(this.auth,"network-request-failed")),zk.get())})}}function wf(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const a=Di(t,e,s);return a.customData._tokenResponse=n,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fk(t,e){return eo(t,"POST","/v1/accounts:delete",e)}async function sd(t,e){return eo(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ju(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Hk(t,e=!1){const n=At(t),s=await n.getIdToken(e),a=o0(s);Re(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:a,token:s,authTime:Ju(gg(a.auth_time)),issuedAtTime:Ju(gg(a.iat)),expirationTime:Ju(gg(a.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function gg(t){return Number(t)*1e3}function o0(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return Lf("JWT malformed, contained fewer than 3 sections"),null;try{const a=$E(n);return a?JSON.parse(a):(Lf("Failed to decode base64 JWT payload"),null)}catch(a){return Lf("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function Rx(t){const e=o0(t);return Re(e,"internal-error"),Re(typeof e.exp<"u","internal-error"),Re(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dl(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof ys&&qk(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function qk({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gk{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ey{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ju(this.lastLoginAt),this.creationTime=Ju(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rd(t){var _;const e=t.auth,n=await t.getIdToken(),s=await dl(t,sd(e,{idToken:n}));Re(s==null?void 0:s.users.length,e,"internal-error");const a=s.users[0];t._notifyReloadListener(a);const l=(_=a.providerUserInfo)!=null&&_.length?uS(a.providerUserInfo):[],c=Kk(t.providerData,l),f=t.isAnonymous,m=!(t.email&&a.passwordHash)&&!(c!=null&&c.length),p=f?m:!1,v={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new ey(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(t,v)}async function $k(t){const e=At(t);await rd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Kk(t,e){return[...t.filter(s=>!e.some(a=>a.providerId===s.providerId)),...e]}function uS(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yk(t,e){const n=await aS(t,{},async()=>{const s=Nc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,c=await lS(t,a,"/v1/token",`key=${l}`),f=await t._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:f,body:s};return t.emulatorConfig&&ra(t.emulatorConfig.host)&&(m.credentials="include"),rS.fetch()(c,m)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Qk(t,e){return eo(t,"POST","/v2/accounts:revokeToken",Md(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Re(e.idToken,"internal-error"),Re(typeof e.idToken<"u","internal-error"),Re(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Rx(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Re(e.length!==0,"internal-error");const n=Rx(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Re(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:a,expiresIn:l}=await Yk(e,n);this.updateTokensAndExpiration(s,a,Number(l))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:a,expirationTime:l}=n,c=new sl;return s&&(Re(typeof s=="string","internal-error",{appName:e}),c.refreshToken=s),a&&(Re(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(Re(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new sl,this.toJSON())}_performRefresh(){return zs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Or(t,e){Re(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ni{constructor({uid:e,auth:n,stsTokenManager:s,...a}){this.providerId="firebase",this.proactiveRefresh=new Gk(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new ey(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await dl(this,this.stsTokenManager.getToken(this.auth,e));return Re(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Hk(this,e)}reload(){return $k(this)}_assign(e){this!==e&&(Re(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ni({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await rd(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Gn(this.auth.app))return Promise.reject($r(this.auth));const e=await this.getIdToken();return await dl(this,Fk(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,a=n.email??void 0,l=n.phoneNumber??void 0,c=n.photoURL??void 0,f=n.tenantId??void 0,m=n._redirectEventId??void 0,p=n.createdAt??void 0,v=n.lastLoginAt??void 0,{uid:_,emailVerified:w,isAnonymous:S,providerData:N,stsTokenManager:M}=n;Re(_&&M,e,"internal-error");const O=sl.fromJSON(this.name,M);Re(typeof _=="string",e,"internal-error"),Or(s,e.name),Or(a,e.name),Re(typeof w=="boolean",e,"internal-error"),Re(typeof S=="boolean",e,"internal-error"),Or(l,e.name),Or(c,e.name),Or(f,e.name),Or(m,e.name),Or(p,e.name),Or(v,e.name);const B=new Ni({uid:_,auth:e,email:a,emailVerified:w,displayName:s,isAnonymous:S,photoURL:c,phoneNumber:l,tenantId:f,stsTokenManager:O,createdAt:p,lastLoginAt:v});return N&&Array.isArray(N)&&(B.providerData=N.map(G=>({...G}))),m&&(B._redirectEventId=m),B}static async _fromIdTokenResponse(e,n,s=!1){const a=new sl;a.updateFromServerResponse(n);const l=new Ni({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:s});return await rd(l),l}static async _fromGetAccountInfoResponse(e,n,s){const a=n.users[0];Re(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?uS(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!(l!=null&&l.length),f=new sl;f.updateFromIdToken(s);const m=new Ni({uid:a.localId,auth:e,stsTokenManager:f,isAnonymous:c}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new ey(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(l!=null&&l.length)};return Object.assign(m,p),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cx=new Map;function Bs(t){Ks(t instanceof Function,"Expected a class definition");let e=Cx.get(t);return e?(Ks(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Cx.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}cS.type="NONE";const Nx=cS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uf(t,e,n){return`firebase:${t}:${e}:${n}`}class rl{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:a,name:l}=this.auth;this.fullUserKey=Uf(this.userKey,a.apiKey,l),this.fullPersistenceKey=Uf("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await sd(this.auth,{idToken:e}).catch(()=>{});return n?Ni._fromGetAccountInfoResponse(this.auth,n,e):null}return Ni._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new rl(Bs(Nx),e,s);const a=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=a[0]||Bs(Nx);const c=Uf(s,e.config.apiKey,e.name);let f=null;for(const p of n)try{const v=await p._get(c);if(v){let _;if(typeof v=="string"){const w=await sd(e,{idToken:v}).catch(()=>{});if(!w)break;_=await Ni._fromGetAccountInfoResponse(e,w,v)}else _=Ni._fromJSON(e,v);p!==l&&(f=_),l=p;break}}catch{}const m=a.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new rl(l,e,s):(l=m[0],f&&await l._set(c,f.toJSON()),await Promise.all(n.map(async p=>{if(p!==l)try{await p._remove(c)}catch{}})),new rl(l,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ix(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(mS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(hS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(gS(e))return"Blackberry";if(yS(e))return"Webos";if(fS(e))return"Safari";if((e.includes("chrome/")||dS(e))&&!e.includes("edge/"))return"Chrome";if(pS(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function hS(t=vn()){return/firefox\//i.test(t)}function fS(t=vn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function dS(t=vn()){return/crios\//i.test(t)}function mS(t=vn()){return/iemobile/i.test(t)}function pS(t=vn()){return/android/i.test(t)}function gS(t=vn()){return/blackberry/i.test(t)}function yS(t=vn()){return/webos/i.test(t)}function l0(t=vn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Xk(t=vn()){var e;return l0(t)&&!!((e=window.navigator)!=null&&e.standalone)}function Wk(){return d4()&&document.documentMode===10}function vS(t=vn()){return l0(t)||pS(t)||yS(t)||gS(t)||/windows phone/i.test(t)||mS(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _S(t,e=[]){let n;switch(t){case"Browser":n=Ix(vn());break;case"Worker":n=`${Ix(vn())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Za}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jk{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=l=>new Promise((c,f)=>{try{const m=e(l);c(m)}catch(m){f(m)}});s.onAbort=n,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zk(t,e={}){return eo(t,"GET","/v2/passwordPolicy",Md(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e3=6;class t3{constructor(e){var s;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??e3,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((s=e.allowedNonAlphanumericCharacters)==null?void 0:s.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let a=0;a<e.length;a++)s=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n3{constructor(e,n,s,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Dx(this),this.idTokenSubscription=new Dx(this),this.beforeStateQueue=new Jk(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=sS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Bs(n)),this._initializationPromise=this.queue(async()=>{var s,a,l;if(!this._deleted&&(this.persistenceManager=await rl.create(this,e),(s=this._resolvePersistenceManagerAvailable)==null||s.call(this),!this._deleted)){if((a=this._popupRedirectResolver)!=null&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((l=this.currentUser)==null?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await sd(this,{idToken:e}),s=await Ni._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var l;if(Gn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(l=this.redirectUser)==null?void 0:l._redirectEventId,f=s==null?void 0:s._redirectEventId,m=await this.tryRedirectSignIn(e);(!c||c===f)&&(m!=null&&m.user)&&(s=m.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(c){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Re(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await rd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Pk()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Gn(this.app))return Promise.reject($r(this));const n=e?At(e):null;return n&&Re(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Re(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Gn(this.app)?Promise.reject($r(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Gn(this.app)?Promise.reject($r(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Bs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Zk(this),n=new t3(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Cc("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await Qk(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Bs(e)||this._popupRedirectResolver;Re(n,this,"argument-error"),this.redirectPersistenceManager=await rl.create(this,[Bs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)==null?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let c=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Re(f,this,"internal-error"),f.then(()=>{c||l(this.currentUser)}),typeof n=="function"){const m=e.addObserver(n,s,a);return()=>{c=!0,m()}}else{const m=e.addObserver(n);return()=>{c=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=_S(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var a;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((a=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:a.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){var n;if(Gn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&Mk(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Dc(t){return At(t)}class Dx{constructor(e){this.auth=e,this.observer=null,this.addObserver=x4(n=>this.observer=n)}get next(){return Re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let u0={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function i3(t){u0=t}function s3(t){return u0.loadJS(t)}function r3(){return u0.gapiScript}function a3(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o3(t,e){const n=kd(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(Ka(l,e??{}))return a;ms(a,"already-initialized")}return n.initialize({options:e})}function l3(t,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(Bs);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function u3(t,e,n){const s=Dc(t);Re(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const a=!1,l=bS(e),{host:c,port:f}=c3(e),m=f===null?"":`:${f}`,p={url:`${l}//${c}${m}/`},v=Object.freeze({host:c,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!s._canInitEmulator){Re(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Re(Ka(p,s.config.emulator)&&Ka(v,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=p,s.emulatorConfig=v,s.settings.appVerificationDisabledForTesting=!0,ra(c)?(Zy(`${l}//${c}${m}`),e0("Auth",!0)):h3()}function bS(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function c3(t){const e=bS(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const l=a[1];return{host:l,port:kx(s.substr(l.length+1))}}else{const[l,c]=s.split(":");return{host:l,port:kx(c)}}}function kx(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function h3(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return zs("not implemented")}_getIdTokenResponse(e){return zs("not implemented")}_linkToIdToken(e,n){return zs("not implemented")}_getReauthenticationResolver(e){return zs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function al(t,e){return oS(t,"POST","/v1/accounts:signInWithIdp",Md(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f3="http://localhost";class Qa extends xS{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Qa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ms("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:a,...l}=n;if(!s||!a)return null;const c=new Qa(s,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return al(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,al(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,al(e,n)}buildRequest(){const e={requestUri:f3,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Nc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc extends c0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr extends kc{constructor(){super("facebook.com")}static credential(e){return Qa._fromParams({providerId:Lr.PROVIDER_ID,signInMethod:Lr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Lr.credentialFromTaggedObject(e)}static credentialFromError(e){return Lr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Lr.credential(e.oauthAccessToken)}catch{return null}}}Lr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Lr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls extends kc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Qa._fromParams({providerId:Ls.PROVIDER_ID,signInMethod:Ls.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ls.credentialFromTaggedObject(e)}static credentialFromError(e){return Ls.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Ls.credential(n,s)}catch{return null}}}Ls.GOOGLE_SIGN_IN_METHOD="google.com";Ls.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur extends kc{constructor(){super("github.com")}static credential(e){return Qa._fromParams({providerId:Ur.PROVIDER_ID,signInMethod:Ur.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ur.credentialFromTaggedObject(e)}static credentialFromError(e){return Ur.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ur.credential(e.oauthAccessToken)}catch{return null}}}Ur.GITHUB_SIGN_IN_METHOD="github.com";Ur.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr extends kc{constructor(){super("twitter.com")}static credential(e,n){return Qa._fromParams({providerId:zr.PROVIDER_ID,signInMethod:zr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return zr.credentialFromTaggedObject(e)}static credentialFromError(e){return zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return zr.credential(n,s)}catch{return null}}}zr.TWITTER_SIGN_IN_METHOD="twitter.com";zr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d3(t,e){return oS(t,"POST","/v1/accounts:signUp",Md(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,a=!1){const l=await Ni._fromIdTokenResponse(e,s,a),c=Mx(s);return new Xr({user:l,providerId:c,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const a=Mx(s);return new Xr({user:e,providerId:a,_tokenResponse:s,operationType:n})}}function Mx(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m3(t){var a;if(Gn(t.app))return Promise.reject($r(t));const e=Dc(t);if(await e._initializationPromise,(a=e.currentUser)!=null&&a.isAnonymous)return new Xr({user:e.currentUser,providerId:null,operationType:"signIn"});const n=await d3(e,{returnSecureToken:!0}),s=await Xr._fromIdTokenResponse(e,"signIn",n,!0);return await e._updateCurrentUser(s.user),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad extends ys{constructor(e,n,s,a){super(n.code,n.message),this.operationType=s,this.user=a,Object.setPrototypeOf(this,ad.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,a){return new ad(e,n,s,a)}}function wS(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?ad._fromErrorAndOperation(t,l,e,s):l})}async function p3(t,e,n=!1){const s=await dl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Xr._forOperation(t,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g3(t,e,n=!1){const{auth:s}=t;if(Gn(s.app))return Promise.reject($r(s));const a="reauthenticate";try{const l=await dl(t,wS(s,a,e,t),n);Re(l.idToken,s,"internal-error");const c=o0(l.idToken);Re(c,s,"internal-error");const{sub:f}=c;return Re(t.uid===f,s,"user-mismatch"),Xr._forOperation(t,a,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&ms(s,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y3(t,e,n=!1){if(Gn(t.app))return Promise.reject($r(t));const s="signIn",a=await wS(t,s,e),l=await Xr._fromIdTokenResponse(t,s,a);return n||await t._updateCurrentUser(l.user),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v3(t,e){return eo(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _3(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const s=At(t),l={idToken:await s.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},c=await dl(s,v3(s.auth,l));s.displayName=c.displayName||null,s.photoURL=c.photoUrl||null;const f=s.providerData.find(({providerId:m})=>m==="password");f&&(f.displayName=s.displayName,f.photoURL=s.photoURL),await s._updateTokensIfNecessary(c)}function b3(t,e,n,s){return At(t).onIdTokenChanged(e,n,s)}function x3(t,e,n){return At(t).beforeAuthStateChanged(e,n)}function w3(t,e,n,s){return At(t).onAuthStateChanged(e,n,s)}function T3(t){return At(t).signOut()}const od="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(od,"1"),this.storage.removeItem(od),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E3=1e3,S3=10;class ES extends TS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=vS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),a=this.localCache[n];s!==a&&e(n,a,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,f,m)=>{this.notifyListeners(c,m)});return}const s=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(s);!n&&this.localCache[s]===c||this.notifyListeners(s,c)},l=this.storage.getItem(s);Wk()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,S3):a()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},E3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}ES.type="LOCAL";const A3=ES;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS extends TS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}SS.type="SESSION";const AS=SS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R3(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const s=new Vd(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:a,data:l}=n.data,c=this.handlersMap[a];if(!(c!=null&&c.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const f=Array.from(c).map(async p=>p(n.origin,l)),m=await R3(f);n.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:m})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Vd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h0(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C3{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((f,m)=>{const p=h0("",20);a.port1.start();const v=setTimeout(()=>{m(new Error("unsupported_event"))},s);c={messageChannel:a,onMessage(_){const w=_;if(w.data.eventId===p)switch(w.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(w.data.response);break;default:clearTimeout(v),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function us(){return window}function N3(t){us().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RS(){return typeof us().WorkerGlobalScope<"u"&&typeof us().importScripts=="function"}async function I3(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function D3(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function k3(){return RS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CS="firebaseLocalStorageDb",M3=1,ld="firebaseLocalStorage",NS="fbase_key";class Mc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Od(t,e){return t.transaction([ld],e?"readwrite":"readonly").objectStore(ld)}function V3(){const t=indexedDB.deleteDatabase(CS);return new Mc(t).toPromise()}function ty(){const t=indexedDB.open(CS,M3);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(ld,{keyPath:NS})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(ld)?e(s):(s.close(),await V3(),e(await ty()))})})}async function Vx(t,e,n){const s=Od(t,!0).put({[NS]:e,value:n});return new Mc(s).toPromise()}async function O3(t,e){const n=Od(t,!1).get(e),s=await new Mc(n).toPromise();return s===void 0?null:s.value}function Ox(t,e){const n=Od(t,!0).delete(e);return new Mc(n).toPromise()}const j3=800,P3=3;class IS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ty(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>P3)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return RS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Vd._getInstance(k3()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,s;if(this.activeServiceWorker=await I3(),!this.activeServiceWorker)return;this.sender=new C3(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(s=e[0])!=null&&s.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||D3()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ty();return await Vx(e,od,"1"),await Ox(e,od),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>Vx(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>O3(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Ox(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=Od(a,!1).getAll();return new Mc(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),j3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}IS.type="LOCAL";const L3=IS;new Ic(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DS(t,e){return e?Bs(e):(Re(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0 extends xS{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return al(e,this._buildIdpRequest())}_linkToIdToken(e,n){return al(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return al(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function U3(t){return y3(t.auth,new f0(t),t.bypassAuthState)}function z3(t){const{auth:e,user:n}=t;return Re(n,e,"internal-error"),g3(n,new f0(t),t.bypassAuthState)}async function B3(t){const{auth:e,user:n}=t;return Re(n,e,"internal-error"),p3(n,new f0(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{constructor(e,n,s,a,l=!1){this.auth=e,this.resolver=s,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:a,tenantId:l,error:c,type:f}=e;if(c){this.reject(c);return}const m={auth:this.auth,requestUri:n,sessionId:s,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(m))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return U3;case"linkViaPopup":case"linkViaRedirect":return B3;case"reauthViaPopup":case"reauthViaRedirect":return z3;default:ms(this.auth,"internal-error")}}resolve(e){Ks(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ks(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F3=new Ic(2e3,1e4);async function H3(t,e,n){if(Gn(t.app))return Promise.reject(Di(t,"operation-not-supported-in-this-environment"));const s=Dc(t);Vk(t,e,c0);const a=DS(s,n);return new za(s,"signInViaPopup",e,a).executeNotNull()}class za extends kS{constructor(e,n,s,a,l){super(e,n,a,l),this.provider=s,this.authWindow=null,this.pollId=null,za.currentPopupAction&&za.currentPopupAction.cancel(),za.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Re(e,this.auth,"internal-error"),e}async onExecution(){Ks(this.filter.length===1,"Popup operations only handle one event");const e=h0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Di(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Di(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,za.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if((s=(n=this.authWindow)==null?void 0:n.window)!=null&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Di(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,F3.get())};e()}}za.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q3="pendingRedirect",zf=new Map;class G3 extends kS{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=zf.get(this.auth._key());if(!e){try{const s=await $3(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}zf.set(this.auth._key(),e)}return this.bypassAuthState||zf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function $3(t,e){const n=Q3(e),s=Y3(t);if(!await s._isAvailable())return!1;const a=await s._get(n)==="true";return await s._remove(n),a}function K3(t,e){zf.set(t._key(),e)}function Y3(t){return Bs(t._redirectPersistence)}function Q3(t){return Uf(q3,t.config.apiKey,t.name)}async function X3(t,e,n=!1){if(Gn(t.app))return Promise.reject($r(t));const s=Dc(t),a=DS(s,e),c=await new G3(s,a,n).execute();return c&&!n&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W3=600*1e3;class J3{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Z3(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!MS(e)){const a=((s=e.error.code)==null?void 0:s.split("auth/")[1])||"internal-error";n.onError(Di(this.auth,a))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=W3&&this.cachedEventUids.clear(),this.cachedEventUids.has(jx(e))}saveEventToCache(e){this.cachedEventUids.add(jx(e)),this.lastProcessedEventTime=Date.now()}}function jx(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function MS({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Z3(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return MS(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eM(t,e={}){return eo(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tM=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,nM=/^https?/;async function iM(t){if(t.config.emulator)return;const{authorizedDomains:e}=await eM(t);for(const n of e)try{if(sM(n))return}catch{}ms(t,"unauthorized-domain")}function sM(t){const e=Zg(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===s}if(!nM.test(n))return!1;if(tM.test(t))return s===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rM=new Ic(3e4,6e4);function Px(){const t=us().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function aM(t){return new Promise((e,n)=>{var a,l,c;function s(){Px(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Px(),n(Di(t,"network-request-failed"))},timeout:rM.get()})}if((l=(a=us().gapi)==null?void 0:a.iframes)!=null&&l.Iframe)e(gapi.iframes.getContext());else if((c=us().gapi)!=null&&c.load)s();else{const f=a3("iframefcb");return us()[f]=()=>{gapi.load?s():n(Di(t,"network-request-failed"))},s3(`${r3()}?onload=${f}`).catch(m=>n(m))}}).catch(e=>{throw Bf=null,e})}let Bf=null;function oM(t){return Bf=Bf||aM(t),Bf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lM=new Ic(5e3,15e3),uM="__/auth/iframe",cM="emulator/auth/iframe",hM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},fM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function dM(t){const e=t.config;Re(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?a0(e,cM):`https://${t.config.authDomain}/${uM}`,s={apiKey:e.apiKey,appName:t.name,v:Za},a=fM.get(t.config.apiHost);a&&(s.eid=a);const l=t._getFrameworks();return l.length&&(s.fw=l.join(",")),`${n}?${Nc(s).slice(1)}`}async function mM(t){const e=await oM(t),n=us().gapi;return Re(n,t,"internal-error"),e.open({where:document.body,url:dM(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:hM,dontclear:!0},s=>new Promise(async(a,l)=>{await s.restyle({setHideOnLeave:!1});const c=Di(t,"network-request-failed"),f=us().setTimeout(()=>{l(c)},lM.get());function m(){us().clearTimeout(f),a(s)}s.ping(m).then(m,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},gM=500,yM=600,vM="_blank",_M="http://localhost";class Lx{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function bM(t,e,n,s=gM,a=yM){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let f="";const m={...pM,width:s.toString(),height:a.toString(),top:l,left:c},p=vn().toLowerCase();n&&(f=dS(p)?vM:n),hS(p)&&(e=e||_M,m.scrollbars="yes");const v=Object.entries(m).reduce((w,[S,N])=>`${w}${S}=${N},`,"");if(Xk(p)&&f!=="_self")return xM(e||"",f),new Lx(null);const _=window.open(e||"",f,v);Re(_,t,"popup-blocked");try{_.focus()}catch{}return new Lx(_)}function xM(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wM="__/auth/handler",TM="emulator/auth/handler",EM=encodeURIComponent("fac");async function Ux(t,e,n,s,a,l){Re(t.config.authDomain,t,"auth-domain-config-required"),Re(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:Za,eventId:a};if(e instanceof c0){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",b4(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,_]of Object.entries({}))c[v]=_}if(e instanceof kc){const v=e.getScopes().filter(_=>_!=="");v.length>0&&(c.scopes=v.join(","))}t.tenantId&&(c.tid=t.tenantId);const f=c;for(const v of Object.keys(f))f[v]===void 0&&delete f[v];const m=await t._getAppCheckToken(),p=m?`#${EM}=${encodeURIComponent(m)}`:"";return`${SM(t)}?${Nc(f).slice(1)}${p}`}function SM({config:t}){return t.emulator?a0(t,TM):`https://${t.authDomain}/${wM}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yg="webStorageSupport";class AM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=AS,this._completeRedirectFn=X3,this._overrideRedirectResult=K3}async _openPopup(e,n,s,a){var c;Ks((c=this.eventManagers[e._key()])==null?void 0:c.manager,"_initialize() not called before _openPopup()");const l=await Ux(e,n,s,Zg(),a);return bM(e,l,h0())}async _openRedirect(e,n,s,a){await this._originValidation(e);const l=await Ux(e,n,s,Zg(),a);return N3(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(Ks(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await mM(e),s=new J3(e);return n.register("authEvent",a=>(Re(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(yg,{type:yg},a=>{var c;const l=(c=a==null?void 0:a[0])==null?void 0:c[yg];l!==void 0&&n(!!l),ms(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=iM(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return vS()||fS()||l0()}}const RM=AM;var zx="@firebase/auth",Bx="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CM{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NM(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function IM(t){Ya(new Qr("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:f}=s.options;Re(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const m={apiKey:c,authDomain:f,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_S(t)},p=new n3(s,a,l,m);return l3(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Ya(new Qr("auth-internal",e=>{const n=Dc(e.getProvider("auth").getImmediate());return(s=>new CM(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ls(zx,Bx,NM(t)),ls(zx,Bx,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DM=300,kM=XE("authIdTokenMaxAge")||DM;let Fx=null;const MM=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>kM)return;const a=n==null?void 0:n.token;Fx!==a&&(Fx=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function VM(t=i0()){const e=kd(t,"auth");if(e.isInitialized())return e.getImmediate();const n=o3(t,{popupRedirectResolver:RM,persistence:[L3,A3,AS]}),s=XE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const c=MM(l.toString());x3(n,c,()=>c(n.currentUser)),b3(n,f=>c(f))}}const a=KE("auth");return a&&u3(n,`http://${a}`),n}function OM(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}i3({loadJS(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=a=>{const l=Di("internal-error");l.customData=a,n(l)},s.type="text/javascript",s.charset="UTF-8",OM().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});IM("Browser");var jM="firebase",PM="12.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ls(jM,PM,"app");var Hx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Kr,VS;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,A){function I(){}I.prototype=A.prototype,C.F=A.prototype,C.prototype=new I,C.prototype.constructor=C,C.D=function(P,k,z){for(var V=Array(arguments.length-2),Qe=2;Qe<arguments.length;Qe++)V[Qe-2]=arguments[Qe];return A.prototype[k].apply(P,V)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(C,A,I){I||(I=0);const P=Array(16);if(typeof A=="string")for(var k=0;k<16;++k)P[k]=A.charCodeAt(I++)|A.charCodeAt(I++)<<8|A.charCodeAt(I++)<<16|A.charCodeAt(I++)<<24;else for(k=0;k<16;++k)P[k]=A[I++]|A[I++]<<8|A[I++]<<16|A[I++]<<24;A=C.g[0],I=C.g[1],k=C.g[2];let z=C.g[3],V;V=A+(z^I&(k^z))+P[0]+3614090360&4294967295,A=I+(V<<7&4294967295|V>>>25),V=z+(k^A&(I^k))+P[1]+3905402710&4294967295,z=A+(V<<12&4294967295|V>>>20),V=k+(I^z&(A^I))+P[2]+606105819&4294967295,k=z+(V<<17&4294967295|V>>>15),V=I+(A^k&(z^A))+P[3]+3250441966&4294967295,I=k+(V<<22&4294967295|V>>>10),V=A+(z^I&(k^z))+P[4]+4118548399&4294967295,A=I+(V<<7&4294967295|V>>>25),V=z+(k^A&(I^k))+P[5]+1200080426&4294967295,z=A+(V<<12&4294967295|V>>>20),V=k+(I^z&(A^I))+P[6]+2821735955&4294967295,k=z+(V<<17&4294967295|V>>>15),V=I+(A^k&(z^A))+P[7]+4249261313&4294967295,I=k+(V<<22&4294967295|V>>>10),V=A+(z^I&(k^z))+P[8]+1770035416&4294967295,A=I+(V<<7&4294967295|V>>>25),V=z+(k^A&(I^k))+P[9]+2336552879&4294967295,z=A+(V<<12&4294967295|V>>>20),V=k+(I^z&(A^I))+P[10]+4294925233&4294967295,k=z+(V<<17&4294967295|V>>>15),V=I+(A^k&(z^A))+P[11]+2304563134&4294967295,I=k+(V<<22&4294967295|V>>>10),V=A+(z^I&(k^z))+P[12]+1804603682&4294967295,A=I+(V<<7&4294967295|V>>>25),V=z+(k^A&(I^k))+P[13]+4254626195&4294967295,z=A+(V<<12&4294967295|V>>>20),V=k+(I^z&(A^I))+P[14]+2792965006&4294967295,k=z+(V<<17&4294967295|V>>>15),V=I+(A^k&(z^A))+P[15]+1236535329&4294967295,I=k+(V<<22&4294967295|V>>>10),V=A+(k^z&(I^k))+P[1]+4129170786&4294967295,A=I+(V<<5&4294967295|V>>>27),V=z+(I^k&(A^I))+P[6]+3225465664&4294967295,z=A+(V<<9&4294967295|V>>>23),V=k+(A^I&(z^A))+P[11]+643717713&4294967295,k=z+(V<<14&4294967295|V>>>18),V=I+(z^A&(k^z))+P[0]+3921069994&4294967295,I=k+(V<<20&4294967295|V>>>12),V=A+(k^z&(I^k))+P[5]+3593408605&4294967295,A=I+(V<<5&4294967295|V>>>27),V=z+(I^k&(A^I))+P[10]+38016083&4294967295,z=A+(V<<9&4294967295|V>>>23),V=k+(A^I&(z^A))+P[15]+3634488961&4294967295,k=z+(V<<14&4294967295|V>>>18),V=I+(z^A&(k^z))+P[4]+3889429448&4294967295,I=k+(V<<20&4294967295|V>>>12),V=A+(k^z&(I^k))+P[9]+568446438&4294967295,A=I+(V<<5&4294967295|V>>>27),V=z+(I^k&(A^I))+P[14]+3275163606&4294967295,z=A+(V<<9&4294967295|V>>>23),V=k+(A^I&(z^A))+P[3]+4107603335&4294967295,k=z+(V<<14&4294967295|V>>>18),V=I+(z^A&(k^z))+P[8]+1163531501&4294967295,I=k+(V<<20&4294967295|V>>>12),V=A+(k^z&(I^k))+P[13]+2850285829&4294967295,A=I+(V<<5&4294967295|V>>>27),V=z+(I^k&(A^I))+P[2]+4243563512&4294967295,z=A+(V<<9&4294967295|V>>>23),V=k+(A^I&(z^A))+P[7]+1735328473&4294967295,k=z+(V<<14&4294967295|V>>>18),V=I+(z^A&(k^z))+P[12]+2368359562&4294967295,I=k+(V<<20&4294967295|V>>>12),V=A+(I^k^z)+P[5]+4294588738&4294967295,A=I+(V<<4&4294967295|V>>>28),V=z+(A^I^k)+P[8]+2272392833&4294967295,z=A+(V<<11&4294967295|V>>>21),V=k+(z^A^I)+P[11]+1839030562&4294967295,k=z+(V<<16&4294967295|V>>>16),V=I+(k^z^A)+P[14]+4259657740&4294967295,I=k+(V<<23&4294967295|V>>>9),V=A+(I^k^z)+P[1]+2763975236&4294967295,A=I+(V<<4&4294967295|V>>>28),V=z+(A^I^k)+P[4]+1272893353&4294967295,z=A+(V<<11&4294967295|V>>>21),V=k+(z^A^I)+P[7]+4139469664&4294967295,k=z+(V<<16&4294967295|V>>>16),V=I+(k^z^A)+P[10]+3200236656&4294967295,I=k+(V<<23&4294967295|V>>>9),V=A+(I^k^z)+P[13]+681279174&4294967295,A=I+(V<<4&4294967295|V>>>28),V=z+(A^I^k)+P[0]+3936430074&4294967295,z=A+(V<<11&4294967295|V>>>21),V=k+(z^A^I)+P[3]+3572445317&4294967295,k=z+(V<<16&4294967295|V>>>16),V=I+(k^z^A)+P[6]+76029189&4294967295,I=k+(V<<23&4294967295|V>>>9),V=A+(I^k^z)+P[9]+3654602809&4294967295,A=I+(V<<4&4294967295|V>>>28),V=z+(A^I^k)+P[12]+3873151461&4294967295,z=A+(V<<11&4294967295|V>>>21),V=k+(z^A^I)+P[15]+530742520&4294967295,k=z+(V<<16&4294967295|V>>>16),V=I+(k^z^A)+P[2]+3299628645&4294967295,I=k+(V<<23&4294967295|V>>>9),V=A+(k^(I|~z))+P[0]+4096336452&4294967295,A=I+(V<<6&4294967295|V>>>26),V=z+(I^(A|~k))+P[7]+1126891415&4294967295,z=A+(V<<10&4294967295|V>>>22),V=k+(A^(z|~I))+P[14]+2878612391&4294967295,k=z+(V<<15&4294967295|V>>>17),V=I+(z^(k|~A))+P[5]+4237533241&4294967295,I=k+(V<<21&4294967295|V>>>11),V=A+(k^(I|~z))+P[12]+1700485571&4294967295,A=I+(V<<6&4294967295|V>>>26),V=z+(I^(A|~k))+P[3]+2399980690&4294967295,z=A+(V<<10&4294967295|V>>>22),V=k+(A^(z|~I))+P[10]+4293915773&4294967295,k=z+(V<<15&4294967295|V>>>17),V=I+(z^(k|~A))+P[1]+2240044497&4294967295,I=k+(V<<21&4294967295|V>>>11),V=A+(k^(I|~z))+P[8]+1873313359&4294967295,A=I+(V<<6&4294967295|V>>>26),V=z+(I^(A|~k))+P[15]+4264355552&4294967295,z=A+(V<<10&4294967295|V>>>22),V=k+(A^(z|~I))+P[6]+2734768916&4294967295,k=z+(V<<15&4294967295|V>>>17),V=I+(z^(k|~A))+P[13]+1309151649&4294967295,I=k+(V<<21&4294967295|V>>>11),V=A+(k^(I|~z))+P[4]+4149444226&4294967295,A=I+(V<<6&4294967295|V>>>26),V=z+(I^(A|~k))+P[11]+3174756917&4294967295,z=A+(V<<10&4294967295|V>>>22),V=k+(A^(z|~I))+P[2]+718787259&4294967295,k=z+(V<<15&4294967295|V>>>17),V=I+(z^(k|~A))+P[9]+3951481745&4294967295,C.g[0]=C.g[0]+A&4294967295,C.g[1]=C.g[1]+(k+(V<<21&4294967295|V>>>11))&4294967295,C.g[2]=C.g[2]+k&4294967295,C.g[3]=C.g[3]+z&4294967295}s.prototype.v=function(C,A){A===void 0&&(A=C.length);const I=A-this.blockSize,P=this.C;let k=this.h,z=0;for(;z<A;){if(k==0)for(;z<=I;)a(this,C,z),z+=this.blockSize;if(typeof C=="string"){for(;z<A;)if(P[k++]=C.charCodeAt(z++),k==this.blockSize){a(this,P),k=0;break}}else for(;z<A;)if(P[k++]=C[z++],k==this.blockSize){a(this,P),k=0;break}}this.h=k,this.o+=A},s.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var A=1;A<C.length-8;++A)C[A]=0;A=this.o*8;for(var I=C.length-8;I<C.length;++I)C[I]=A&255,A/=256;for(this.v(C),C=Array(16),A=0,I=0;I<4;++I)for(let P=0;P<32;P+=8)C[A++]=this.g[I]>>>P&255;return C};function l(C,A){var I=f;return Object.prototype.hasOwnProperty.call(I,C)?I[C]:I[C]=A(C)}function c(C,A){this.h=A;const I=[];let P=!0;for(let k=C.length-1;k>=0;k--){const z=C[k]|0;P&&z==A||(I[k]=z,P=!1)}this.g=I}var f={};function m(C){return-128<=C&&C<128?l(C,function(A){return new c([A|0],A<0?-1:0)}):new c([C|0],C<0?-1:0)}function p(C){if(isNaN(C)||!isFinite(C))return _;if(C<0)return O(p(-C));const A=[];let I=1;for(let P=0;C>=I;P++)A[P]=C/I|0,I*=4294967296;return new c(A,0)}function v(C,A){if(C.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(C.charAt(0)=="-")return O(v(C.substring(1),A));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=p(Math.pow(A,8));let P=_;for(let z=0;z<C.length;z+=8){var k=Math.min(8,C.length-z);const V=parseInt(C.substring(z,z+k),A);k<8?(k=p(Math.pow(A,k)),P=P.j(k).add(p(V))):(P=P.j(I),P=P.add(p(V)))}return P}var _=m(0),w=m(1),S=m(16777216);t=c.prototype,t.m=function(){if(M(this))return-O(this).m();let C=0,A=1;for(let I=0;I<this.g.length;I++){const P=this.i(I);C+=(P>=0?P:4294967296+P)*A,A*=4294967296}return C},t.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(N(this))return"0";if(M(this))return"-"+O(this).toString(C);const A=p(Math.pow(C,6));var I=this;let P="";for(;;){const k=oe(I,A).g;I=B(I,k.j(A));let z=((I.g.length>0?I.g[0]:I.h)>>>0).toString(C);if(I=k,N(I))return z+P;for(;z.length<6;)z="0"+z;P=z+P}},t.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function N(C){if(C.h!=0)return!1;for(let A=0;A<C.g.length;A++)if(C.g[A]!=0)return!1;return!0}function M(C){return C.h==-1}t.l=function(C){return C=B(this,C),M(C)?-1:N(C)?0:1};function O(C){const A=C.g.length,I=[];for(let P=0;P<A;P++)I[P]=~C.g[P];return new c(I,~C.h).add(w)}t.abs=function(){return M(this)?O(this):this},t.add=function(C){const A=Math.max(this.g.length,C.g.length),I=[];let P=0;for(let k=0;k<=A;k++){let z=P+(this.i(k)&65535)+(C.i(k)&65535),V=(z>>>16)+(this.i(k)>>>16)+(C.i(k)>>>16);P=V>>>16,z&=65535,V&=65535,I[k]=V<<16|z}return new c(I,I[I.length-1]&-2147483648?-1:0)};function B(C,A){return C.add(O(A))}t.j=function(C){if(N(this)||N(C))return _;if(M(this))return M(C)?O(this).j(O(C)):O(O(this).j(C));if(M(C))return O(this.j(O(C)));if(this.l(S)<0&&C.l(S)<0)return p(this.m()*C.m());const A=this.g.length+C.g.length,I=[];for(var P=0;P<2*A;P++)I[P]=0;for(P=0;P<this.g.length;P++)for(let k=0;k<C.g.length;k++){const z=this.i(P)>>>16,V=this.i(P)&65535,Qe=C.i(k)>>>16,ut=C.i(k)&65535;I[2*P+2*k]+=V*ut,G(I,2*P+2*k),I[2*P+2*k+1]+=z*ut,G(I,2*P+2*k+1),I[2*P+2*k+1]+=V*Qe,G(I,2*P+2*k+1),I[2*P+2*k+2]+=z*Qe,G(I,2*P+2*k+2)}for(C=0;C<A;C++)I[C]=I[2*C+1]<<16|I[2*C];for(C=A;C<2*A;C++)I[C]=0;return new c(I,0)};function G(C,A){for(;(C[A]&65535)!=C[A];)C[A+1]+=C[A]>>>16,C[A]&=65535,A++}function F(C,A){this.g=C,this.h=A}function oe(C,A){if(N(A))throw Error("division by zero");if(N(C))return new F(_,_);if(M(C))return A=oe(O(C),A),new F(O(A.g),O(A.h));if(M(A))return A=oe(C,O(A)),new F(O(A.g),A.h);if(C.g.length>30){if(M(C)||M(A))throw Error("slowDivide_ only works with positive integers.");for(var I=w,P=A;P.l(C)<=0;)I=re(I),P=re(P);var k=ce(I,1),z=ce(P,1);for(P=ce(P,2),I=ce(I,2);!N(P);){var V=z.add(P);V.l(C)<=0&&(k=k.add(I),z=V),P=ce(P,1),I=ce(I,1)}return A=B(C,k.j(A)),new F(k,A)}for(k=_;C.l(A)>=0;){for(I=Math.max(1,Math.floor(C.m()/A.m())),P=Math.ceil(Math.log(I)/Math.LN2),P=P<=48?1:Math.pow(2,P-48),z=p(I),V=z.j(A);M(V)||V.l(C)>0;)I-=P,z=p(I),V=z.j(A);N(z)&&(z=w),k=k.add(z),C=B(C,V)}return new F(k,C)}t.B=function(C){return oe(this,C).h},t.and=function(C){const A=Math.max(this.g.length,C.g.length),I=[];for(let P=0;P<A;P++)I[P]=this.i(P)&C.i(P);return new c(I,this.h&C.h)},t.or=function(C){const A=Math.max(this.g.length,C.g.length),I=[];for(let P=0;P<A;P++)I[P]=this.i(P)|C.i(P);return new c(I,this.h|C.h)},t.xor=function(C){const A=Math.max(this.g.length,C.g.length),I=[];for(let P=0;P<A;P++)I[P]=this.i(P)^C.i(P);return new c(I,this.h^C.h)};function re(C){const A=C.g.length+1,I=[];for(let P=0;P<A;P++)I[P]=C.i(P)<<1|C.i(P-1)>>>31;return new c(I,C.h)}function ce(C,A){const I=A>>5;A%=32;const P=C.g.length-I,k=[];for(let z=0;z<P;z++)k[z]=A>0?C.i(z+I)>>>A|C.i(z+I+1)<<32-A:C.i(z+I);return new c(k,C.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,VS=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=v,Kr=c}).apply(typeof Hx<"u"?Hx:typeof self<"u"?self:typeof window<"u"?window:{});var Tf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var OS,Gu,jS,Ff,ny,PS,LS,US;(function(){var t,e=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Tf=="object"&&Tf];for(var b=0;b<h.length;++b){var T=h[b];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var s=n(this);function a(h,b){if(b)e:{var T=s;h=h.split(".");for(var R=0;R<h.length-1;R++){var q=h[R];if(!(q in T))break e;T=T[q]}h=h[h.length-1],R=T[h],b=b(R),b!=R&&b!=null&&e(T,h,{configurable:!0,writable:!0,value:b})}}a("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(h){return h||function(b){var T=[],R;for(R in b)Object.prototype.hasOwnProperty.call(b,R)&&T.push([R,b[R]]);return T}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function f(h){var b=typeof h;return b=="object"&&h!=null||b=="function"}function m(h,b,T){return h.call.apply(h.bind,arguments)}function p(h,b,T){return p=m,p.apply(null,arguments)}function v(h,b){var T=Array.prototype.slice.call(arguments,1);return function(){var R=T.slice();return R.push.apply(R,arguments),h.apply(this,R)}}function _(h,b){function T(){}T.prototype=b.prototype,h.Z=b.prototype,h.prototype=new T,h.prototype.constructor=h,h.Ob=function(R,q,X){for(var ue=Array(arguments.length-2),Ve=2;Ve<arguments.length;Ve++)ue[Ve-2]=arguments[Ve];return b.prototype[q].apply(R,ue)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function S(h){const b=h.length;if(b>0){const T=Array(b);for(let R=0;R<b;R++)T[R]=h[R];return T}return[]}function N(h,b){for(let R=1;R<arguments.length;R++){const q=arguments[R];var T=typeof q;if(T=T!="object"?T:q?Array.isArray(q)?"array":T:"null",T=="array"||T=="object"&&typeof q.length=="number"){T=h.length||0;const X=q.length||0;h.length=T+X;for(let ue=0;ue<X;ue++)h[T+ue]=q[ue]}else h.push(q)}}class M{constructor(b,T){this.i=b,this.j=T,this.h=0,this.g=null}get(){let b;return this.h>0?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function O(h){c.setTimeout(()=>{throw h},0)}function B(){var h=C;let b=null;return h.g&&(b=h.g,h.g=h.g.next,h.g||(h.h=null),b.next=null),b}class G{constructor(){this.h=this.g=null}add(b,T){const R=F.get();R.set(b,T),this.h?this.h.next=R:this.g=R,this.h=R}}var F=new M(()=>new oe,h=>h.reset());class oe{constructor(){this.next=this.g=this.h=null}set(b,T){this.h=b,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let re,ce=!1,C=new G,A=()=>{const h=Promise.resolve(void 0);re=()=>{h.then(I)}};function I(){for(var h;h=B();){try{h.h.call(h.g)}catch(T){O(T)}var b=F;b.j(h),b.h<100&&(b.h++,h.next=b.g,b.g=h)}ce=!1}function P(){this.u=this.u,this.C=this.C}P.prototype.u=!1,P.prototype.dispose=function(){this.u||(this.u=!0,this.N())},P.prototype[Symbol.dispose]=function(){this.dispose()},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function k(h,b){this.type=h,this.g=this.target=b,this.defaultPrevented=!1}k.prototype.h=function(){this.defaultPrevented=!0};var z=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,b=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const T=()=>{};c.addEventListener("test",T,b),c.removeEventListener("test",T,b)}catch{}return h})();function V(h){return/^[\s\xa0]*$/.test(h)}function Qe(h,b){k.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,b)}_(Qe,k),Qe.prototype.init=function(h,b){const T=this.type=h.type,R=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=b,b=h.relatedTarget,b||(T=="mouseover"?b=h.fromElement:T=="mouseout"&&(b=h.toElement)),this.relatedTarget=b,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&Qe.Z.h.call(this)},Qe.prototype.h=function(){Qe.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var ut="closure_listenable_"+(Math.random()*1e6|0),J=0;function ae(h,b,T,R,q){this.listener=h,this.proxy=null,this.src=b,this.type=T,this.capture=!!R,this.ha=q,this.key=++J,this.da=this.fa=!1}function de(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Te(h,b,T){for(const R in h)b.call(T,h[R],R,h)}function Pe(h,b){for(const T in h)b.call(void 0,h[T],T,h)}function L(h){const b={};for(const T in h)b[T]=h[T];return b}const te="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function he(h,b){let T,R;for(let q=1;q<arguments.length;q++){R=arguments[q];for(T in R)h[T]=R[T];for(let X=0;X<te.length;X++)T=te[X],Object.prototype.hasOwnProperty.call(R,T)&&(h[T]=R[T])}}function me(h){this.src=h,this.g={},this.h=0}me.prototype.add=function(h,b,T,R,q){const X=h.toString();h=this.g[X],h||(h=this.g[X]=[],this.h++);const ue=Me(h,b,R,q);return ue>-1?(b=h[ue],T||(b.fa=!1)):(b=new ae(b,this.src,X,!!R,q),b.fa=T,h.push(b)),b};function Ee(h,b){const T=b.type;if(T in h.g){var R=h.g[T],q=Array.prototype.indexOf.call(R,b,void 0),X;(X=q>=0)&&Array.prototype.splice.call(R,q,1),X&&(de(b),h.g[T].length==0&&(delete h.g[T],h.h--))}}function Me(h,b,T,R){for(let q=0;q<h.length;++q){const X=h[q];if(!X.da&&X.listener==b&&X.capture==!!T&&X.ha==R)return q}return-1}var Ce="closure_lm_"+(Math.random()*1e6|0),_t={};function ht(h,b,T,R,q){if(Array.isArray(b)){for(let X=0;X<b.length;X++)ht(h,b[X],T,R,q);return null}return T=Y(T),h&&h[ut]?h.J(b,T,f(R)?!!R.capture:!1,q):On(h,b,T,!1,R,q)}function On(h,b,T,R,q,X){if(!b)throw Error("Invalid event type");const ue=f(q)?!!q.capture:!!q;let Ve=Pi(h);if(Ve||(h[Ce]=Ve=new me(h)),T=Ve.add(b,T,R,ue,X),T.proxy)return T;if(R=Zs(),T.proxy=R,R.src=h,R.listener=T,h.addEventListener)z||(q=ue),q===void 0&&(q=!1),h.addEventListener(b.toString(),R,q);else if(h.attachEvent)h.attachEvent(Qn(b.toString()),R);else if(h.addListener&&h.removeListener)h.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return T}function Zs(){function h(T){return b.call(h.src,h.listener,T)}const b=tr;return h}function er(h,b,T,R,q){if(Array.isArray(b))for(var X=0;X<b.length;X++)er(h,b[X],T,R,q);else R=f(R)?!!R.capture:!!R,T=Y(T),h&&h[ut]?(h=h.i,X=String(b).toString(),X in h.g&&(b=h.g[X],T=Me(b,T,R,q),T>-1&&(de(b[T]),Array.prototype.splice.call(b,T,1),b.length==0&&(delete h.g[X],h.h--)))):h&&(h=Pi(h))&&(b=h.g[b.toString()],h=-1,b&&(h=Me(b,T,R,q)),(T=h>-1?b[h]:null)&&vs(T))}function vs(h){if(typeof h!="number"&&h&&!h.da){var b=h.src;if(b&&b[ut])Ee(b.i,h);else{var T=h.type,R=h.proxy;b.removeEventListener?b.removeEventListener(T,R,h.capture):b.detachEvent?b.detachEvent(Qn(T),R):b.addListener&&b.removeListener&&b.removeListener(R),(T=Pi(b))?(Ee(T,h),T.h==0&&(T.src=null,b[Ce]=null)):de(h)}}}function Qn(h){return h in _t?_t[h]:_t[h]="on"+h}function tr(h,b){if(h.da)h=!0;else{b=new Qe(b,this);const T=h.listener,R=h.ha||h.src;h.fa&&vs(h),h=T.call(R,b)}return h}function Pi(h){return h=h[Ce],h instanceof me?h:null}var nr="__closure_events_fn_"+(Math.random()*1e9>>>0);function Y(h){return typeof h=="function"?h:(h[nr]||(h[nr]=function(b){return h.handleEvent(b)}),h[nr])}function le(){P.call(this),this.i=new me(this),this.M=this,this.G=null}_(le,P),le.prototype[ut]=!0,le.prototype.removeEventListener=function(h,b,T,R){er(this,h,b,T,R)};function xe(h,b){var T,R=h.G;if(R)for(T=[];R;R=R.G)T.push(R);if(h=h.M,R=b.type||b,typeof b=="string")b=new k(b,h);else if(b instanceof k)b.target=b.target||h;else{var q=b;b=new k(R,h),he(b,q)}q=!0;let X,ue;if(T)for(ue=T.length-1;ue>=0;ue--)X=b.g=T[ue],q=Se(X,R,!0,b)&&q;if(X=b.g=h,q=Se(X,R,!0,b)&&q,q=Se(X,R,!1,b)&&q,T)for(ue=0;ue<T.length;ue++)X=b.g=T[ue],q=Se(X,R,!1,b)&&q}le.prototype.N=function(){if(le.Z.N.call(this),this.i){var h=this.i;for(const b in h.g){const T=h.g[b];for(let R=0;R<T.length;R++)de(T[R]);delete h.g[b],h.h--}}this.G=null},le.prototype.J=function(h,b,T,R){return this.i.add(String(h),b,!1,T,R)},le.prototype.K=function(h,b,T,R){return this.i.add(String(h),b,!0,T,R)};function Se(h,b,T,R){if(b=h.i.g[String(b)],!b)return!0;b=b.concat();let q=!0;for(let X=0;X<b.length;++X){const ue=b[X];if(ue&&!ue.da&&ue.capture==T){const Ve=ue.listener,It=ue.ha||ue.src;ue.fa&&Ee(h.i,ue),q=Ve.call(It,R)!==!1&&q}}return q&&!R.defaultPrevented}function $e(h,b){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=p(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(b)>2147483647?-1:c.setTimeout(h,b||0)}function so(h){h.g=$e(()=>{h.g=null,h.i&&(h.i=!1,so(h))},h.l);const b=h.h;h.h=null,h.m.apply(null,b)}class Wt extends P{constructor(b,T){super(),this.m=b,this.l=T,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:so(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function wt(h){P.call(this),this.h=h,this.g={}}_(wt,P);var Ol=[];function jl(h){Te(h.g,function(b,T){this.g.hasOwnProperty(T)&&vs(b)},h),h.g={}}wt.prototype.N=function(){wt.Z.N.call(this),jl(this)},wt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ir=c.JSON.stringify,rm=c.JSON.parse,$c=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function Kc(){}function Yc(){}var pi={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function rn(){k.call(this,"d")}_(rn,k);function Xn(){k.call(this,"c")}_(Xn,k);var Nt={},Qc=null;function ro(){return Qc=Qc||new le}Nt.Ia="serverreachability";function Xc(h){k.call(this,Nt.Ia,h)}_(Xc,k);function Li(h){const b=ro();xe(b,new Xc(b))}Nt.STAT_EVENT="statevent";function ua(h,b){k.call(this,Nt.STAT_EVENT,h),this.stat=b}_(ua,k);function jt(h){const b=ro();xe(b,new ua(b,h))}Nt.Ja="timingevent";function Ui(h,b){k.call(this,Nt.Ja,h),this.size=b}_(Ui,k);function zi(h,b){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},b)}function gi(){this.g=!0}gi.prototype.ua=function(){this.g=!1};function am(h,b,T,R,q,X){h.info(function(){if(h.g)if(X){var ue="",Ve=X.split("&");for(let Je=0;Je<Ve.length;Je++){var It=Ve[Je].split("=");if(It.length>1){const gt=It[0];It=It[1];const ei=gt.split("_");ue=ei.length>=2&&ei[1]=="type"?ue+(gt+"="+It+"&"):ue+(gt+"=redacted&")}}}else ue=null;else ue=X;return"XMLHTTP REQ ("+R+") [attempt "+q+"]: "+b+`
`+T+`
`+ue})}function Wc(h,b,T,R,q,X,ue){h.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+q+"]: "+b+`
`+T+`
`+X+" "+ue})}function Bi(h,b,T,R){h.info(function(){return"XMLHTTP TEXT ("+b+"): "+om(h,T)+(R?" "+R:"")})}function ca(h,b){h.info(function(){return"TIMEOUT: "+b})}gi.prototype.info=function(){};function om(h,b){if(!h.g)return b;if(!b)return null;try{const X=JSON.parse(b);if(X){for(h=0;h<X.length;h++)if(Array.isArray(X[h])){var T=X[h];if(!(T.length<2)){var R=T[1];if(Array.isArray(R)&&!(R.length<1)){var q=R[0];if(q!="noop"&&q!="stop"&&q!="close")for(let ue=1;ue<R.length;ue++)R[ue]=""}}}}return ir(X)}catch{return b}}var ha={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Pl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ll;function fa(){}_(fa,Kc),fa.prototype.g=function(){return new XMLHttpRequest},Ll=new fa;function _s(h){return encodeURIComponent(String(h))}function Jc(h){var b=1;h=h.split(":");const T=[];for(;b>0&&h.length;)T.push(h.shift()),b--;return h.length&&T.push(h.join(":")),T}function yi(h,b,T,R){this.j=h,this.i=b,this.l=T,this.S=R||1,this.V=new wt(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new vi}function vi(){this.i=null,this.g="",this.h=!1}var Pt={},Jt={};function Fi(h,b,T){h.M=1,h.A=da(Ut(b)),h.u=T,h.R=!0,ao(h,null)}function ao(h,b){h.F=Date.now(),Hi(h),h.B=Ut(h.A);var T=h.B,R=h.S;Array.isArray(R)||(R=[String(R)]),co(T.i,"t",R),h.C=0,T=h.j.L,h.h=new vi,h.g=dh(h.j,T?b:null,!h.u),h.P>0&&(h.O=new Wt(p(h.Y,h,h.g),h.P)),b=h.V,T=h.g,R=h.ba;var q="readystatechange";Array.isArray(q)||(q&&(Ol[0]=q.toString()),q=Ol);for(let X=0;X<q.length;X++){const ue=ht(T,q[X],R||b.handleEvent,!1,b.h||b);if(!ue)break;b.g[ue.key]=ue}b=h.J?L(h.J):{},h.u?(h.v||(h.v="POST"),b["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,b)):(h.v="GET",h.g.ea(h.B,h.v,null,b)),Li(),am(h.i,h.v,h.B,h.l,h.S,h.u)}yi.prototype.ba=function(h){h=h.target;const b=this.O;b&&xi(h)==3?b.j():this.Y(h)},yi.prototype.Y=function(h){try{if(h==this.g)e:{const Ve=xi(this.g),It=this.g.ya(),Je=this.g.ca();if(!(Ve<3)&&(Ve!=3||this.g&&(this.h.h||this.g.la()||an(this.g)))){this.K||Ve!=4||It==7||(It==8||Je<=0?Li(3):Li(2)),qi(this);var b=this.g.ca();this.X=b;var T=lm(this);if(this.o=b==200,Wc(this.i,this.v,this.B,this.l,this.S,Ve,b),this.o){if(this.U&&!this.L){t:{if(this.g){var R,q=this.g;if((R=q.g?q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!V(R)){var X=R;break t}}X=null}if(h=X)Bi(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Gi(this,h);else{this.o=!1,this.m=3,jt(12),jn(this),Wn(this);break e}}if(this.R){h=!0;let gt;for(;!this.K&&this.C<T.length;)if(gt=eh(this,T),gt==Jt){Ve==4&&(this.m=4,jt(14),h=!1),Bi(this.i,this.l,null,"[Incomplete Response]");break}else if(gt==Pt){this.m=4,jt(15),Bi(this.i,this.l,T,"[Invalid Chunk]"),h=!1;break}else Bi(this.i,this.l,gt,null),Gi(this,gt);if(Zc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ve!=4||T.length!=0||this.h.h||(this.m=1,jt(16),h=!1),this.o=this.o&&h,!h)Bi(this.i,this.l,T,"[Invalid Chunked Response]"),jn(this),Wn(this);else if(T.length>0&&!this.W){this.W=!0;var ue=this.j;ue.g==this&&ue.aa&&!ue.P&&(ue.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),Zl(ue),ue.P=!0,jt(11))}}else Bi(this.i,this.l,T,null),Gi(this,T);Ve==4&&jn(this),this.o&&!this.K&&(Ve==4?uh(this.j,this):(this.o=!1,Hi(this)))}else xs(this.g),b==400&&T.indexOf("Unknown SID")>0?(this.m=3,jt(12)):(this.m=0,jt(13)),jn(this),Wn(this)}}}catch{}finally{}};function lm(h){if(!Zc(h))return h.g.la();const b=an(h.g);if(b==="")return"";let T="";const R=b.length,q=xi(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return jn(h),Wn(h),"";h.h.i=new c.TextDecoder}for(let X=0;X<R;X++)h.h.h=!0,T+=h.h.i.decode(b[X],{stream:!(q&&X==R-1)});return b.length=0,h.h.g+=T,h.C=0,h.h.g}function Zc(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function eh(h,b){var T=h.C,R=b.indexOf(`
`,T);return R==-1?Jt:(T=Number(b.substring(T,R)),isNaN(T)?Pt:(R+=1,R+T>b.length?Jt:(b=b.slice(R,R+T),h.C=R+T,b)))}yi.prototype.cancel=function(){this.K=!0,jn(this)};function Hi(h){h.T=Date.now()+h.H,oo(h,h.H)}function oo(h,b){if(h.D!=null)throw Error("WatchDog timer not null");h.D=zi(p(h.aa,h),b)}function qi(h){h.D&&(c.clearTimeout(h.D),h.D=null)}yi.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(ca(this.i,this.B),this.M!=2&&(Li(),jt(17)),jn(this),this.m=2,Wn(this)):oo(this,this.T-h)};function Wn(h){h.j.I==0||h.K||uh(h.j,h)}function jn(h){qi(h);var b=h.O;b&&typeof b.dispose=="function"&&b.dispose(),h.O=null,jl(h.V),h.g&&(b=h.g,h.g=null,b.abort(),b.dispose())}function Gi(h,b){try{var T=h.j;if(T.I!=0&&(T.g==h||Ki(T.h,h))){if(!h.L&&Ki(T.h,h)&&T.I==3){try{var R=T.Ba.g.parse(b)}catch{R=null}if(Array.isArray(R)&&R.length==3){var q=R;if(q[0]==0){e:if(!T.v){if(T.g)if(T.g.F+3e3<h.F)go(T),hr(T);else break e;ba(T),jt(18)}}else T.xa=q[1],0<T.xa-T.K&&q[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=zi(p(T.Va,T),6e3));$i(T.h)<=1&&T.ta&&(T.ta=void 0)}else Zi(T,11)}else if((h.L||T.g==h)&&go(T),!V(b))for(q=T.Ba.g.parse(b),b=0;b<q.length;b++){let Je=q[b];const gt=Je[0];if(!(gt<=T.K))if(T.K=gt,Je=Je[1],T.I==2)if(Je[0]=="c"){T.M=Je[1],T.ba=Je[2];const ei=Je[3];ei!=null&&(T.ka=ei,T.j.info("VER="+T.ka));const es=Je[4];es!=null&&(T.za=es,T.j.info("SVER="+T.za));const wi=Je[5];wi!=null&&typeof wi=="number"&&wi>0&&(R=1.5*wi,T.O=R,T.j.info("backChannelRequestTimeoutMs_="+R)),R=T;const Ti=h.g;if(Ti){const xa=Ti.g?Ti.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(xa){var X=R.h;X.g||xa.indexOf("spdy")==-1&&xa.indexOf("quic")==-1&&xa.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(Bl(X,X.h),X.h=null))}if(R.G){const yo=Ti.g?Ti.g.getResponseHeader("X-HTTP-Session-Id"):null;yo&&(R.wa=yo,nt(R.J,R.G,yo))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-h.F,T.j.info("Handshake RTT: "+T.T+"ms")),R=T;var ue=h;if(R.na=fh(R,R.L?R.ba:null,R.W),ue.L){Fl(R.h,ue);var Ve=ue,It=R.O;It&&(Ve.H=It),Ve.D&&(qi(Ve),Hi(Ve)),R.g=ue}else oh(R);T.i.length>0&&Ji(T)}else Je[0]!="stop"&&Je[0]!="close"||Zi(T,7);else T.I==3&&(Je[0]=="stop"||Je[0]=="close"?Je[0]=="stop"?Zi(T,7):Wl(T):Je[0]!="noop"&&T.l&&T.l.qa(Je),T.A=0)}}Li(4)}catch{}}var Lt=class{constructor(h,b){this.g=h,this.map=b}};function Ul(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function zl(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function $i(h){return h.h?1:h.g?h.g.size:0}function Ki(h,b){return h.h?h.h==b:h.g?h.g.has(b):!1}function Bl(h,b){h.g?h.g.add(b):h.h=b}function Fl(h,b){h.h&&h.h==b?h.h=null:h.g&&h.g.has(b)&&h.g.delete(b)}Ul.prototype.cancel=function(){if(this.i=Hl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Hl(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let b=h.i;for(const T of h.g.values())b=b.concat(T.G);return b}return S(h.i)}var th=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function lo(h,b){if(h){h=h.split("&");for(let T=0;T<h.length;T++){const R=h[T].indexOf("=");let q,X=null;R>=0?(q=h[T].substring(0,R),X=h[T].substring(R+1)):q=h[T],b(q,X?decodeURIComponent(X.replace(/\+/g," ")):"")}}}function Pn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let b;h instanceof Pn?(this.l=h.l,Zt(this,h.j),this.o=h.o,this.g=h.g,sr(this,h.u),this.h=h.h,ql(this,rh(h.i)),this.m=h.m):h&&(b=String(h).match(th))?(this.l=!1,Zt(this,b[1]||"",!0),this.o=Yi(b[2]||""),this.g=Yi(b[3]||"",!0),sr(this,b[4]),this.h=Yi(b[5]||"",!0),ql(this,b[6]||"",!0),this.m=Yi(b[7]||"")):(this.l=!1,this.i=new ar(null,this.l))}Pn.prototype.toString=function(){const h=[];var b=this.j;b&&h.push(ma(b,uo,!0),":");var T=this.g;return(T||b=="file")&&(h.push("//"),(b=this.o)&&h.push(ma(b,uo,!0),"@"),h.push(_s(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&h.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&h.push("/"),h.push(ma(T,T.charAt(0)=="/"?Gl:nh,!0))),(T=this.i.toString())&&h.push("?",T),(T=this.m)&&h.push("#",ma(T,ih)),h.join("")},Pn.prototype.resolve=function(h){const b=Ut(this);let T=!!h.j;T?Zt(b,h.j):T=!!h.o,T?b.o=h.o:T=!!h.g,T?b.g=h.g:T=h.u!=null;var R=h.h;if(T)sr(b,h.u);else if(T=!!h.h){if(R.charAt(0)!="/")if(this.g&&!this.h)R="/"+R;else{var q=b.h.lastIndexOf("/");q!=-1&&(R=b.h.slice(0,q+1)+R)}if(q=R,q==".."||q==".")R="";else if(q.indexOf("./")!=-1||q.indexOf("/.")!=-1){R=q.lastIndexOf("/",0)==0,q=q.split("/");const X=[];for(let ue=0;ue<q.length;){const Ve=q[ue++];Ve=="."?R&&ue==q.length&&X.push(""):Ve==".."?((X.length>1||X.length==1&&X[0]!="")&&X.pop(),R&&ue==q.length&&X.push("")):(X.push(Ve),R=!0)}R=X.join("/")}else R=q}return T?b.h=R:T=h.i.toString()!=="",T?ql(b,rh(h.i)):T=!!h.m,T&&(b.m=h.m),b};function Ut(h){return new Pn(h)}function Zt(h,b,T){h.j=T?Yi(b,!0):b,h.j&&(h.j=h.j.replace(/:$/,""))}function sr(h,b){if(b){if(b=Number(b),isNaN(b)||b<0)throw Error("Bad port number "+b);h.u=b}else h.u=null}function ql(h,b,T){b instanceof ar?(h.i=b,ho(h.i,h.l)):(T||(b=ma(b,rr)),h.i=new ar(b,h.l))}function nt(h,b,T){h.i.set(b,T)}function da(h){return nt(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Yi(h,b){return h?b?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function ma(h,b,T){return typeof h=="string"?(h=encodeURI(h).replace(b,Sn),T&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Sn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var uo=/[#\/\?@]/g,nh=/[#\?:]/g,Gl=/[#\?]/g,rr=/[#\?@]/g,ih=/#/g;function ar(h,b){this.h=this.g=null,this.i=h||null,this.j=!!b}function An(h){h.g||(h.g=new Map,h.h=0,h.i&&lo(h.i,function(b,T){h.add(decodeURIComponent(b.replace(/\+/g," ")),T)}))}t=ar.prototype,t.add=function(h,b){An(this),this.i=null,h=or(this,h);let T=this.g.get(h);return T||this.g.set(h,T=[]),T.push(b),this.h+=1,this};function sh(h,b){An(h),b=or(h,b),h.g.has(b)&&(h.i=null,h.h-=h.g.get(b).length,h.g.delete(b))}function $l(h,b){return An(h),b=or(h,b),h.g.has(b)}t.forEach=function(h,b){An(this),this.g.forEach(function(T,R){T.forEach(function(q){h.call(b,q,R,this)},this)},this)};function Kl(h,b){An(h);let T=[];if(typeof b=="string")$l(h,b)&&(T=T.concat(h.g.get(or(h,b))));else for(h=Array.from(h.g.values()),b=0;b<h.length;b++)T=T.concat(h[b]);return T}t.set=function(h,b){return An(this),this.i=null,h=or(this,h),$l(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[b]),this.h+=1,this},t.get=function(h,b){return h?(h=Kl(this,h),h.length>0?String(h[0]):b):b};function co(h,b,T){sh(h,b),T.length>0&&(h.i=null,h.g.set(or(h,b),S(T)),h.h+=T.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],b=Array.from(this.g.keys());for(let R=0;R<b.length;R++){var T=b[R];const q=_s(T);T=Kl(this,T);for(let X=0;X<T.length;X++){let ue=q;T[X]!==""&&(ue+="="+_s(T[X])),h.push(ue)}}return this.i=h.join("&")};function rh(h){const b=new ar;return b.i=h.i,h.g&&(b.g=new Map(h.g),b.h=h.h),b}function or(h,b){return b=String(b),h.j&&(b=b.toLowerCase()),b}function ho(h,b){b&&!h.j&&(An(h),h.i=null,h.g.forEach(function(T,R){const q=R.toLowerCase();R!=q&&(sh(this,R),co(this,q,T))},h)),h.j=b}function _i(h,b){const T=new gi;if(c.Image){const R=new Image;R.onload=v(Jn,T,"TestLoadImage: loaded",!0,b,R),R.onerror=v(Jn,T,"TestLoadImage: error",!1,b,R),R.onabort=v(Jn,T,"TestLoadImage: abort",!1,b,R),R.ontimeout=v(Jn,T,"TestLoadImage: timeout",!1,b,R),c.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=h}else b(!1)}function Yl(h,b){const T=new gi,R=new AbortController,q=setTimeout(()=>{R.abort(),Jn(T,"TestPingServer: timeout",!1,b)},1e4);fetch(h,{signal:R.signal}).then(X=>{clearTimeout(q),X.ok?Jn(T,"TestPingServer: ok",!0,b):Jn(T,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(q),Jn(T,"TestPingServer: error",!1,b)})}function Jn(h,b,T,R,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),R(T)}catch{}}function lr(){this.g=new $c}function Qi(h){this.i=h.Sb||null,this.h=h.ab||!1}_(Qi,Kc),Qi.prototype.g=function(){return new pa(this.i,this.h)};function pa(h,b){le.call(this),this.H=h,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}_(pa,le),t=pa.prototype,t.open=function(h,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=b,this.readyState=1,bi(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const b={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(b.body=h),(this.H||c).fetch(new Request(this.D,b)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ur(this)),this.readyState=0},t.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,bi(this)),this.g&&(this.readyState=3,bi(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;fo(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function fo(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}t.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var b=h.value?h.value:new Uint8Array(0);(b=this.B.decode(b,{stream:!h.done}))&&(this.response=this.responseText+=b)}h.done?ur(this):bi(this),this.readyState==3&&fo(this)}},t.Oa=function(h){this.g&&(this.response=this.responseText=h,ur(this))},t.Na=function(h){this.g&&(this.response=h,ur(this))},t.ga=function(){this.g&&ur(this)};function ur(h){h.readyState=4,h.l=null,h.j=null,h.B=null,bi(h)}t.setRequestHeader=function(h,b){this.A.append(h,b)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],b=this.h.entries();for(var T=b.next();!T.done;)T=T.value,h.push(T[0]+": "+T[1]),T=b.next();return h.join(`\r
`)};function bi(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(pa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Zn(h){let b="";return Te(h,function(T,R){b+=R,b+=":",b+=T,b+=`\r
`}),b}function ga(h,b,T){e:{for(R in T){var R=!1;break e}R=!0}R||(T=Zn(T),typeof h=="string"?T!=null&&_s(T):nt(h,b,T))}function rt(h){le.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}_(rt,le);var Xi=/^https?$/i,Ql=["POST","PUT"];t=rt.prototype,t.Fa=function(h){this.H=h},t.ea=function(h,b,T,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);b=b?b.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ll.g(),this.g.onreadystatechange=w(p(this.Ca,this));try{this.B=!0,this.g.open(b,String(h),!0),this.B=!1}catch(X){ya(this,X);return}if(h=T||"",T=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var q in R)T.set(q,R[q]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const X of R.keys())T.set(X,R.get(X));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(T.keys()).find(X=>X.toLowerCase()=="content-type"),q=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(Ql,b,void 0)>=0)||R||q||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,ue]of T)this.g.setRequestHeader(X,ue);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(X){ya(this,X)}};function ya(h,b){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=b,h.o=5,Xl(h),bs(h)}function Xl(h){h.A||(h.A=!0,xe(h,"complete"),xe(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,xe(this,"complete"),xe(this,"abort"),bs(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),bs(this,!0)),rt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?va(this):this.Xa())},t.Xa=function(){va(this)};function va(h){if(h.h&&typeof l<"u"){if(h.v&&xi(h)==4)setTimeout(h.Ca.bind(h),0);else if(xe(h,"readystatechange"),xi(h)==4){h.h=!1;try{const X=h.ca();e:switch(X){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break e;default:b=!1}var T;if(!(T=b)){var R;if(R=X===0){let ue=String(h.D).match(th)[1]||null;!ue&&c.self&&c.self.location&&(ue=c.self.location.protocol.slice(0,-1)),R=!Xi.test(ue?ue.toLowerCase():"")}T=R}if(T)xe(h,"complete"),xe(h,"success");else{h.o=6;try{var q=xi(h)>2?h.g.statusText:""}catch{q=""}h.l=q+" ["+h.ca()+"]",Xl(h)}}finally{bs(h)}}}}function bs(h,b){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const T=h.g;h.g=null,b||xe(h,"ready");try{T.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function xi(h){return h.g?h.g.readyState:0}t.ca=function(){try{return xi(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(h){if(this.g){var b=this.g.responseText;return h&&b.indexOf(h)==0&&(b=b.substring(h.length)),rm(b)}};function an(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function xs(h){const b={};h=(h.g&&xi(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<h.length;R++){if(V(h[R]))continue;var T=Jc(h[R]);const q=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const X=b[q]||[];b[q]=X,X.push(T)}Pe(b,function(R){return R.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Wi(h,b,T){return T&&T.internalChannelParams&&T.internalChannelParams[h]||b}function cr(h){this.za=0,this.i=[],this.j=new gi,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Wi("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Wi("baseRetryDelayMs",5e3,h),this.Za=Wi("retryDelaySeedMs",1e4,h),this.Ta=Wi("forwardChannelMaxRetries",2,h),this.va=Wi("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new Ul(h&&h.concurrentRequestLimit),this.Ba=new lr,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=cr.prototype,t.ka=8,t.I=1,t.connect=function(h,b,T,R){jt(0),this.W=h,this.H=b||{},T&&R!==void 0&&(this.H.OSID=T,this.H.OAID=R),this.F=this.X,this.J=fh(this,null,this.W),Ji(this)};function Wl(h){if(mo(h),h.I==3){var b=h.V++,T=Ut(h.J);if(nt(T,"SID",h.M),nt(T,"RID",b),nt(T,"TYPE","terminate"),_a(h,T),b=new yi(h,h.j,b),b.M=2,b.A=da(Ut(T)),T=!1,c.navigator&&c.navigator.sendBeacon)try{T=c.navigator.sendBeacon(b.A.toString(),"")}catch{}!T&&c.Image&&(new Image().src=b.A,T=!0),T||(b.g=dh(b.j,null),b.g.ea(b.A)),b.F=Date.now(),Hi(b)}hh(h)}function hr(h){h.g&&(Zl(h),h.g.cancel(),h.g=null)}function mo(h){hr(h),h.v&&(c.clearTimeout(h.v),h.v=null),go(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function Ji(h){if(!zl(h.h)&&!h.m){h.m=!0;var b=h.Ea;re||A(),ce||(re(),ce=!0),C.add(b,h),h.D=0}}function po(h,b){return $i(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=b.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=zi(p(h.Ea,h,b),ch(h,h.D)),h.D++,!0)}t.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const q=new yi(this,this.j,h);let X=this.o;if(this.U&&(X?(X=L(X),he(X,this.U)):X=this.U),this.u!==null||this.R||(q.J=X,X=null),this.S)e:{for(var b=0,T=0;T<this.i.length;T++){t:{var R=this.i[T];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(b+=R,b>4096){b=T;break e}if(b===4096||T===this.i.length-1){b=T+1;break e}}b=1e3}else b=1e3;b=ah(this,q,b),T=Ut(this.J),nt(T,"RID",h),nt(T,"CVER",22),this.G&&nt(T,"X-HTTP-Session-Id",this.G),_a(this,T),X&&(this.R?b="headers="+_s(Zn(X))+"&"+b:this.u&&ga(T,this.u,X)),Bl(this.h,q),this.Ra&&nt(T,"TYPE","init"),this.S?(nt(T,"$req",b),nt(T,"SID","null"),q.U=!0,Fi(q,T,null)):Fi(q,T,b),this.I=2}}else this.I==3&&(h?Jl(this,h):this.i.length==0||zl(this.h)||Jl(this))};function Jl(h,b){var T;b?T=b.l:T=h.V++;const R=Ut(h.J);nt(R,"SID",h.M),nt(R,"RID",T),nt(R,"AID",h.K),_a(h,R),h.u&&h.o&&ga(R,h.u,h.o),T=new yi(h,h.j,T,h.D+1),h.u===null&&(T.J=h.o),b&&(h.i=b.G.concat(h.i)),b=ah(h,T,1e3),T.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),Bl(h.h,T),Fi(T,R,b)}function _a(h,b){h.H&&Te(h.H,function(T,R){nt(b,R,T)}),h.l&&Te({},function(T,R){nt(b,R,T)})}function ah(h,b,T){T=Math.min(h.i.length,T);const R=h.l?p(h.l.Ka,h.l,h):null;e:{var q=h.i;let Ve=-1;for(;;){const It=["count="+T];Ve==-1?T>0?(Ve=q[0].g,It.push("ofs="+Ve)):Ve=0:It.push("ofs="+Ve);let Je=!0;for(let gt=0;gt<T;gt++){var X=q[gt].g;const ei=q[gt].map;if(X-=Ve,X<0)Ve=Math.max(0,q[gt].g-100),Je=!1;else try{X="req"+X+"_"||"";try{var ue=ei instanceof Map?ei:Object.entries(ei);for(const[es,wi]of ue){let Ti=wi;f(wi)&&(Ti=ir(wi)),It.push(X+es+"="+encodeURIComponent(Ti))}}catch(es){throw It.push(X+"type="+encodeURIComponent("_badmap")),es}}catch{R&&R(ei)}}if(Je){ue=It.join("&");break e}}ue=void 0}return h=h.i.splice(0,T),b.G=h,ue}function oh(h){if(!h.g&&!h.v){h.Y=1;var b=h.Da;re||A(),ce||(re(),ce=!0),C.add(b,h),h.A=0}}function ba(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=zi(p(h.Da,h),ch(h,h.A)),h.A++,!0)}t.Da=function(){if(this.v=null,lh(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=zi(p(this.Wa,this),h)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,jt(10),hr(this),lh(this))};function Zl(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function lh(h){h.g=new yi(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var b=Ut(h.na);nt(b,"RID","rpc"),nt(b,"SID",h.M),nt(b,"AID",h.K),nt(b,"CI",h.F?"0":"1"),!h.F&&h.ia&&nt(b,"TO",h.ia),nt(b,"TYPE","xmlhttp"),_a(h,b),h.u&&h.o&&ga(b,h.u,h.o),h.O&&(h.g.H=h.O);var T=h.g;h=h.ba,T.M=1,T.A=da(Ut(b)),T.u=null,T.R=!0,ao(T,h)}t.Va=function(){this.C!=null&&(this.C=null,hr(this),ba(this),jt(19))};function go(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function uh(h,b){var T=null;if(h.g==b){go(h),Zl(h),h.g=null;var R=2}else if(Ki(h.h,b))T=b.G,Fl(h.h,b),R=1;else return;if(h.I!=0){if(b.o)if(R==1){T=b.u?b.u.length:0,b=Date.now()-b.F;var q=h.D;R=ro(),xe(R,new Ui(R,T)),Ji(h)}else oh(h);else if(q=b.m,q==3||q==0&&b.X>0||!(R==1&&po(h,b)||R==2&&ba(h)))switch(T&&T.length>0&&(b=h.h,b.i=b.i.concat(T)),q){case 1:Zi(h,5);break;case 4:Zi(h,10);break;case 3:Zi(h,6);break;default:Zi(h,2)}}}function ch(h,b){let T=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(T*=2),T*b}function Zi(h,b){if(h.j.info("Error code "+b),b==2){var T=p(h.bb,h),R=h.Ua;const q=!R;R=new Pn(R||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Zt(R,"https"),da(R),q?_i(R.toString(),T):Yl(R.toString(),T)}else jt(2);h.I=0,h.l&&h.l.pa(b),hh(h),mo(h)}t.bb=function(h){h?(this.j.info("Successfully pinged google.com"),jt(2)):(this.j.info("Failed to ping google.com"),jt(1))};function hh(h){if(h.I=0,h.ja=[],h.l){const b=Hl(h.h);(b.length!=0||h.i.length!=0)&&(N(h.ja,b),N(h.ja,h.i),h.h.i.length=0,S(h.i),h.i.length=0),h.l.oa()}}function fh(h,b,T){var R=T instanceof Pn?Ut(T):new Pn(T);if(R.g!="")b&&(R.g=b+"."+R.g),sr(R,R.u);else{var q=c.location;R=q.protocol,b=b?b+"."+q.hostname:q.hostname,q=+q.port;const X=new Pn(null);R&&Zt(X,R),b&&(X.g=b),q&&sr(X,q),T&&(X.h=T),R=X}return T=h.G,b=h.wa,T&&b&&nt(R,T,b),nt(R,"VER",h.ka),_a(h,R),R}function dh(h,b,T){if(b&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return b=h.Aa&&!h.ma?new rt(new Qi({ab:T})):new rt(h.ma),b.Fa(h.L),b}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function mh(){}t=mh.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function fr(){}fr.prototype.g=function(h,b){return new _n(h,b)};function _n(h,b){le.call(this),this.g=new cr(b),this.l=h,this.h=b&&b.messageUrlParams||null,h=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(h?h["X-WebChannel-Content-Type"]=b.messageContentType:h={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.sa&&(h?h["X-WebChannel-Client-Profile"]=b.sa:h={"X-WebChannel-Client-Profile":b.sa}),this.g.U=h,(h=b&&b.Qb)&&!V(h)&&(this.g.u=h),this.A=b&&b.supportsCrossDomainXhr||!1,this.v=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!V(b)&&(this.g.G=b,h=this.h,h!==null&&b in h&&(h=this.h,b in h&&delete h[b])),this.j=new ws(this)}_(_n,le),_n.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},_n.prototype.close=function(){Wl(this.g)},_n.prototype.o=function(h){var b=this.g;if(typeof h=="string"){var T={};T.__data__=h,h=T}else this.v&&(T={},T.__data__=ir(h),h=T);b.i.push(new Lt(b.Ya++,h)),b.I==3&&Ji(b)},_n.prototype.N=function(){this.g.l=null,delete this.j,Wl(this.g),delete this.g,_n.Z.N.call(this)};function ph(h){rn.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var b=h.__sm__;if(b){e:{for(const T in b){h=T;break e}h=void 0}(this.i=h)&&(h=this.i,b=b!==null&&h in b?b[h]:void 0),this.data=b}else this.data=h}_(ph,rn);function gh(){Xn.call(this),this.status=1}_(gh,Xn);function ws(h){this.g=h}_(ws,mh),ws.prototype.ra=function(){xe(this.g,"a")},ws.prototype.qa=function(h){xe(this.g,new ph(h))},ws.prototype.pa=function(h){xe(this.g,new gh)},ws.prototype.oa=function(){xe(this.g,"b")},fr.prototype.createWebChannel=fr.prototype.g,_n.prototype.send=_n.prototype.o,_n.prototype.open=_n.prototype.m,_n.prototype.close=_n.prototype.close,US=function(){return new fr},LS=function(){return ro()},PS=Nt,ny={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ha.NO_ERROR=0,ha.TIMEOUT=8,ha.HTTP_ERROR=6,Ff=ha,Pl.COMPLETE="complete",jS=Pl,Yc.EventType=pi,pi.OPEN="a",pi.CLOSE="b",pi.ERROR="c",pi.MESSAGE="d",le.prototype.listen=le.prototype.J,Gu=Yc,rt.prototype.listenOnce=rt.prototype.K,rt.prototype.getLastError=rt.prototype.Ha,rt.prototype.getLastErrorCode=rt.prototype.ya,rt.prototype.getStatus=rt.prototype.ca,rt.prototype.getResponseJson=rt.prototype.La,rt.prototype.getResponseText=rt.prototype.la,rt.prototype.send=rt.prototype.ea,rt.prototype.setWithCredentials=rt.prototype.Fa,OS=rt}).apply(typeof Tf<"u"?Tf:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};gn.UNAUTHENTICATED=new gn(null),gn.GOOGLE_CREDENTIALS=new gn("google-credentials-uid"),gn.FIRST_PARTY=new gn("first-party-uid"),gn.MOCK_USER=new gn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rl="12.8.0";function LM(t){Rl=t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xa=new t0("@firebase/firestore");function Ko(){return Xa.logLevel}function pe(t,...e){if(Xa.logLevel<=He.DEBUG){const n=e.map(d0);Xa.debug(`Firestore (${Rl}): ${t}`,...n)}}function Ys(t,...e){if(Xa.logLevel<=He.ERROR){const n=e.map(d0);Xa.error(`Firestore (${Rl}): ${t}`,...n)}}function ml(t,...e){if(Xa.logLevel<=He.WARN){const n=e.map(d0);Xa.warn(`Firestore (${Rl}): ${t}`,...n)}}function d0(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ae(t,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,zS(t,s,n)}function zS(t,e,n){let s=`FIRESTORE (${Rl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Ys(s),new Error(s)}function tt(t,e,n,s){let a="Unexpected state";typeof n=="string"?a=n:s=n,t||zS(e,a,s)}function ke(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends ys{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class UM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(gn.UNAUTHENTICATED)))}shutdown(){}}class zM{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class BM{constructor(e){this.t=e,this.currentUser=gn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){tt(this.o===void 0,42304);let s=this.i;const a=m=>this.i!==s?(s=this.i,n(m)):Promise.resolve();let l=new Hs;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Hs,e.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const m=l;e.enqueueRetryable((async()=>{await m.promise,await a(this.currentUser)}))},f=m=>{pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((m=>f(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?f(m):(pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Hs)}}),0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(tt(typeof s.accessToken=="string",31837,{l:s}),new BS(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return tt(e===null||typeof e=="string",2055,{h:e}),new gn(e)}}class FM{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=gn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class HM{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new FM(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(gn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class qx{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class qM{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Gn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){tt(this.o===void 0,3512);const s=l=>{l.error!=null&&pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,pe("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>s(l)))};const a=l=>{pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new qx(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(tt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new qx(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GM(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=GM(40);for(let l=0;l<a.length;++l)s.length<20&&a[l]<n&&(s+=e.charAt(a[l]%62))}return s}}function qe(t,e){return t<e?-1:t>e?1:0}function iy(t,e){const n=Math.min(t.length,e.length);for(let s=0;s<n;s++){const a=t.charAt(s),l=e.charAt(s);if(a!==l)return vg(a)===vg(l)?qe(a,l):vg(a)?1:-1}return qe(t.length,e.length)}const $M=55296,KM=57343;function vg(t){const e=t.charCodeAt(0);return e>=$M&&e<=KM}function pl(t,e,n){return t.length===e.length&&t.every(((s,a)=>n(s,e[a])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gx="__name__";class as{constructor(e,n,s){n===void 0?n=0:n>e.length&&Ae(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Ae(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return as.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof as?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let a=0;a<s;a++){const l=as.compareSegments(e.get(a),n.get(a));if(l!==0)return l}return qe(e.length,n.length)}static compareSegments(e,n){const s=as.isNumericId(e),a=as.isNumericId(n);return s&&!a?-1:!s&&a?1:s&&a?as.extractNumericId(e).compare(as.extractNumericId(n)):iy(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Kr.fromString(e.substring(4,e.length-2))}}class ft extends as{construct(e,n,s){return new ft(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new fe(ie.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((a=>a.length>0)))}return new ft(n)}static emptyPath(){return new ft([])}}const YM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class fn extends as{construct(e,n,s){return new fn(e,n,s)}static isValidIdentifier(e){return YM.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),fn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Gx}static keyField(){return new fn([Gx])}static fromServerFormat(e){const n=[];let s="",a=0;const l=()=>{if(s.length===0)throw new fe(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let c=!1;for(;a<e.length;){const f=e[a];if(f==="\\"){if(a+1===e.length)throw new fe(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new fe(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=m,a+=2}else f==="`"?(c=!c,a++):f!=="."||c?(s+=f,a++):(l(),a++)}if(l(),c)throw new fe(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new fn(n)}static emptyPath(){return new fn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e){this.path=e}static fromPath(e){return new be(ft.fromString(e))}static fromName(e){return new be(ft.fromString(e).popFirst(5))}static empty(){return new be(ft.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ft.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ft.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new be(new ft(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FS(t,e,n){if(!n)throw new fe(ie.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function QM(t,e,n,s){if(e===!0&&s===!0)throw new fe(ie.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function $x(t){if(!be.isDocumentKey(t))throw new fe(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Kx(t){if(be.isDocumentKey(t))throw new fe(ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function HS(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function jd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ae(12329,{type:typeof t})}function Mi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new fe(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=jd(t);throw new fe(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kt(t,e){const n={typeString:t};return e&&(n.value=e),n}function Vc(t,e){if(!HS(t))throw new fe(ie.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const a=e[s].typeString,l="value"in e[s]?{value:e[s].value}:void 0;if(!(s in t)){n=`JSON missing required field: '${s}'`;break}const c=t[s];if(a&&typeof c!==a){n=`JSON field '${s}' must be a ${a}.`;break}if(l!==void 0&&c!==l.value){n=`Expected '${s}' field to equal '${l.value}'`;break}}if(n)throw new fe(ie.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yx=-62135596800,Qx=1e6;class pt{static now(){return pt.fromMillis(Date.now())}static fromDate(e){return pt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*Qx);return new pt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new fe(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new fe(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Yx)throw new fe(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Qx}_compareTo(e){return this.seconds===e.seconds?qe(this.nanoseconds,e.nanoseconds):qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:pt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Vc(e,pt._jsonSchema))return new pt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Yx;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}pt._jsonSchemaVersion="firestore/timestamp/1.0",pt._jsonSchema={type:Kt("string",pt._jsonSchemaVersion),seconds:Kt("number"),nanoseconds:Kt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{static fromTimestamp(e){return new Ne(e)}static min(){return new Ne(new pt(0,0))}static max(){return new Ne(new pt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fc=-1;function XM(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,a=Ne.fromTimestamp(s===1e9?new pt(n+1,0):new pt(n,s));return new Wr(a,be.empty(),e)}function WM(t){return new Wr(t.readTime,t.key,fc)}class Wr{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Wr(Ne.min(),be.empty(),fc)}static max(){return new Wr(Ne.max(),be.empty(),fc)}}function JM(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=be.comparator(t.documentKey,e.documentKey),n!==0?n:qe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class eV{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cl(t){if(t.code!==ie.FAILED_PRECONDITION||t.message!==ZM)throw t;pe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ae(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new se(((s,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(s,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof se?n:se.resolve(n)}catch(n){return se.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):se.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):se.reject(n)}static resolve(e){return new se(((n,s)=>{n(e)}))}static reject(e){return new se(((n,s)=>{s(e)}))}static waitFor(e){return new se(((n,s)=>{let a=0,l=0,c=!1;e.forEach((f=>{++a,f.next((()=>{++l,c&&l===a&&n()}),(m=>s(m)))})),c=!0,l===a&&n()}))}static or(e){let n=se.resolve(!1);for(const s of e)n=n.next((a=>a?se.resolve(a):s()));return n}static forEach(e,n){const s=[];return e.forEach(((a,l)=>{s.push(n.call(this,a,l))})),this.waitFor(s)}static mapArray(e,n){return new se(((s,a)=>{const l=e.length,c=new Array(l);let f=0;for(let m=0;m<l;m++){const p=m;n(e[p]).next((v=>{c[p]=v,++f,f===l&&s(c)}),(v=>a(v)))}}))}static doWhile(e,n){return new se(((s,a)=>{const l=()=>{e()===!0?n().next((()=>{l()}),a):s()};l()}))}}function tV(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Nl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Pd.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p0=-1;function Ld(t){return t==null}function ud(t){return t===0&&1/t==-1/0}function nV(t){return typeof t=="number"&&Number.isInteger(t)&&!ud(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qS="";function iV(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Xx(e)),e=sV(t.get(n),e);return Xx(e)}function sV(t,e){let n=e;const s=t.length;for(let a=0;a<s;a++){const l=t.charAt(a);switch(l){case"\0":n+="";break;case qS:n+="";break;default:n+=l}}return n}function Xx(t){return t+qS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wx(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function aa(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function GS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e,n){this.comparator=e,this.root=n||hn.EMPTY}insert(e,n){return new xt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,hn.BLACK,null,null))}remove(e){return new xt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,hn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ef(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ef(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ef(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ef(this.root,e,this.comparator,!0)}}class Ef{constructor(e,n,s,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?s(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class hn{constructor(e,n,s,a,l){this.key=e,this.value=n,this.color=s??hn.RED,this.left=a??hn.EMPTY,this.right=l??hn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,a,l){return new hn(e??this.key,n??this.value,s??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let a=this;const l=s(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,s),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return hn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return hn.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,hn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,hn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ae(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ae(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ae(27949);return e+(this.isRed()?0:1)}}hn.EMPTY=null,hn.RED=!0,hn.BLACK=!1;hn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ae(57766)}get value(){throw Ae(16141)}get color(){throw Ae(16727)}get left(){throw Ae(29726)}get right(){throw Ae(36894)}copy(e,n,s,a,l){return this}insert(e,n,s){return new hn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.comparator=e,this.data=new xt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Jx(this.data.getIterator())}getIteratorFrom(e){return new Jx(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Xt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Xt(this.comparator);return n.data=e,n}}class Jx{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(e){this.fields=e,e.sort(fn.comparator)}static empty(){return new $n([])}unionWith(e){let n=new Xt(fn.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new $n(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return pl(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new $S("Invalid base64 string: "+l):l}})(e);return new dn(n)}static fromUint8Array(e){const n=(function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l})(e);return new dn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}dn.EMPTY_BYTE_STRING=new dn("");const rV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Jr(t){if(tt(!!t,39018),typeof t=="string"){let e=0;const n=rV.exec(t);if(tt(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Vt(t.seconds),nanos:Vt(t.nanos)}}function Vt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Zr(t){return typeof t=="string"?dn.fromBase64String(t):dn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KS="server_timestamp",YS="__type__",QS="__previous_value__",XS="__local_write_time__";function g0(t){var n,s;return((s=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[YS])==null?void 0:s.stringValue)===KS}function Ud(t){const e=t.mapValue.fields[QS];return g0(e)?Ud(e):e}function dc(t){const e=Jr(t.mapValue.fields[XS].timestampValue);return new pt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aV{constructor(e,n,s,a,l,c,f,m,p,v,_){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=f,this.longPollingOptions=m,this.useFetchStreams=p,this.isUsingEmulator=v,this.apiKey=_}}const cd="(default)";class mc{constructor(e,n){this.projectId=e,this.database=n||cd}static empty(){return new mc("","")}get isDefaultDatabase(){return this.database===cd}isEqual(e){return e instanceof mc&&e.projectId===this.projectId&&e.database===this.database}}function oV(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new fe(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new mc(t.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WS="__type__",lV="__max__",Sf={mapValue:{}},JS="__vector__",hd="value";function ea(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?g0(t)?4:cV(t)?9007199254740991:uV(t)?10:11:Ae(28295,{value:t})}function ps(t,e){if(t===e)return!0;const n=ea(t);if(n!==ea(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return dc(t).isEqual(dc(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=Jr(a.timestampValue),f=Jr(l.timestampValue);return c.seconds===f.seconds&&c.nanos===f.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,l){return Zr(a.bytesValue).isEqual(Zr(l.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,l){return Vt(a.geoPointValue.latitude)===Vt(l.geoPointValue.latitude)&&Vt(a.geoPointValue.longitude)===Vt(l.geoPointValue.longitude)})(t,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return Vt(a.integerValue)===Vt(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=Vt(a.doubleValue),f=Vt(l.doubleValue);return c===f?ud(c)===ud(f):isNaN(c)&&isNaN(f)}return!1})(t,e);case 9:return pl(t.arrayValue.values||[],e.arrayValue.values||[],ps);case 10:case 11:return(function(a,l){const c=a.mapValue.fields||{},f=l.mapValue.fields||{};if(Wx(c)!==Wx(f))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(f[m]===void 0||!ps(c[m],f[m])))return!1;return!0})(t,e);default:return Ae(52216,{left:t})}}function pc(t,e){return(t.values||[]).find((n=>ps(n,e)))!==void 0}function gl(t,e){if(t===e)return 0;const n=ea(t),s=ea(e);if(n!==s)return qe(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return qe(t.booleanValue,e.booleanValue);case 2:return(function(l,c){const f=Vt(l.integerValue||l.doubleValue),m=Vt(c.integerValue||c.doubleValue);return f<m?-1:f>m?1:f===m?0:isNaN(f)?isNaN(m)?0:-1:1})(t,e);case 3:return Zx(t.timestampValue,e.timestampValue);case 4:return Zx(dc(t),dc(e));case 5:return iy(t.stringValue,e.stringValue);case 6:return(function(l,c){const f=Zr(l),m=Zr(c);return f.compareTo(m)})(t.bytesValue,e.bytesValue);case 7:return(function(l,c){const f=l.split("/"),m=c.split("/");for(let p=0;p<f.length&&p<m.length;p++){const v=qe(f[p],m[p]);if(v!==0)return v}return qe(f.length,m.length)})(t.referenceValue,e.referenceValue);case 8:return(function(l,c){const f=qe(Vt(l.latitude),Vt(c.latitude));return f!==0?f:qe(Vt(l.longitude),Vt(c.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return ew(t.arrayValue,e.arrayValue);case 10:return(function(l,c){var w,S,N,M;const f=l.fields||{},m=c.fields||{},p=(w=f[hd])==null?void 0:w.arrayValue,v=(S=m[hd])==null?void 0:S.arrayValue,_=qe(((N=p==null?void 0:p.values)==null?void 0:N.length)||0,((M=v==null?void 0:v.values)==null?void 0:M.length)||0);return _!==0?_:ew(p,v)})(t.mapValue,e.mapValue);case 11:return(function(l,c){if(l===Sf.mapValue&&c===Sf.mapValue)return 0;if(l===Sf.mapValue)return 1;if(c===Sf.mapValue)return-1;const f=l.fields||{},m=Object.keys(f),p=c.fields||{},v=Object.keys(p);m.sort(),v.sort();for(let _=0;_<m.length&&_<v.length;++_){const w=iy(m[_],v[_]);if(w!==0)return w;const S=gl(f[m[_]],p[v[_]]);if(S!==0)return S}return qe(m.length,v.length)})(t.mapValue,e.mapValue);default:throw Ae(23264,{he:n})}}function Zx(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return qe(t,e);const n=Jr(t),s=Jr(e),a=qe(n.seconds,s.seconds);return a!==0?a:qe(n.nanos,s.nanos)}function ew(t,e){const n=t.values||[],s=e.values||[];for(let a=0;a<n.length&&a<s.length;++a){const l=gl(n[a],s[a]);if(l)return l}return qe(n.length,s.length)}function yl(t){return sy(t)}function sy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const s=Jr(n);return`time(${s.seconds},${s.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Zr(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return be.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let s="[",a=!0;for(const l of n.values||[])a?a=!1:s+=",",s+=sy(l);return s+"]"})(t.arrayValue):"mapValue"in t?(function(n){const s=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const c of s)l?l=!1:a+=",",a+=`${c}:${sy(n.fields[c])}`;return a+"}"})(t.mapValue):Ae(61005,{value:t})}function Hf(t){switch(ea(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ud(t);return e?16+Hf(e):16;case 5:return 2*t.stringValue.length;case 6:return Zr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((a,l)=>a+Hf(l)),0)})(t.arrayValue);case 10:case 11:return(function(s){let a=0;return aa(s.fields,((l,c)=>{a+=l.length+Hf(c)})),a})(t.mapValue);default:throw Ae(13486,{value:t})}}function tw(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function ry(t){return!!t&&"integerValue"in t}function y0(t){return!!t&&"arrayValue"in t}function nw(t){return!!t&&"nullValue"in t}function iw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function qf(t){return!!t&&"mapValue"in t}function uV(t){var n,s;return((s=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[WS])==null?void 0:s.stringValue)===JS}function Zu(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return aa(t.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Zu(s))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Zu(t.arrayValue.values[n]);return e}return{...t}}function cV(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===lV}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this.value=e}static empty(){return new Mn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!qf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Zu(n)}setAll(e){let n=fn.emptyPath(),s={},a=[];e.forEach(((c,f)=>{if(!n.isImmediateParentOf(f)){const m=this.getFieldsMap(n);this.applyChanges(m,s,a),s={},a=[],n=f.popLast()}c?s[f.lastSegment()]=Zu(c):a.push(f.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,s,a)}delete(e){const n=this.field(e.popLast());qf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ps(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=n.mapValue.fields[e.get(s)];qf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,s){aa(n,((a,l)=>e[a]=l));for(const a of s)delete e[a]}clone(){return new Mn(Zu(this.value))}}function ZS(t){const e=[];return aa(t.fields,((n,s)=>{const a=new fn([n]);if(qf(s)){const l=ZS(s.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)})),new $n(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e,n,s,a,l,c,f){this.key=e,this.documentType=n,this.version=s,this.readTime=a,this.createTime=l,this.data=c,this.documentState=f}static newInvalidDocument(e){return new yn(e,0,Ne.min(),Ne.min(),Ne.min(),Mn.empty(),0)}static newFoundDocument(e,n,s,a){return new yn(e,1,n,Ne.min(),s,a,0)}static newNoDocument(e,n){return new yn(e,2,n,Ne.min(),Ne.min(),Mn.empty(),0)}static newUnknownDocument(e,n){return new yn(e,3,n,Ne.min(),Ne.min(),Mn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof yn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new yn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(e,n){this.position=e,this.inclusive=n}}function sw(t,e,n){let s=0;for(let a=0;a<t.position.length;a++){const l=e[a],c=t.position[a];if(l.field.isKeyField()?s=be.comparator(be.fromName(c.referenceValue),n.key):s=gl(c,n.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function rw(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ps(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dd{constructor(e,n="asc"){this.field=e,this.dir=n}}function hV(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{}class $t extends e2{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new dV(e,n,s):n==="array-contains"?new gV(e,s):n==="in"?new yV(e,s):n==="not-in"?new vV(e,s):n==="array-contains-any"?new _V(e,s):new $t(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new mV(e,s):new pV(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(gl(n,this.value)):n!==null&&ea(this.value)===ea(n)&&this.matchesComparison(gl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ae(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Vi extends e2{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Vi(e,n)}matches(e){return t2(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function t2(t){return t.op==="and"}function n2(t){return fV(t)&&t2(t)}function fV(t){for(const e of t.filters)if(e instanceof Vi)return!1;return!0}function ay(t){if(t instanceof $t)return t.field.canonicalString()+t.op.toString()+yl(t.value);if(n2(t))return t.filters.map((e=>ay(e))).join(",");{const e=t.filters.map((n=>ay(n))).join(",");return`${t.op}(${e})`}}function i2(t,e){return t instanceof $t?(function(s,a){return a instanceof $t&&s.op===a.op&&s.field.isEqual(a.field)&&ps(s.value,a.value)})(t,e):t instanceof Vi?(function(s,a){return a instanceof Vi&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce(((l,c,f)=>l&&i2(c,a.filters[f])),!0):!1})(t,e):void Ae(19439)}function s2(t){return t instanceof $t?(function(n){return`${n.field.canonicalString()} ${n.op} ${yl(n.value)}`})(t):t instanceof Vi?(function(n){return n.op.toString()+" {"+n.getFilters().map(s2).join(" ,")+"}"})(t):"Filter"}class dV extends $t{constructor(e,n,s){super(e,n,s),this.key=be.fromName(s.referenceValue)}matches(e){const n=be.comparator(e.key,this.key);return this.matchesComparison(n)}}class mV extends $t{constructor(e,n){super(e,"in",n),this.keys=r2("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class pV extends $t{constructor(e,n){super(e,"not-in",n),this.keys=r2("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function r2(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((s=>be.fromName(s.referenceValue)))}class gV extends $t{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return y0(n)&&pc(n.arrayValue,this.value)}}class yV extends $t{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&pc(this.value.arrayValue,n)}}class vV extends $t{constructor(e,n){super(e,"not-in",n)}matches(e){if(pc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!pc(this.value.arrayValue,n)}}class _V extends $t{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!y0(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>pc(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bV{constructor(e,n=null,s=[],a=[],l=null,c=null,f=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=l,this.startAt=c,this.endAt=f,this.Te=null}}function aw(t,e=null,n=[],s=[],a=null,l=null,c=null){return new bV(t,e,n,s,a,l,c)}function v0(t){const e=ke(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>ay(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(l){return l.field.canonicalString()+l.dir})(s))).join(","),Ld(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>yl(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>yl(s))).join(",")),e.Te=n}return e.Te}function _0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!hV(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!i2(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!rw(t.startAt,e.startAt)&&rw(t.endAt,e.endAt)}function oy(t){return be.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(e,n=null,s=[],a=[],l=null,c="F",f=null,m=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=l,this.limitType=c,this.startAt=f,this.endAt=m,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function xV(t,e,n,s,a,l,c,f){return new Oc(t,e,n,s,a,l,c,f)}function b0(t){return new Oc(t)}function ow(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function wV(t){return be.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function a2(t){return t.collectionGroup!==null}function ec(t){const e=ke(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),n.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let f=new Xt(fn.comparator);return c.filters.forEach((m=>{m.getFlattenedFilters().forEach((p=>{p.isInequality()&&(f=f.add(p.field))}))})),f})(e).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new dd(l,s))})),n.has(fn.keyField().canonicalString())||e.Ie.push(new dd(fn.keyField(),s))}return e.Ie}function cs(t){const e=ke(t);return e.Ee||(e.Ee=TV(e,ec(t))),e.Ee}function TV(t,e){if(t.limitType==="F")return aw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new dd(a.field,l)}));const n=t.endAt?new fd(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new fd(t.startAt.position,t.startAt.inclusive):null;return aw(t.path,t.collectionGroup,e,t.filters,t.limit,n,s)}}function ly(t,e){const n=t.filters.concat([e]);return new Oc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function uy(t,e,n){return new Oc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function zd(t,e){return _0(cs(t),cs(e))&&t.limitType===e.limitType}function o2(t){return`${v0(cs(t))}|lt:${t.limitType}`}function Yo(t){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((a=>s2(a))).join(", ")}]`),Ld(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((a=>yl(a))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((a=>yl(a))).join(",")),`Target(${s})`})(cs(t))}; limitType=${t.limitType})`}function Bd(t,e){return e.isFoundDocument()&&(function(s,a){const l=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):be.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)})(t,e)&&(function(s,a){for(const l of ec(s))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(t,e)&&(function(s,a){for(const l of s.filters)if(!l.matches(a))return!1;return!0})(t,e)&&(function(s,a){return!(s.startAt&&!(function(c,f,m){const p=sw(c,f,m);return c.inclusive?p<=0:p<0})(s.startAt,ec(s),a)||s.endAt&&!(function(c,f,m){const p=sw(c,f,m);return c.inclusive?p>=0:p>0})(s.endAt,ec(s),a))})(t,e)}function EV(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function l2(t){return(e,n)=>{let s=!1;for(const a of ec(t)){const l=SV(a,e,n);if(l!==0)return l;s=s||a.field.isKeyField()}return 0}}function SV(t,e,n){const s=t.field.isKeyField()?be.comparator(e.key,n.key):(function(l,c,f){const m=c.data.field(l),p=f.data.field(l);return m!==null&&p!==null?gl(m,p):Ae(42886)})(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return Ae(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[a,l]of s)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[n]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){aa(this.inner,((n,s)=>{for(const[a,l]of s)e(a,l)}))}isEmpty(){return GS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AV=new xt(be.comparator);function Qs(){return AV}const u2=new xt(be.comparator);function $u(...t){let e=u2;for(const n of t)e=e.insert(n.key,n);return e}function c2(t){let e=u2;return t.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function Ba(){return tc()}function h2(){return tc()}function tc(){return new to((t=>t.toString()),((t,e)=>t.isEqual(e)))}const RV=new xt(be.comparator),CV=new Xt(be.comparator);function Ge(...t){let e=CV;for(const n of t)e=e.add(n);return e}const NV=new Xt(qe);function IV(){return NV}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x0(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ud(e)?"-0":e}}function f2(t){return{integerValue:""+t}}function DV(t,e){return nV(e)?f2(e):x0(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{constructor(){this._=void 0}}function kV(t,e,n){return t instanceof md?(function(a,l){const c={fields:{[YS]:{stringValue:KS},[XS]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&g0(l)&&(l=Ud(l)),l&&(c.fields[QS]=l),{mapValue:c}})(n,e):t instanceof gc?m2(t,e):t instanceof yc?p2(t,e):(function(a,l){const c=d2(a,l),f=lw(c)+lw(a.Ae);return ry(c)&&ry(a.Ae)?f2(f):x0(a.serializer,f)})(t,e)}function MV(t,e,n){return t instanceof gc?m2(t,e):t instanceof yc?p2(t,e):n}function d2(t,e){return t instanceof pd?(function(s){return ry(s)||(function(l){return!!l&&"doubleValue"in l})(s)})(e)?e:{integerValue:0}:null}class md extends Fd{}class gc extends Fd{constructor(e){super(),this.elements=e}}function m2(t,e){const n=g2(e);for(const s of t.elements)n.some((a=>ps(a,s)))||n.push(s);return{arrayValue:{values:n}}}class yc extends Fd{constructor(e){super(),this.elements=e}}function p2(t,e){let n=g2(e);for(const s of t.elements)n=n.filter((a=>!ps(a,s)));return{arrayValue:{values:n}}}class pd extends Fd{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function lw(t){return Vt(t.integerValue||t.doubleValue)}function g2(t){return y0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function VV(t,e){return t.field.isEqual(e.field)&&(function(s,a){return s instanceof gc&&a instanceof gc||s instanceof yc&&a instanceof yc?pl(s.elements,a.elements,ps):s instanceof pd&&a instanceof pd?ps(s.Ae,a.Ae):s instanceof md&&a instanceof md})(t.transform,e.transform)}class OV{constructor(e,n){this.version=e,this.transformResults=n}}class di{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new di}static exists(e){return new di(void 0,e)}static updateTime(e){return new di(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Gf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Hd{}function y2(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new w0(t.key,di.none()):new jc(t.key,t.data,di.none());{const n=t.data,s=Mn.empty();let a=new Xt(fn.comparator);for(let l of e.fields)if(!a.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?s.delete(l):s.set(l,c),a=a.add(l)}return new oa(t.key,s,new $n(a.toArray()),di.none())}}function jV(t,e,n){t instanceof jc?(function(a,l,c){const f=a.value.clone(),m=cw(a.fieldTransforms,l,c.transformResults);f.setAll(m),l.convertToFoundDocument(c.version,f).setHasCommittedMutations()})(t,e,n):t instanceof oa?(function(a,l,c){if(!Gf(a.precondition,l))return void l.convertToUnknownDocument(c.version);const f=cw(a.fieldTransforms,l,c.transformResults),m=l.data;m.setAll(v2(a)),m.setAll(f),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()})(t,e,n):(function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,n)}function nc(t,e,n,s){return t instanceof jc?(function(l,c,f,m){if(!Gf(l.precondition,c))return f;const p=l.value.clone(),v=hw(l.fieldTransforms,m,c);return p.setAll(v),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null})(t,e,n,s):t instanceof oa?(function(l,c,f,m){if(!Gf(l.precondition,c))return f;const p=hw(l.fieldTransforms,m,c),v=c.data;return v.setAll(v2(l)),v.setAll(p),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((_=>_.field)))})(t,e,n,s):(function(l,c,f){return Gf(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):f})(t,e,n)}function PV(t,e){let n=null;for(const s of t.fieldTransforms){const a=e.data.field(s.field),l=d2(s.transform,a||null);l!=null&&(n===null&&(n=Mn.empty()),n.set(s.field,l))}return n||null}function uw(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&pl(s,a,((l,c)=>VV(l,c)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class jc extends Hd{constructor(e,n,s,a=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class oa extends Hd{constructor(e,n,s,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function v2(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}})),e}function cw(t,e,n){const s=new Map;tt(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let a=0;a<n.length;a++){const l=t[a],c=l.transform,f=e.data.field(l.field);s.set(l.field,MV(c,f,n[a]))}return s}function hw(t,e,n){const s=new Map;for(const a of t){const l=a.transform,c=n.data.field(a.field);s.set(a.field,kV(l,c,e))}return s}class w0 extends Hd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class LV extends Hd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UV{constructor(e,n,s,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&jV(l,e,s[a])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=nc(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=nc(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=h2();return this.mutations.forEach((a=>{const l=e.get(a.key),c=l.overlayedDocument;let f=this.applyToLocalView(c,l.mutatedFields);f=n.has(a.key)?null:f;const m=y2(c,f);m!==null&&s.set(a.key,m),c.isValidDocument()||c.convertToNoDocument(Ne.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ge())}isEqual(e){return this.batchId===e.batchId&&pl(this.mutations,e.mutations,((n,s)=>uw(n,s)))&&pl(this.baseMutations,e.baseMutations,((n,s)=>uw(n,s)))}}class T0{constructor(e,n,s,a){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=a}static from(e,n,s){tt(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let a=(function(){return RV})();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,s[c].version);return new T0(e,n,s,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zV{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BV{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qt,Ye;function FV(t){switch(t){case ie.OK:return Ae(64938);case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0;default:return Ae(15467,{code:t})}}function _2(t){if(t===void 0)return Ys("GRPC error has no .code"),ie.UNKNOWN;switch(t){case qt.OK:return ie.OK;case qt.CANCELLED:return ie.CANCELLED;case qt.UNKNOWN:return ie.UNKNOWN;case qt.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case qt.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case qt.INTERNAL:return ie.INTERNAL;case qt.UNAVAILABLE:return ie.UNAVAILABLE;case qt.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case qt.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case qt.NOT_FOUND:return ie.NOT_FOUND;case qt.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case qt.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case qt.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case qt.ABORTED:return ie.ABORTED;case qt.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case qt.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case qt.DATA_LOSS:return ie.DATA_LOSS;default:return Ae(39323,{code:t})}}(Ye=qt||(qt={}))[Ye.OK=0]="OK",Ye[Ye.CANCELLED=1]="CANCELLED",Ye[Ye.UNKNOWN=2]="UNKNOWN",Ye[Ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ye[Ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ye[Ye.NOT_FOUND=5]="NOT_FOUND",Ye[Ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ye[Ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ye[Ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ye[Ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ye[Ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ye[Ye.ABORTED=10]="ABORTED",Ye[Ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ye[Ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ye[Ye.INTERNAL=13]="INTERNAL",Ye[Ye.UNAVAILABLE=14]="UNAVAILABLE",Ye[Ye.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HV(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qV=new Kr([4294967295,4294967295],0);function fw(t){const e=HV().encode(t),n=new VS;return n.update(e),new Uint8Array(n.digest())}function dw(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Kr([n,s],0),new Kr([a,l],0)]}class E0{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Ku(`Invalid padding: ${n}`);if(s<0)throw new Ku(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Ku(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Ku(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Kr.fromNumber(this.ge)}ye(e,n,s){let a=e.add(n.multiply(Kr.fromNumber(s)));return a.compare(qV)===1&&(a=new Kr([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=fw(e),[s,a]=dw(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,a,l);if(!this.we(c))return!1}return!0}static create(e,n,s){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new E0(l,a,n);return s.forEach((f=>c.insert(f))),c}insert(e){if(this.ge===0)return;const n=fw(e),[s,a]=dw(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,a,l);this.be(c)}}be(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Ku extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd{constructor(e,n,s,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const a=new Map;return a.set(e,Pc.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new qd(Ne.min(),a,new xt(qe),Qs(),Ge())}}class Pc{constructor(e,n,s,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Pc(s,n,Ge(),Ge(),Ge())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $f{constructor(e,n,s,a){this.Se=e,this.removedTargetIds=n,this.key=s,this.De=a}}class b2{constructor(e,n){this.targetId=e,this.Ce=n}}class x2{constructor(e,n,s=dn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=a}}class mw{constructor(){this.ve=0,this.Fe=pw(),this.Me=dn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ge(),n=Ge(),s=Ge();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:Ae(38017,{changeType:l})}})),new Pc(this.Me,this.xe,e,n,s)}Ke(){this.Oe=!1,this.Fe=pw()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,tt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class GV{constructor(e){this.Ge=e,this.ze=new Map,this.je=Qs(),this.He=Af(),this.Je=Af(),this.Ze=new xt(qe)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(e.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.Qe(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Ae(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,s=e.Ce.count,a=this.ot(n);if(a){const l=a.target;if(oy(l))if(s===0){const c=new be(l.path);this.et(n,c,yn.newNoDocument(c,Ne.min()))}else tt(s===1,20013,{expectedCount:s});else{const c=this._t(n);if(c!==s){const f=this.ut(e),m=f?this.ct(f,e,c):1;if(m!==0){this.it(n);const p=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:l=0}=n;let c,f;try{c=Zr(s).toUint8Array()}catch(m){if(m instanceof $S)return ml("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{f=new E0(c,a,l)}catch(m){return ml(m instanceof Ku?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return f.ge===0?null:f}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let a=0;return s.forEach((l=>{const c=this.Ge.ht(),f=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.et(n,l,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((l,c)=>{const f=this.ot(c);if(f){if(l.current&&oy(f.target)){const m=new be(f.target.path);this.It(m).has(c)||this.Et(c,m)||this.et(c,m,yn.newNoDocument(m,e))}l.Be&&(n.set(c,l.ke()),l.Ke())}}));let s=Ge();this.Je.forEach(((l,c)=>{let f=!0;c.forEachWhile((m=>{const p=this.ot(m);return!p||p.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)})),f&&(s=s.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(e)));const a=new qd(e,n,this.Ze,this.je,s);return this.je=Qs(),this.He=Af(),this.Je=Af(),this.Ze=new xt(qe),a}Ye(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,s),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.qe(n,1):a.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new mw,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new Xt(qe),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new Xt(qe),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||pe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new mw),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Af(){return new xt(be.comparator)}function pw(){return new xt(be.comparator)}const $V={asc:"ASCENDING",desc:"DESCENDING"},KV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},YV={and:"AND",or:"OR"};class QV{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function cy(t,e){return t.useProto3Json||Ld(e)?e:{value:e}}function gd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function w2(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function XV(t,e){return gd(t,e.toTimestamp())}function hs(t){return tt(!!t,49232),Ne.fromTimestamp((function(n){const s=Jr(n);return new pt(s.seconds,s.nanos)})(t))}function S0(t,e){return hy(t,e).canonicalString()}function hy(t,e){const n=(function(a){return new ft(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function T2(t){const e=ft.fromString(t);return tt(C2(e),10190,{key:e.toString()}),e}function fy(t,e){return S0(t.databaseId,e.path)}function _g(t,e){const n=T2(e);if(n.get(1)!==t.databaseId.projectId)throw new fe(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new fe(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new be(S2(n))}function E2(t,e){return S0(t.databaseId,e)}function WV(t){const e=T2(t);return e.length===4?ft.emptyPath():S2(e)}function dy(t){return new ft(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function S2(t){return tt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function gw(t,e,n){return{name:fy(t,e),fields:n.value.mapValue.fields}}function JV(t,e){let n;if("targetChange"in e){e.targetChange;const s=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Ae(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(p,v){return p.useProto3Json?(tt(v===void 0||typeof v=="string",58123),dn.fromBase64String(v||"")):(tt(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),dn.fromUint8Array(v||new Uint8Array))})(t,e.targetChange.resumeToken),c=e.targetChange.cause,f=c&&(function(p){const v=p.code===void 0?ie.UNKNOWN:_2(p.code);return new fe(v,p.message||"")})(c);n=new x2(s,a,l,f||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=_g(t,s.document.name),l=hs(s.document.updateTime),c=s.document.createTime?hs(s.document.createTime):Ne.min(),f=new Mn({mapValue:{fields:s.document.fields}}),m=yn.newFoundDocument(a,l,c,f),p=s.targetIds||[],v=s.removedTargetIds||[];n=new $f(p,v,m.key,m)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=_g(t,s.document),l=s.readTime?hs(s.readTime):Ne.min(),c=yn.newNoDocument(a,l),f=s.removedTargetIds||[];n=new $f([],f,c.key,c)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=_g(t,s.document),l=s.removedTargetIds||[];n=new $f([],l,a,null)}else{if(!("filter"in e))return Ae(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:l}=s,c=new BV(a,l),f=s.targetId;n=new b2(f,c)}}return n}function ZV(t,e){let n;if(e instanceof jc)n={update:gw(t,e.key,e.value)};else if(e instanceof w0)n={delete:fy(t,e.key)};else if(e instanceof oa)n={update:gw(t,e.key,e.data),updateMask:l5(e.fieldMask)};else{if(!(e instanceof LV))return Ae(16599,{dt:e.type});n={verify:fy(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(l,c){const f=c.transform;if(f instanceof md)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof gc)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof yc)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof pd)return{fieldPath:c.field.canonicalString(),increment:f.Ae};throw Ae(20930,{transform:c.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:XV(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ae(27497)})(t,e.precondition)),n}function e5(t,e){return t&&t.length>0?(tt(e!==void 0,14353),t.map((n=>(function(a,l){let c=a.updateTime?hs(a.updateTime):hs(l);return c.isEqual(Ne.min())&&(c=hs(l)),new OV(c,a.transformResults||[])})(n,e)))):[]}function t5(t,e){return{documents:[E2(t,e.path)]}}function n5(t,e){const n={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=E2(t,a);const l=(function(p){if(p.length!==0)return R2(Vi.create(p,"and"))})(e.filters);l&&(n.structuredQuery.where=l);const c=(function(p){if(p.length!==0)return p.map((v=>(function(w){return{field:Qo(w.field),direction:r5(w.dir)}})(v)))})(e.orderBy);c&&(n.structuredQuery.orderBy=c);const f=cy(t,e.limit);return f!==null&&(n.structuredQuery.limit=f),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:a}}function i5(t){let e=WV(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){tt(s===1,65062);const v=n.from[0];v.allDescendants?a=v.collectionId:e=e.child(v.collectionId)}let l=[];n.where&&(l=(function(_){const w=A2(_);return w instanceof Vi&&n2(w)?w.getFilters():[w]})(n.where));let c=[];n.orderBy&&(c=(function(_){return _.map((w=>(function(N){return new dd(Xo(N.field),(function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(N.direction))})(w)))})(n.orderBy));let f=null;n.limit&&(f=(function(_){let w;return w=typeof _=="object"?_.value:_,Ld(w)?null:w})(n.limit));let m=null;n.startAt&&(m=(function(_){const w=!!_.before,S=_.values||[];return new fd(S,w)})(n.startAt));let p=null;return n.endAt&&(p=(function(_){const w=!_.before,S=_.values||[];return new fd(S,w)})(n.endAt)),xV(e,a,c,l,f,"F",m,p)}function s5(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ae(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function A2(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Xo(n.unaryFilter.field);return $t.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=Xo(n.unaryFilter.field);return $t.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Xo(n.unaryFilter.field);return $t.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Xo(n.unaryFilter.field);return $t.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ae(61313);default:return Ae(60726)}})(t):t.fieldFilter!==void 0?(function(n){return $t.create(Xo(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ae(58110);default:return Ae(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Vi.create(n.compositeFilter.filters.map((s=>A2(s))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Ae(1026)}})(n.compositeFilter.op))})(t):Ae(30097,{filter:t})}function r5(t){return $V[t]}function a5(t){return KV[t]}function o5(t){return YV[t]}function Qo(t){return{fieldPath:t.canonicalString()}}function Xo(t){return fn.fromServerFormat(t.fieldPath)}function R2(t){return t instanceof $t?(function(n){if(n.op==="=="){if(iw(n.value))return{unaryFilter:{field:Qo(n.field),op:"IS_NAN"}};if(nw(n.value))return{unaryFilter:{field:Qo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(iw(n.value))return{unaryFilter:{field:Qo(n.field),op:"IS_NOT_NAN"}};if(nw(n.value))return{unaryFilter:{field:Qo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Qo(n.field),op:a5(n.op),value:n.value}}})(t):t instanceof Vi?(function(n){const s=n.getFilters().map((a=>R2(a)));return s.length===1?s[0]:{compositeFilter:{op:o5(n.op),filters:s}}})(t):Ae(54877,{filter:t})}function l5(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function C2(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function N2(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{constructor(e,n,s,a,l=Ne.min(),c=Ne.min(),f=dn.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=f,this.expectedCount=m}withSequenceNumber(e){return new Fr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Fr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Fr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Fr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u5{constructor(e){this.yt=e}}function c5(t){const e=i5({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?uy(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h5{constructor(){this.Sn=new f5}addToCollectionParentIndex(e,n){return this.Sn.add(n),se.resolve()}getCollectionParents(e,n){return se.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return se.resolve()}deleteFieldIndex(e,n){return se.resolve()}deleteAllFieldIndexes(e){return se.resolve()}createTargetIndexes(e,n){return se.resolve()}getDocumentsMatchingTarget(e,n){return se.resolve(null)}getIndexType(e,n){return se.resolve(0)}getFieldIndexes(e,n){return se.resolve([])}getNextCollectionGroupToUpdate(e){return se.resolve(null)}getMinOffset(e,n){return se.resolve(Wr.min())}getMinOffsetFromCollectionGroup(e,n){return se.resolve(Wr.min())}updateCollectionGroup(e,n,s){return se.resolve()}updateIndexEntries(e,n){return se.resolve()}}class f5{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n]||new Xt(ft.comparator),l=!a.has(s);return this.index[n]=a.add(s),l}has(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(e){return(this.index[e]||new Xt(ft.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},I2=41943040;class kn{static withCacheSize(e){return new kn(e,kn.DEFAULT_COLLECTION_PERCENTILE,kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */kn.DEFAULT_COLLECTION_PERCENTILE=10,kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,kn.DEFAULT=new kn(I2,kn.DEFAULT_COLLECTION_PERCENTILE,kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),kn.DISABLED=new kn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new vl(0)}static ar(){return new vl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vw="LruGarbageCollector",d5=1048576;function _w([t,e],[n,s]){const a=qe(t,n);return a===0?qe(e,s):a}class m5{constructor(e){this.Pr=e,this.buffer=new Xt(_w),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();_w(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class p5{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){pe(vw,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Nl(n)?pe(vw,"Ignoring IndexedDB error during garbage collection: ",n):await Cl(n)}await this.Ar(3e5)}))}}class g5{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return se.resolve(Pd.ce);const s=new m5(n);return this.Vr.forEachTarget(e,(a=>s.Er(a.sequenceNumber))).next((()=>this.Vr.mr(e,(a=>s.Er(a))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.Vr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(pe("LruGarbageCollector","Garbage collection skipped; disabled"),se.resolve(yw)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),yw):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let s,a,l,c,f,m,p;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((_=>(_>this.params.maximumSequenceNumbersToCollect?(pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),a=this.params.maximumSequenceNumbersToCollect):a=_,c=Date.now(),this.nthSequenceNumber(e,a)))).next((_=>(s=_,f=Date.now(),this.removeTargets(e,s,n)))).next((_=>(l=_,m=Date.now(),this.removeOrphanedDocuments(e,s)))).next((_=>(p=Date.now(),Ko()<=He.DEBUG&&pe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${a} in `+(f-c)+`ms
	Removed ${l} targets in `+(m-f)+`ms
	Removed ${_} documents in `+(p-m)+`ms
Total Duration: ${p-v}ms`),se.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:_}))))}}function y5(t,e){return new g5(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v5{constructor(){this.changes=new to((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,yn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?se.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _5{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b5{constructor(e,n,s,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(s=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(s!==null&&nc(s.mutation,a,$n.empty(),pt.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Ge()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Ge()){const a=Ba();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,s).next((l=>{let c=$u();return l.forEach(((f,m)=>{c=c.insert(f,m.overlayedDocument)})),c}))))}getOverlayedDocuments(e,n){const s=Ba();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Ge())))}populateOverlays(e,n,s){const a=[];return s.forEach((l=>{n.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((c,f)=>{n.set(c,f)}))}))}computeViews(e,n,s,a){let l=Qs();const c=tc(),f=(function(){return tc()})();return n.forEach(((m,p)=>{const v=s.get(p.key);a.has(p.key)&&(v===void 0||v.mutation instanceof oa)?l=l.insert(p.key,p):v!==void 0?(c.set(p.key,v.mutation.getFieldMask()),nc(v.mutation,p,v.mutation.getFieldMask(),pt.now())):c.set(p.key,$n.empty())})),this.recalculateAndSaveOverlays(e,l).next((m=>(m.forEach(((p,v)=>c.set(p,v))),n.forEach(((p,v)=>f.set(p,new _5(v,c.get(p)??null)))),f)))}recalculateAndSaveOverlays(e,n){const s=tc();let a=new xt(((c,f)=>c-f)),l=Ge();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((c=>{for(const f of c)f.keys().forEach((m=>{const p=n.get(m);if(p===null)return;let v=s.get(m)||$n.empty();v=f.applyToLocalView(p,v),s.set(m,v);const _=(a.get(f.batchId)||Ge()).add(m);a=a.insert(f.batchId,_)}))})).next((()=>{const c=[],f=a.getReverseIterator();for(;f.hasNext();){const m=f.getNext(),p=m.key,v=m.value,_=h2();v.forEach((w=>{if(!l.has(w)){const S=y2(n.get(w),s.get(w));S!==null&&_.set(w,S),l=l.add(w)}})),c.push(this.documentOverlayCache.saveOverlays(e,p,_))}return se.waitFor(c)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,a){return wV(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):a2(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,a):this.getDocumentsMatchingCollectionQuery(e,n,s,a)}getNextDocuments(e,n,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,a).next((l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,a-l.size):se.resolve(Ba());let f=fc,m=l;return c.next((p=>se.forEach(p,((v,_)=>(f<_.largestBatchId&&(f=_.largestBatchId),l.get(v)?se.resolve():this.remoteDocumentCache.getEntry(e,v).next((w=>{m=m.insert(v,w)}))))).next((()=>this.populateOverlays(e,p,l))).next((()=>this.computeViews(e,m,p,Ge()))).next((v=>({batchId:f,changes:c2(v)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new be(n)).next((s=>{let a=$u();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,a){const l=n.collectionGroup;let c=$u();return this.indexManager.getCollectionParents(e,l).next((f=>se.forEach(f,(m=>{const p=(function(_,w){return new Oc(w,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)})(n,m.child(l));return this.getDocumentsMatchingCollectionQuery(e,p,s,a).next((v=>{v.forEach(((_,w)=>{c=c.insert(_,w)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,n,s,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,l,a)))).next((c=>{l.forEach(((m,p)=>{const v=p.getKey();c.get(v)===null&&(c=c.insert(v,yn.newInvalidDocument(v)))}));let f=$u();return c.forEach(((m,p)=>{const v=l.get(m);v!==void 0&&nc(v.mutation,p,$n.empty(),pt.now()),Bd(n,p)&&(f=f.insert(m,p))})),f}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x5{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return se.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:hs(a.createTime)}})(n)),se.resolve()}getNamedQuery(e,n){return se.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(a){return{name:a.name,query:c5(a.bundledQuery),readTime:hs(a.readTime)}})(n)),se.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w5{constructor(){this.overlays=new xt(be.comparator),this.Lr=new Map}getOverlay(e,n){return se.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Ba();return se.forEach(n,(a=>this.getOverlay(e,a).next((l=>{l!==null&&s.set(a,l)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((a,l)=>{this.bt(e,n,l)})),se.resolve()}removeOverlaysForBatchId(e,n,s){const a=this.Lr.get(s);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.Lr.delete(s)),se.resolve()}getOverlaysForCollection(e,n,s){const a=Ba(),l=n.length+1,c=new be(n.child("")),f=this.overlays.getIteratorFrom(c);for(;f.hasNext();){const m=f.getNext().value,p=m.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===l&&m.largestBatchId>s&&a.set(m.getKey(),m)}return se.resolve(a)}getOverlaysForCollectionGroup(e,n,s,a){let l=new xt(((p,v)=>p-v));const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>s){let v=l.get(p.largestBatchId);v===null&&(v=Ba(),l=l.insert(p.largestBatchId,v)),v.set(p.getKey(),p)}}const f=Ba(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((p,v)=>f.set(p,v))),!(f.size()>=a)););return se.resolve(f)}bt(e,n,s){const a=this.overlays.get(s.key);if(a!==null){const c=this.Lr.get(a.largestBatchId).delete(s.key);this.Lr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new zV(n,s));let l=this.Lr.get(n);l===void 0&&(l=Ge(),this.Lr.set(n,l)),this.Lr.set(n,l.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T5{constructor(){this.sessionToken=dn.EMPTY_BYTE_STRING}getSessionToken(e){return se.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,se.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A0{constructor(){this.kr=new Xt(nn.Kr),this.qr=new Xt(nn.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const s=new nn(e,n);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Wr(new nn(e,n))}Qr(e,n){e.forEach((s=>this.removeReference(s,n)))}Gr(e){const n=new be(new ft([])),s=new nn(n,e),a=new nn(n,e+1),l=[];return this.qr.forEachInRange([s,a],(c=>{this.Wr(c),l.push(c.key)})),l}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new be(new ft([])),s=new nn(n,e),a=new nn(n,e+1);let l=Ge();return this.qr.forEachInRange([s,a],(c=>{l=l.add(c.key)})),l}containsKey(e){const n=new nn(e,0),s=this.kr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class nn{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return be.comparator(e.key,n.key)||qe(e.Hr,n.Hr)}static Ur(e,n){return qe(e.Hr,n.Hr)||be.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E5{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Xt(nn.Kr)}checkEmpty(e){return se.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,a){const l=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new UV(l,n,s,a);this.mutationQueue.push(c);for(const f of a)this.Jr=this.Jr.add(new nn(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return se.resolve(c)}lookupMutationBatch(e,n){return se.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,a=this.Xr(s),l=a<0?0:a;return se.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return se.resolve(this.mutationQueue.length===0?p0:this.Yn-1)}getAllMutationBatches(e){return se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new nn(n,0),a=new nn(n,Number.POSITIVE_INFINITY),l=[];return this.Jr.forEachInRange([s,a],(c=>{const f=this.Zr(c.Hr);l.push(f)})),se.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Xt(qe);return n.forEach((a=>{const l=new nn(a,0),c=new nn(a,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([l,c],(f=>{s=s.add(f.Hr)}))})),se.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,a=s.length+1;let l=s;be.isDocumentKey(l)||(l=l.child(""));const c=new nn(new be(l),0);let f=new Xt(qe);return this.Jr.forEachWhile((m=>{const p=m.key.path;return!!s.isPrefixOf(p)&&(p.length===a&&(f=f.add(m.Hr)),!0)}),c),se.resolve(this.Yr(f))}Yr(e){const n=[];return e.forEach((s=>{const a=this.Zr(s);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){tt(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return se.forEach(n.mutations,(a=>{const l=new nn(a.key,n.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Jr=s}))}nr(e){}containsKey(e,n){const s=new nn(n,0),a=this.Jr.firstAfterOrEqual(s);return se.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,se.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S5{constructor(e){this.ti=e,this.docs=(function(){return new xt(be.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,a=this.docs.get(s),l=a?a.size:0,c=this.ti(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return se.resolve(s?s.document.mutableCopy():yn.newInvalidDocument(n))}getEntries(e,n){let s=Qs();return n.forEach((a=>{const l=this.docs.get(a);s=s.insert(a,l?l.document.mutableCopy():yn.newInvalidDocument(a))})),se.resolve(s)}getDocumentsMatchingQuery(e,n,s,a){let l=Qs();const c=n.path,f=new be(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(f);for(;m.hasNext();){const{key:p,value:{document:v}}=m.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||JM(WM(v),s)<=0||(a.has(v.key)||Bd(n,v))&&(l=l.insert(v.key,v.mutableCopy()))}return se.resolve(l)}getAllFromCollectionGroup(e,n,s,a){Ae(9500)}ni(e,n){return se.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new A5(this)}getSize(e){return se.resolve(this.size)}}class A5 extends v5{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,a)=>{a.isValidDocument()?n.push(this.Mr.addEntry(e,a)):this.Mr.removeEntry(s)})),se.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R5{constructor(e){this.persistence=e,this.ri=new to((n=>v0(n)),_0),this.lastRemoteSnapshotVersion=Ne.min(),this.highestTargetId=0,this.ii=0,this.si=new A0,this.targetCount=0,this.oi=vl._r()}forEachTarget(e,n){return this.ri.forEach(((s,a)=>n(a))),se.resolve()}getLastRemoteSnapshotVersion(e){return se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return se.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),se.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.ii&&(this.ii=n),se.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new vl(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,se.resolve()}updateTargetData(e,n){return this.lr(n),se.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,se.resolve()}removeTargets(e,n,s){let a=0;const l=[];return this.ri.forEach(((c,f)=>{f.sequenceNumber<=n&&s.get(f.targetId)===null&&(this.ri.delete(c),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),a++)})),se.waitFor(l).next((()=>a))}getTargetCount(e){return se.resolve(this.targetCount)}getTargetData(e,n){const s=this.ri.get(n)||null;return se.resolve(s)}addMatchingKeys(e,n,s){return this.si.$r(n,s),se.resolve()}removeMatchingKeys(e,n,s){this.si.Qr(n,s);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach((c=>{l.push(a.markPotentiallyOrphaned(e,c))})),se.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),se.resolve()}getMatchingKeysForTargetId(e,n){const s=this.si.jr(n);return se.resolve(s)}containsKey(e,n){return se.resolve(this.si.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(e,n){this._i={},this.overlays={},this.ai=new Pd(0),this.ui=!1,this.ui=!0,this.ci=new T5,this.referenceDelegate=e(this),this.li=new R5(this),this.indexManager=new h5,this.remoteDocumentCache=(function(a){return new S5(a)})((s=>this.referenceDelegate.hi(s))),this.serializer=new u5(n),this.Pi=new x5(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new w5,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this._i[e.toKey()];return s||(s=new E5(n,this.referenceDelegate),this._i[e.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,s){pe("MemoryPersistence","Starting transaction:",e);const a=new C5(this.ai.next());return this.referenceDelegate.Ti(),s(a).next((l=>this.referenceDelegate.Ii(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ei(e,n){return se.or(Object.values(this._i).map((s=>()=>s.containsKey(e,n))))}}class C5 extends eV{constructor(e){super(),this.currentSequenceNumber=e}}class R0{constructor(e){this.persistence=e,this.Ri=new A0,this.Ai=null}static Vi(e){return new R0(e)}get di(){if(this.Ai)return this.Ai;throw Ae(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.di.delete(s.toString()),se.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.di.add(s.toString()),se.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),se.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((a=>this.di.add(a.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((l=>this.di.add(l.toString())))})).next((()=>s.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return se.forEach(this.di,(s=>{const a=be.fromPath(s);return this.mi(e,a).next((l=>{l||n.removeEntry(a,Ne.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((s=>{s?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return se.or([()=>se.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class yd{constructor(e,n){this.persistence=e,this.fi=new to((s=>iV(s.path)),((s,a)=>s.isEqual(a))),this.garbageCollector=y5(this,n)}static Vi(e,n){return new yd(e,n)}Ti(){}Ii(e){return se.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((a=>s+a))))}pr(e){let n=0;return this.mr(e,(s=>{n++})).next((()=>n))}mr(e,n){return se.forEach(this.fi,((s,a)=>this.wr(e,s,a).next((l=>l?se.resolve():n(a)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ni(e,(c=>this.wr(e,c,n).next((f=>{f||(s++,l.removeEntry(c,Ne.min()))})))).next((()=>l.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),se.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),se.resolve()}removeReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),se.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),se.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Hf(e.data.value)),n}wr(e,n,s){return se.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.fi.get(n);return se.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0{constructor(e,n,s,a){this.targetId=e,this.fromCache=n,this.Ts=s,this.Is=a}static Es(e,n){let s=Ge(),a=Ge();for(const l of n.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new C0(e,n.fromCache,s,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N5{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I5{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return m4()?8:tV(vn())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,a){const l={result:null};return this.gs(e,n).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ps(e,n,a,s).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new N5;return this.ys(e,n,c).next((f=>{if(l.result=f,this.As)return this.ws(e,n,c,f.size)}))})).next((()=>l.result))}ws(e,n,s,a){return s.documentReadCount<this.Vs?(Ko()<=He.DEBUG&&pe("QueryEngine","SDK will not create cache indexes for query:",Yo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),se.resolve()):(Ko()<=He.DEBUG&&pe("QueryEngine","Query:",Yo(n),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.ds*a?(Ko()<=He.DEBUG&&pe("QueryEngine","The SDK decides to create cache indexes for query:",Yo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,cs(n))):se.resolve())}gs(e,n){if(ow(n))return se.resolve(null);let s=cs(n);return this.indexManager.getIndexType(e,s).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=uy(n,null,"F"),s=cs(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((l=>{const c=Ge(...l);return this.fs.getDocuments(e,c).next((f=>this.indexManager.getMinOffset(e,s).next((m=>{const p=this.bs(n,f);return this.Ss(n,p,c,m.readTime)?this.gs(e,uy(n,null,"F")):this.Ds(e,p,n,m)}))))})))))}ps(e,n,s,a){return ow(n)||a.isEqual(Ne.min())?se.resolve(null):this.fs.getDocuments(e,s).next((l=>{const c=this.bs(n,l);return this.Ss(n,c,s,a)?se.resolve(null):(Ko()<=He.DEBUG&&pe("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Yo(n)),this.Ds(e,c,n,XM(a,fc)).next((f=>f)))}))}bs(e,n){let s=new Xt(l2(e));return n.forEach(((a,l)=>{Bd(e,l)&&(s=s.add(l))})),s}Ss(e,n,s,a){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}ys(e,n,s){return Ko()<=He.DEBUG&&pe("QueryEngine","Using full collection scan to execute query:",Yo(n)),this.fs.getDocumentsMatchingQuery(e,n,Wr.min(),s)}Ds(e,n,s,a){return this.fs.getDocumentsMatchingQuery(e,s,a).next((l=>(n.forEach((c=>{l=l.insert(c.key,c)})),l)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N0="LocalStore",D5=3e8;class k5{constructor(e,n,s,a){this.persistence=e,this.Cs=n,this.serializer=a,this.vs=new xt(qe),this.Fs=new to((l=>v0(l)),_0),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(s)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new b5(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function M5(t,e,n,s){return new k5(t,e,n,s)}async function k2(t,e){const n=ke(t);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let a;return n.mutationQueue.getAllMutationBatches(s).next((l=>(a=l,n.Os(e),n.mutationQueue.getAllMutationBatches(s)))).next((l=>{const c=[],f=[];let m=Ge();for(const p of a){c.push(p.batchId);for(const v of p.mutations)m=m.add(v.key)}for(const p of l){f.push(p.batchId);for(const v of p.mutations)m=m.add(v.key)}return n.localDocuments.getDocuments(s,m).next((p=>({Ns:p,removedBatchIds:c,addedBatchIds:f})))}))}))}function V5(t,e){const n=ke(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const a=e.batch.keys(),l=n.xs.newChangeBuffer({trackRemovals:!0});return(function(f,m,p,v){const _=p.batch,w=_.keys();let S=se.resolve();return w.forEach((N=>{S=S.next((()=>v.getEntry(m,N))).next((M=>{const O=p.docVersions.get(N);tt(O!==null,48541),M.version.compareTo(O)<0&&(_.applyToRemoteDocument(M,p),M.isValidDocument()&&(M.setReadTime(p.commitVersion),v.addEntry(M)))}))})),S.next((()=>f.mutationQueue.removeMutationBatch(m,_)))})(n,s,e,l).next((()=>l.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(f){let m=Ge();for(let p=0;p<f.mutationResults.length;++p)f.mutationResults[p].transformResults.length>0&&(m=m.add(f.batch.mutations[p].key));return m})(e)))).next((()=>n.localDocuments.getDocuments(s,a)))}))}function M2(t){const e=ke(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function O5(t,e){const n=ke(t),s=e.snapshotVersion;let a=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=n.xs.newChangeBuffer({trackRemovals:!0});a=n.vs;const f=[];e.targetChanges.forEach(((v,_)=>{const w=a.get(_);if(!w)return;f.push(n.li.removeMatchingKeys(l,v.removedDocuments,_).next((()=>n.li.addMatchingKeys(l,v.addedDocuments,_))));let S=w.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(_)!==null?S=S.withResumeToken(dn.EMPTY_BYTE_STRING,Ne.min()).withLastLimboFreeSnapshotVersion(Ne.min()):v.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(v.resumeToken,s)),a=a.insert(_,S),(function(M,O,B){return M.resumeToken.approximateByteSize()===0||O.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=D5?!0:B.addedDocuments.size+B.modifiedDocuments.size+B.removedDocuments.size>0})(w,S,v)&&f.push(n.li.updateTargetData(l,S))}));let m=Qs(),p=Ge();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&f.push(n.persistence.referenceDelegate.updateLimboDocument(l,v))})),f.push(j5(l,c,e.documentUpdates).next((v=>{m=v.Bs,p=v.Ls}))),!s.isEqual(Ne.min())){const v=n.li.getLastRemoteSnapshotVersion(l).next((_=>n.li.setTargetsMetadata(l,l.currentSequenceNumber,s)));f.push(v)}return se.waitFor(f).next((()=>c.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,m,p))).next((()=>m))})).then((l=>(n.vs=a,l)))}function j5(t,e,n){let s=Ge(),a=Ge();return n.forEach((l=>s=s.add(l))),e.getEntries(t,s).next((l=>{let c=Qs();return n.forEach(((f,m)=>{const p=l.get(f);m.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(f)),m.isNoDocument()&&m.version.isEqual(Ne.min())?(e.removeEntry(f,m.readTime),c=c.insert(f,m)):!p.isValidDocument()||m.version.compareTo(p.version)>0||m.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(m),c=c.insert(f,m)):pe(N0,"Ignoring outdated watch update for ",f,". Current version:",p.version," Watch version:",m.version)})),{Bs:c,Ls:a}}))}function P5(t,e){const n=ke(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=p0),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function L5(t,e){const n=ke(t);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let a;return n.li.getTargetData(s,e).next((l=>l?(a=l,se.resolve(a)):n.li.allocateTargetId(s).next((c=>(a=new Fr(e,c,"TargetPurposeListen",s.currentSequenceNumber),n.li.addTargetData(s,a).next((()=>a)))))))})).then((s=>{const a=n.vs.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.vs=n.vs.insert(s.targetId,s),n.Fs.set(e,s.targetId)),s}))}async function my(t,e,n){const s=ke(t),a=s.vs.get(e),l=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",l,(c=>s.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!Nl(c))throw c;pe(N0,`Failed to update sequence numbers for target ${e}: ${c}`)}s.vs=s.vs.remove(e),s.Fs.delete(a.target)}function bw(t,e,n){const s=ke(t);let a=Ne.min(),l=Ge();return s.persistence.runTransaction("Execute query","readwrite",(c=>(function(m,p,v){const _=ke(m),w=_.Fs.get(v);return w!==void 0?se.resolve(_.vs.get(w)):_.li.getTargetData(p,v)})(s,c,cs(e)).next((f=>{if(f)return a=f.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(c,f.targetId).next((m=>{l=m}))})).next((()=>s.Cs.getDocumentsMatchingQuery(c,e,n?a:Ne.min(),n?l:Ge()))).next((f=>(U5(s,EV(e),f),{documents:f,ks:l})))))}function U5(t,e,n){let s=t.Ms.get(e)||Ne.min();n.forEach(((a,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)})),t.Ms.set(e,s)}class xw{constructor(){this.activeTargetIds=IV()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class z5{constructor(){this.vo=new xw,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,s){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new xw,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B5{Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ww="ConnectivityMonitor";class Tw{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){pe(ww,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){pe(ww,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rf=null;function py(){return Rf===null?Rf=(function(){return 268435456+Math.round(2147483648*Math.random())})():Rf++,"0x"+Rf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bg="RestConnection",F5={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class H5{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${s}/databases/${a}`,this.$o=this.databaseId.database===cd?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Wo(e,n,s,a,l){const c=py(),f=this.Qo(e,n.toUriEncodedString());pe(bg,`Sending RPC '${e}' ${c}:`,f,s);const m={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(m,a,l);const{host:p}=new URL(f),v=ra(p);return this.zo(e,f,m,s,v).then((_=>(pe(bg,`Received RPC '${e}' ${c}: `,_),_)),(_=>{throw ml(bg,`RPC '${e}' ${c} failed with error: `,_,"url: ",f,"request:",s),_}))}jo(e,n,s,a,l,c){return this.Wo(e,n,s,a,l)}Go(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Rl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,l)=>e[l]=a)),s&&s.headers.forEach(((a,l)=>e[l]=a))}Qo(e,n){const s=F5[e];let a=`${this.qo}/v1/${n}:${s}`;return this.databaseInfo.apiKey&&(a=`${a}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),a}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q5{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pn="WebChannelConnection",Uu=(t,e,n)=>{t.listen(e,(s=>{try{n(s)}catch(a){setTimeout((()=>{throw a}),0)}}))};class ol extends H5{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!ol.c_){const e=LS();Uu(e,PS.STAT_EVENT,(n=>{n.stat===ny.PROXY?pe(pn,"STAT_EVENT: detected buffering proxy"):n.stat===ny.NOPROXY&&pe(pn,"STAT_EVENT: detected no buffering proxy")})),ol.c_=!0}}zo(e,n,s,a,l){const c=py();return new Promise(((f,m)=>{const p=new OS;p.setWithCredentials(!0),p.listenOnce(jS.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case Ff.NO_ERROR:const _=p.getResponseJson();pe(pn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(_)),f(_);break;case Ff.TIMEOUT:pe(pn,`RPC '${e}' ${c} timed out`),m(new fe(ie.DEADLINE_EXCEEDED,"Request time out"));break;case Ff.HTTP_ERROR:const w=p.getStatus();if(pe(pn,`RPC '${e}' ${c} failed with status:`,w,"response text:",p.getResponseText()),w>0){let S=p.getResponseJson();Array.isArray(S)&&(S=S[0]);const N=S==null?void 0:S.error;if(N&&N.status&&N.message){const M=(function(B){const G=B.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf(G)>=0?G:ie.UNKNOWN})(N.status);m(new fe(M,N.message))}else m(new fe(ie.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new fe(ie.UNAVAILABLE,"Connection failed."));break;default:Ae(9055,{l_:e,streamId:c,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{pe(pn,`RPC '${e}' ${c} completed.`)}}));const v=JSON.stringify(a);pe(pn,`RPC '${e}' ${c} sending request:`,a),p.send(n,"POST",v,s,15)}))}T_(e,n,s){const a=py(),l=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=this.createWebChannelTransport(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(f.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Go(f.initMessageHeaders,n,s),f.encodeInitMessageHeaders=!0;const p=l.join("");pe(pn,`Creating RPC '${e}' stream ${a}: ${p}`,f);const v=c.createWebChannel(p,f);this.I_(v);let _=!1,w=!1;const S=new q5({Ho:N=>{w?pe(pn,`Not sending because RPC '${e}' stream ${a} is closed:`,N):(_||(pe(pn,`Opening RPC '${e}' stream ${a} transport.`),v.open(),_=!0),pe(pn,`RPC '${e}' stream ${a} sending:`,N),v.send(N))},Jo:()=>v.close()});return Uu(v,Gu.EventType.OPEN,(()=>{w||(pe(pn,`RPC '${e}' stream ${a} transport opened.`),S.i_())})),Uu(v,Gu.EventType.CLOSE,(()=>{w||(w=!0,pe(pn,`RPC '${e}' stream ${a} transport closed`),S.o_(),this.E_(v))})),Uu(v,Gu.EventType.ERROR,(N=>{w||(w=!0,ml(pn,`RPC '${e}' stream ${a} transport errored. Name:`,N.name,"Message:",N.message),S.o_(new fe(ie.UNAVAILABLE,"The operation could not be completed")))})),Uu(v,Gu.EventType.MESSAGE,(N=>{var M;if(!w){const O=N.data[0];tt(!!O,16349);const B=O,G=(B==null?void 0:B.error)||((M=B[0])==null?void 0:M.error);if(G){pe(pn,`RPC '${e}' stream ${a} received error:`,G);const F=G.status;let oe=(function(C){const A=qt[C];if(A!==void 0)return _2(A)})(F),re=G.message;oe===void 0&&(oe=ie.INTERNAL,re="Unknown error status: "+F+" with message "+G.message),w=!0,S.o_(new fe(oe,re)),v.close()}else pe(pn,`RPC '${e}' stream ${a} received:`,O),S.__(O)}})),ol.u_(),setTimeout((()=>{S.s_()}),0),S}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,s){super.Go(e,n,s),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return US()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G5(t){return new ol(t)}function xg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gd(t){return new QV(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ol.c_=!1;class V2{constructor(e,n,s=1e3,a=1.5,l=6e4){this.Ci=e,this.timerId=n,this.R_=s,this.A_=a,this.V_=l,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-s);a>0&&pe("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ew="PersistentStream";class O2{constructor(e,n,s,a,l,c,f,m){this.Ci=e,this.b_=s,this.S_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=f,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new V2(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ie.RESOURCE_EXHAUSTED?(Ys(n.toString()),Ys("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,a])=>{this.D_===n&&this.G_(s,a)}),(s=>{e((()=>{const a=new fe(ie.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(a)}))}))}G_(e,n){const s=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((a=>{s((()=>this.z_(a)))})),this.stream.onMessage((a=>{s((()=>++this.F_==1?this.H_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return pe(Ew,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(pe(Ew,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class $5 extends O2{constructor(e,n,s,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,a,c),this.serializer=l}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=JV(this.serializer,e),s=(function(l){if(!("targetChange"in l))return Ne.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Ne.min():c.readTime?hs(c.readTime):Ne.min()})(e);return this.listener.J_(n,s)}Z_(e){const n={};n.database=dy(this.serializer),n.addTarget=(function(l,c){let f;const m=c.target;if(f=oy(m)?{documents:t5(l,m)}:{query:n5(l,m).ft},f.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){f.resumeToken=w2(l,c.resumeToken);const p=cy(l,c.expectedCount);p!==null&&(f.expectedCount=p)}else if(c.snapshotVersion.compareTo(Ne.min())>0){f.readTime=gd(l,c.snapshotVersion.toTimestamp());const p=cy(l,c.expectedCount);p!==null&&(f.expectedCount=p)}return f})(this.serializer,e);const s=s5(this.serializer,e);s&&(n.labels=s),this.K_(n)}X_(e){const n={};n.database=dy(this.serializer),n.removeTarget=e,this.K_(n)}}class K5 extends O2{constructor(e,n,s,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,a,c),this.serializer=l}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return tt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,tt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){tt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=e5(e.writeResults,e.commitTime),s=hs(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=dy(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>ZV(this.serializer,s)))};this.K_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y5{}class Q5 extends Y5{constructor(e,n,s,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new fe(ie.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Wo(e,hy(n,s),a,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new fe(ie.UNKNOWN,l.toString())}))}jo(e,n,s,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,f])=>this.connection.jo(e,hy(n,s),a,c,f,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new fe(ie.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function X5(t,e,n,s){return new Q5(t,e,n,s)}class W5{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ys(n),this.aa=!1):pe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wa="RemoteStore";class J5{constructor(e,n,s,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=l,this.Aa.Mo((c=>{s.enqueueAndForget((async()=>{no(this)&&(pe(Wa,"Restarting streams for network reachability change."),await(async function(m){const p=ke(m);p.Ea.add(4),await Lc(p),p.Va.set("Unknown"),p.Ea.delete(4),await $d(p)})(this))}))})),this.Va=new W5(s,a)}}async function $d(t){if(no(t))for(const e of t.Ra)await e(!0)}async function Lc(t){for(const e of t.Ra)await e(!1)}function j2(t,e){const n=ke(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),M0(n)?k0(n):Il(n).O_()&&D0(n,e))}function I0(t,e){const n=ke(t),s=Il(n);n.Ia.delete(e),s.O_()&&P2(n,e),n.Ia.size===0&&(s.O_()?s.L_():no(n)&&n.Va.set("Unknown"))}function D0(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ne.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Il(t).Z_(e)}function P2(t,e){t.da.$e(e),Il(t).X_(e)}function k0(t){t.da=new GV({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Il(t).start(),t.Va.ua()}function M0(t){return no(t)&&!Il(t).x_()&&t.Ia.size>0}function no(t){return ke(t).Ea.size===0}function L2(t){t.da=void 0}async function Z5(t){t.Va.set("Online")}async function eO(t){t.Ia.forEach(((e,n)=>{D0(t,e)}))}async function tO(t,e){L2(t),M0(t)?(t.Va.ha(e),k0(t)):t.Va.set("Unknown")}async function nO(t,e,n){if(t.Va.set("Online"),e instanceof x2&&e.state===2&&e.cause)try{await(async function(a,l){const c=l.cause;for(const f of l.targetIds)a.Ia.has(f)&&(await a.remoteSyncer.rejectListen(f,c),a.Ia.delete(f),a.da.removeTarget(f))})(t,e)}catch(s){pe(Wa,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await vd(t,s)}else if(e instanceof $f?t.da.Xe(e):e instanceof b2?t.da.st(e):t.da.tt(e),!n.isEqual(Ne.min()))try{const s=await M2(t.localStore);n.compareTo(s)>=0&&await(function(l,c){const f=l.da.Tt(c);return f.targetChanges.forEach(((m,p)=>{if(m.resumeToken.approximateByteSize()>0){const v=l.Ia.get(p);v&&l.Ia.set(p,v.withResumeToken(m.resumeToken,c))}})),f.targetMismatches.forEach(((m,p)=>{const v=l.Ia.get(m);if(!v)return;l.Ia.set(m,v.withResumeToken(dn.EMPTY_BYTE_STRING,v.snapshotVersion)),P2(l,m);const _=new Fr(v.target,m,p,v.sequenceNumber);D0(l,_)})),l.remoteSyncer.applyRemoteEvent(f)})(t,n)}catch(s){pe(Wa,"Failed to raise snapshot:",s),await vd(t,s)}}async function vd(t,e,n){if(!Nl(e))throw e;t.Ea.add(1),await Lc(t),t.Va.set("Offline"),n||(n=()=>M2(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{pe(Wa,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await $d(t)}))}function U2(t,e){return e().catch((n=>vd(t,n,e)))}async function Kd(t){const e=ke(t),n=ta(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:p0;for(;iO(e);)try{const a=await P5(e.localStore,s);if(a===null){e.Ta.length===0&&n.L_();break}s=a.batchId,sO(e,a)}catch(a){await vd(e,a)}z2(e)&&B2(e)}function iO(t){return no(t)&&t.Ta.length<10}function sO(t,e){t.Ta.push(e);const n=ta(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function z2(t){return no(t)&&!ta(t).x_()&&t.Ta.length>0}function B2(t){ta(t).start()}async function rO(t){ta(t).ra()}async function aO(t){const e=ta(t);for(const n of t.Ta)e.ea(n.mutations)}async function oO(t,e,n){const s=t.Ta.shift(),a=T0.from(s,e,n);await U2(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await Kd(t)}async function lO(t,e){e&&ta(t).Y_&&await(async function(s,a){if((function(c){return FV(c)&&c!==ie.ABORTED})(a.code)){const l=s.Ta.shift();ta(s).B_(),await U2(s,(()=>s.remoteSyncer.rejectFailedWrite(l.batchId,a))),await Kd(s)}})(t,e),z2(t)&&B2(t)}async function Sw(t,e){const n=ke(t);n.asyncQueue.verifyOperationInProgress(),pe(Wa,"RemoteStore received new credentials");const s=no(n);n.Ea.add(3),await Lc(n),s&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await $d(n)}async function uO(t,e){const n=ke(t);e?(n.Ea.delete(2),await $d(n)):e||(n.Ea.add(2),await Lc(n),n.Va.set("Unknown"))}function Il(t){return t.ma||(t.ma=(function(n,s,a){const l=ke(n);return l.sa(),new $5(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Zo:Z5.bind(null,t),Yo:eO.bind(null,t),t_:tO.bind(null,t),J_:nO.bind(null,t)}),t.Ra.push((async e=>{e?(t.ma.B_(),M0(t)?k0(t):t.Va.set("Unknown")):(await t.ma.stop(),L2(t))}))),t.ma}function ta(t){return t.fa||(t.fa=(function(n,s,a){const l=ke(n);return l.sa(),new K5(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:rO.bind(null,t),t_:lO.bind(null,t),ta:aO.bind(null,t),na:oO.bind(null,t)}),t.Ra.push((async e=>{e?(t.fa.B_(),await Kd(t)):(await t.fa.stop(),t.Ta.length>0&&(pe(Wa,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V0{constructor(e,n,s,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=l,this.deferred=new Hs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,a,l){const c=Date.now()+s,f=new V0(e,n,c,a,l);return f.start(s),f}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function O0(t,e){if(Ys("AsyncQueue",`${e}: ${t}`),Nl(t))return new fe(ie.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{static emptySet(e){return new ll(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||be.comparator(n.key,s.key):(n,s)=>be.comparator(n.key,s.key),this.keyedMap=$u(),this.sortedSet=new xt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ll)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new ll;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw{constructor(){this.ga=new xt(be.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ae(63341,{Vt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class _l{constructor(e,n,s,a,l,c,f,m,p){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=f,this.excludesMetadataChanges=m,this.hasCachedResults=p}static fromInitialDocuments(e,n,s,a,l){const c=[];return n.forEach((f=>{c.push({type:0,doc:f})})),new _l(e,n,ll.emptySet(n),c,s,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&zd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cO{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class hO{constructor(){this.queries=Rw(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const a=ke(n),l=a.queries;a.queries=Rw(),l.forEach(((c,f)=>{for(const m of f.ba)m.onError(s)}))})(this,new fe(ie.ABORTED,"Firestore shutting down"))}}function Rw(){return new to((t=>o2(t)),zd)}async function F2(t,e){const n=ke(t);let s=3;const a=e.query;let l=n.queries.get(a);l?!l.Sa()&&e.Da()&&(s=2):(l=new cO,s=e.Da()?0:1);try{switch(s){case 0:l.wa=await n.onListen(a,!0);break;case 1:l.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(c){const f=O0(c,`Initialization of query '${Yo(e.query)}' failed`);return void e.onError(f)}n.queries.set(a,l),l.ba.push(e),e.va(n.onlineState),l.wa&&e.Fa(l.wa)&&j0(n)}async function H2(t,e){const n=ke(t),s=e.query;let a=3;const l=n.queries.get(s);if(l){const c=l.ba.indexOf(e);c>=0&&(l.ba.splice(c,1),l.ba.length===0?a=e.Da()?0:1:!l.Sa()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function fO(t,e){const n=ke(t);let s=!1;for(const a of e){const l=a.query,c=n.queries.get(l);if(c){for(const f of c.ba)f.Fa(a)&&(s=!0);c.wa=a}}s&&j0(n)}function dO(t,e,n){const s=ke(t),a=s.queries.get(e);if(a)for(const l of a.ba)l.onError(n);s.queries.delete(e)}function j0(t){t.Ca.forEach((e=>{e.next()}))}var gy,Cw;(Cw=gy||(gy={})).Ma="default",Cw.Cache="cache";class q2{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new _l(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.Ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=_l.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==gy.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G2{constructor(e){this.key=e}}class $2{constructor(e){this.key=e}}class mO{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ge(),this.mutatedKeys=Ge(),this.eu=l2(e),this.tu=new ll(this.eu)}get nu(){return this.Za}ru(e,n){const s=n?n.iu:new Aw,a=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,c=a,f=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((v,_)=>{const w=a.get(v),S=Bd(this.query,_)?_:null,N=!!w&&this.mutatedKeys.has(w.key),M=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let O=!1;w&&S?w.data.isEqual(S.data)?N!==M&&(s.track({type:3,doc:S}),O=!0):this.su(w,S)||(s.track({type:2,doc:S}),O=!0,(m&&this.eu(S,m)>0||p&&this.eu(S,p)<0)&&(f=!0)):!w&&S?(s.track({type:0,doc:S}),O=!0):w&&!S&&(s.track({type:1,doc:w}),O=!0,(m||p)&&(f=!0)),O&&(S?(c=c.add(S),l=M?l.add(v):l.delete(v)):(c=c.delete(v),l=l.delete(v)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),l=l.delete(v.key),s.track({type:1,doc:v})}return{tu:c,iu:s,Ss:f,mutatedKeys:l}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((v,_)=>(function(S,N){const M=O=>{switch(O){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ae(20277,{Vt:O})}};return M(S)-M(N)})(v.type,_.type)||this.eu(v.doc,_.doc))),this.ou(s),a=a??!1;const f=n&&!a?this._u():[],m=this.Ya.size===0&&this.current&&!a?1:0,p=m!==this.Xa;return this.Xa=m,c.length!==0||p?{snapshot:new _l(this.query,e.tu,l,c,e.mutatedKeys,m===0,p,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:f}:{au:f}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Aw,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Ge(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const n=[];return e.forEach((s=>{this.Ya.has(s)||n.push(new $2(s))})),this.Ya.forEach((s=>{e.has(s)||n.push(new G2(s))})),n}cu(e){this.Za=e.ks,this.Ya=Ge();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return _l.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const P0="SyncEngine";class pO{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class gO{constructor(e){this.key=e,this.hu=!1}}class yO{constructor(e,n,s,a,l,c){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new to((f=>o2(f)),zd),this.Iu=new Map,this.Eu=new Set,this.Ru=new xt(be.comparator),this.Au=new Map,this.Vu=new A0,this.du={},this.mu=new Map,this.fu=vl.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function vO(t,e,n=!0){const s=J2(t);let a;const l=s.Tu.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await K2(s,e,n,!0),a}async function _O(t,e){const n=J2(t);await K2(n,e,!0,!1)}async function K2(t,e,n,s){const a=await L5(t.localStore,cs(e)),l=a.targetId,c=t.sharedClientState.addLocalQueryTarget(l,n);let f;return s&&(f=await bO(t,e,l,c==="current",a.resumeToken)),t.isPrimaryClient&&n&&j2(t.remoteStore,a),f}async function bO(t,e,n,s,a){t.pu=(_,w,S)=>(async function(M,O,B,G){let F=O.view.ru(B);F.Ss&&(F=await bw(M.localStore,O.query,!1).then((({documents:C})=>O.view.ru(C,F))));const oe=G&&G.targetChanges.get(O.targetId),re=G&&G.targetMismatches.get(O.targetId)!=null,ce=O.view.applyChanges(F,M.isPrimaryClient,oe,re);return Iw(M,O.targetId,ce.au),ce.snapshot})(t,_,w,S);const l=await bw(t.localStore,e,!0),c=new mO(e,l.ks),f=c.ru(l.documents),m=Pc.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",a),p=c.applyChanges(f,t.isPrimaryClient,m);Iw(t,n,p.au);const v=new pO(e,n,c);return t.Tu.set(e,v),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),p.snapshot}async function xO(t,e,n){const s=ke(t),a=s.Tu.get(e),l=s.Iu.get(a.targetId);if(l.length>1)return s.Iu.set(a.targetId,l.filter((c=>!zd(c,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await my(s.localStore,a.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(a.targetId),n&&I0(s.remoteStore,a.targetId),yy(s,a.targetId)})).catch(Cl)):(yy(s,a.targetId),await my(s.localStore,a.targetId,!0))}async function wO(t,e){const n=ke(t),s=n.Tu.get(e),a=n.Iu.get(s.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),I0(n.remoteStore,s.targetId))}async function TO(t,e,n){const s=IO(t);try{const a=await(function(c,f){const m=ke(c),p=pt.now(),v=f.reduce(((S,N)=>S.add(N.key)),Ge());let _,w;return m.persistence.runTransaction("Locally write mutations","readwrite",(S=>{let N=Qs(),M=Ge();return m.xs.getEntries(S,v).next((O=>{N=O,N.forEach(((B,G)=>{G.isValidDocument()||(M=M.add(B))}))})).next((()=>m.localDocuments.getOverlayedDocuments(S,N))).next((O=>{_=O;const B=[];for(const G of f){const F=PV(G,_.get(G.key).overlayedDocument);F!=null&&B.push(new oa(G.key,F,ZS(F.value.mapValue),di.exists(!0)))}return m.mutationQueue.addMutationBatch(S,p,B,f)})).next((O=>{w=O;const B=O.applyToLocalDocumentSet(_,M);return m.documentOverlayCache.saveOverlays(S,O.batchId,B)}))})).then((()=>({batchId:w.batchId,changes:c2(_)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),(function(c,f,m){let p=c.du[c.currentUser.toKey()];p||(p=new xt(qe)),p=p.insert(f,m),c.du[c.currentUser.toKey()]=p})(s,a.batchId,n),await Uc(s,a.changes),await Kd(s.remoteStore)}catch(a){const l=O0(a,"Failed to persist write");n.reject(l)}}async function Y2(t,e){const n=ke(t);try{const s=await O5(n.localStore,e);e.targetChanges.forEach(((a,l)=>{const c=n.Au.get(l);c&&(tt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?tt(c.hu,14607):a.removedDocuments.size>0&&(tt(c.hu,42227),c.hu=!1))})),await Uc(n,s,e)}catch(s){await Cl(s)}}function Nw(t,e,n){const s=ke(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const a=[];s.Tu.forEach(((l,c)=>{const f=c.view.va(e);f.snapshot&&a.push(f.snapshot)})),(function(c,f){const m=ke(c);m.onlineState=f;let p=!1;m.queries.forEach(((v,_)=>{for(const w of _.ba)w.va(f)&&(p=!0)})),p&&j0(m)})(s.eventManager,e),a.length&&s.Pu.J_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function EO(t,e,n){const s=ke(t);s.sharedClientState.updateQueryState(e,"rejected",n);const a=s.Au.get(e),l=a&&a.key;if(l){let c=new xt(be.comparator);c=c.insert(l,yn.newNoDocument(l,Ne.min()));const f=Ge().add(l),m=new qd(Ne.min(),new Map,new xt(qe),c,f);await Y2(s,m),s.Ru=s.Ru.remove(l),s.Au.delete(e),L0(s)}else await my(s.localStore,e,!1).then((()=>yy(s,e,n))).catch(Cl)}async function SO(t,e){const n=ke(t),s=e.batch.batchId;try{const a=await V5(n.localStore,e);X2(n,s,null),Q2(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Uc(n,a)}catch(a){await Cl(a)}}async function AO(t,e,n){const s=ke(t);try{const a=await(function(c,f){const m=ke(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let v;return m.mutationQueue.lookupMutationBatch(p,f).next((_=>(tt(_!==null,37113),v=_.keys(),m.mutationQueue.removeMutationBatch(p,_)))).next((()=>m.mutationQueue.performConsistencyCheck(p))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(p,v,f))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,v))).next((()=>m.localDocuments.getDocuments(p,v)))}))})(s.localStore,e);X2(s,e,n),Q2(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Uc(s,a)}catch(a){await Cl(a)}}function Q2(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function X2(t,e,n){const s=ke(t);let a=s.du[s.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),s.du[s.currentUser.toKey()]=a}}function yy(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t.Iu.get(e))t.Tu.delete(s),n&&t.Pu.yu(s,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach((s=>{t.Vu.containsKey(s)||W2(t,s)}))}function W2(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&(I0(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),L0(t))}function Iw(t,e,n){for(const s of n)s instanceof G2?(t.Vu.addReference(s.key,e),RO(t,s)):s instanceof $2?(pe(P0,"Document no longer in limbo: "+s.key),t.Vu.removeReference(s.key,e),t.Vu.containsKey(s.key)||W2(t,s.key)):Ae(19791,{wu:s})}function RO(t,e){const n=e.key,s=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(s)||(pe(P0,"New document in limbo: "+n),t.Eu.add(s),L0(t))}function L0(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new be(ft.fromString(e)),s=t.fu.next();t.Au.set(s,new gO(n)),t.Ru=t.Ru.insert(n,s),j2(t.remoteStore,new Fr(cs(b0(n.path)),s,"TargetPurposeLimboResolution",Pd.ce))}}async function Uc(t,e,n){const s=ke(t),a=[],l=[],c=[];s.Tu.isEmpty()||(s.Tu.forEach(((f,m)=>{c.push(s.pu(m,e,n).then((p=>{var v;if((p||n)&&s.isPrimaryClient){const _=p?!p.fromCache:(v=n==null?void 0:n.targetChanges.get(m.targetId))==null?void 0:v.current;s.sharedClientState.updateQueryState(m.targetId,_?"current":"not-current")}if(p){a.push(p);const _=C0.Es(m.targetId,p);l.push(_)}})))})),await Promise.all(c),s.Pu.J_(a),await(async function(m,p){const v=ke(m);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(_=>se.forEach(p,(w=>se.forEach(w.Ts,(S=>v.persistence.referenceDelegate.addReference(_,w.targetId,S))).next((()=>se.forEach(w.Is,(S=>v.persistence.referenceDelegate.removeReference(_,w.targetId,S)))))))))}catch(_){if(!Nl(_))throw _;pe(N0,"Failed to update sequence numbers: "+_)}for(const _ of p){const w=_.targetId;if(!_.fromCache){const S=v.vs.get(w),N=S.snapshotVersion,M=S.withLastLimboFreeSnapshotVersion(N);v.vs=v.vs.insert(w,M)}}})(s.localStore,l))}async function CO(t,e){const n=ke(t);if(!n.currentUser.isEqual(e)){pe(P0,"User change. New user:",e.toKey());const s=await k2(n.localStore,e);n.currentUser=e,(function(l,c){l.mu.forEach((f=>{f.forEach((m=>{m.reject(new fe(ie.CANCELLED,c))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Uc(n,s.Ns)}}function NO(t,e){const n=ke(t),s=n.Au.get(e);if(s&&s.hu)return Ge().add(s.key);{let a=Ge();const l=n.Iu.get(e);if(!l)return a;for(const c of l){const f=n.Tu.get(c);a=a.unionWith(f.view.nu)}return a}}function J2(t){const e=ke(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Y2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=NO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=EO.bind(null,e),e.Pu.J_=fO.bind(null,e.eventManager),e.Pu.yu=dO.bind(null,e.eventManager),e}function IO(t){const e=ke(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=SO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=AO.bind(null,e),e}class _d{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Gd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return M5(this.persistence,new I5,e.initialUser,this.serializer)}Cu(e){return new D2(R0.Vi,this.serializer)}Du(e){return new z5}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}_d.provider={build:()=>new _d};class DO extends _d{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){tt(this.persistence.referenceDelegate instanceof yd,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new p5(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?kn.withCacheSize(this.cacheSizeBytes):kn.DEFAULT;return new D2((s=>yd.Vi(s,n)),this.serializer)}}class vy{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Nw(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=CO.bind(null,this.syncEngine),await uO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new hO})()}createDatastore(e){const n=Gd(e.databaseInfo.databaseId),s=G5(e.databaseInfo);return X5(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,a,l,c,f){return new J5(s,a,l,c,f)})(this.localStore,this.datastore,e.asyncQueue,(n=>Nw(this.syncEngine,n,0)),(function(){return Tw.v()?new Tw:new B5})())}createSyncEngine(e,n){return(function(a,l,c,f,m,p,v){const _=new yO(a,l,c,f,m,p);return v&&(_.gu=!0),_})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(a){const l=ke(a);pe(Wa,"RemoteStore shutting down."),l.Ea.add(5),await Lc(l),l.Aa.shutdown(),l.Va.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}vy.provider={build:()=>new vy};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ys("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const na="FirestoreClient";class kO{constructor(e,n,s,a,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this._databaseInfo=a,this.user=gn.UNAUTHENTICATED,this.clientId=m0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,(async c=>{pe(na,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(s,(c=>(pe(na,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Hs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=O0(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function wg(t,e){t.asyncQueue.verifyOperationInProgress(),pe(na,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener((async a=>{s.isEqual(a)||(await k2(e.localStore,a),s=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function Dw(t,e){t.asyncQueue.verifyOperationInProgress();const n=await MO(t);pe(na,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((s=>Sw(e.remoteStore,s))),t.setAppCheckTokenChangeListener(((s,a)=>Sw(e.remoteStore,a))),t._onlineComponents=e}async function MO(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){pe(na,"Using user provided OfflineComponentProvider");try{await wg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===ie.FAILED_PRECONDITION||a.code===ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;ml("Error using user provided cache. Falling back to memory cache: "+n),await wg(t,new _d)}}else pe(na,"Using default OfflineComponentProvider"),await wg(t,new DO(void 0));return t._offlineComponents}async function eA(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(pe(na,"Using user provided OnlineComponentProvider"),await Dw(t,t._uninitializedComponentsProvider._online)):(pe(na,"Using default OnlineComponentProvider"),await Dw(t,new vy))),t._onlineComponents}function VO(t){return eA(t).then((e=>e.syncEngine))}async function tA(t){const e=await eA(t),n=e.eventManager;return n.onListen=vO.bind(null,e.syncEngine),n.onUnlisten=xO.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=_O.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=wO.bind(null,e.syncEngine),n}function OO(t,e,n={}){const s=new Hs;return t.asyncQueue.enqueueAndForget((async()=>(function(l,c,f,m,p){const v=new Z2({next:w=>{v.Nu(),c.enqueueAndForget((()=>H2(l,_)));const S=w.docs.has(f);!S&&w.fromCache?p.reject(new fe(ie.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&w.fromCache&&m&&m.source==="server"?p.reject(new fe(ie.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(w)},error:w=>p.reject(w)}),_=new q2(b0(f.path),v,{includeMetadataChanges:!0,Ka:!0});return F2(l,_)})(await tA(t),t.asyncQueue,e,n,s))),s.promise}function jO(t,e,n={}){const s=new Hs;return t.asyncQueue.enqueueAndForget((async()=>(function(l,c,f,m,p){const v=new Z2({next:w=>{v.Nu(),c.enqueueAndForget((()=>H2(l,_))),w.fromCache&&m.source==="server"?p.reject(new fe(ie.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(w)},error:w=>p.reject(w)}),_=new q2(f,v,{includeMetadataChanges:!0,Ka:!0});return F2(l,_)})(await tA(t),t.asyncQueue,e,n,s))),s.promise}function PO(t,e){const n=new Hs;return t.asyncQueue.enqueueAndForget((async()=>TO(await VO(t),e,n))),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nA(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LO="ComponentProvider",kw=new Map;function UO(t,e,n,s,a){return new aV(t,e,n,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,nA(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator,s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iA="firestore.googleapis.com",Mw=!0;class Vw{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new fe(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=iA,this.ssl=Mw}else this.host=e.host,this.ssl=e.ssl??Mw;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=I2;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<d5)throw new fe(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}QM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=nA(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new fe(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new fe(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new fe(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,a){return s.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Yd{constructor(e,n,s,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Vw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Vw(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new UM;switch(s.type){case"firstParty":return new HM(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new fe(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=kw.get(n);s&&(pe(LO,"Removing Datastore"),kw.delete(n),s.terminate())})(this),Promise.resolve()}}function zO(t,e,n,s={}){var p;t=Mi(t,Yd);const a=ra(e),l=t._getSettings(),c={...l,emulatorOptions:t._getEmulatorOptions()},f=`${e}:${n}`;a&&(Zy(`https://${f}`),e0("Firestore",!0)),l.host!==iA&&l.host!==f&&ml("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...l,host:f,ssl:a,emulatorOptions:s};if(!Ka(m,c)&&(t._setSettings(m),s.mockUserToken)){let v,_;if(typeof s.mockUserToken=="string")v=s.mockUserToken,_=gn.MOCK_USER;else{v=WE(s.mockUserToken,(p=t._app)==null?void 0:p.options.projectId);const w=s.mockUserToken.sub||s.mockUserToken.user_id;if(!w)throw new fe(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new gn(w)}t._authCredentials=new zM(new BS(v,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Dl(this.firestore,e,this._query)}}class Ot{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Yr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ot(this.firestore,e,this._key)}toJSON(){return{type:Ot._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Vc(n,Ot._jsonSchema))return new Ot(e,s||null,new be(ft.fromString(n.referencePath)))}}Ot._jsonSchemaVersion="firestore/documentReference/1.0",Ot._jsonSchema={type:Kt("string",Ot._jsonSchemaVersion),referencePath:Kt("string")};class Yr extends Dl{constructor(e,n,s){super(e,n,b0(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ot(this.firestore,null,new be(e))}withConverter(e){return new Yr(this.firestore,e,this._path)}}function ci(t,e,...n){if(t=At(t),FS("collection","path",e),t instanceof Yd){const s=ft.fromString(e,...n);return Kx(s),new Yr(t,null,s)}{if(!(t instanceof Ot||t instanceof Yr))throw new fe(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(ft.fromString(e,...n));return Kx(s),new Yr(t.firestore,null,s)}}function rs(t,e,...n){if(t=At(t),arguments.length===1&&(e=m0.newId()),FS("doc","path",e),t instanceof Yd){const s=ft.fromString(e,...n);return $x(s),new Ot(t,null,new be(s))}{if(!(t instanceof Ot||t instanceof Yr))throw new fe(ie.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(ft.fromString(e,...n));return $x(s),new Ot(t.firestore,t instanceof Yr?t.converter:null,new be(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ow="AsyncQueue";class jw{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new V2(this,"async_queue_retry"),this._c=()=>{const s=xg();s&&pe(Ow,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=xg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=xg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Hs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Nl(e))throw e;pe(Ow,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Ys("INTERNAL UNHANDLED ERROR: ",Pw(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=V0.createAndSchedule(this,e,n,s,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&Ae(47125,{Pc:Pw(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Pw(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class io extends Yd{constructor(e,n,s,a){super(e,n,s,a),this.type="firestore",this._queue=new jw,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new jw(e),this._firestoreClient=void 0,await e}}}function BO(t,e){const n=typeof t=="object"?t:i0(),s=typeof t=="string"?t:cd,a=kd(n,"firestore").getImmediate({identifier:s});if(!a._initialized){const l=YE("firestore");l&&zO(a,...l)}return a}function U0(t){if(t._terminated)throw new fe(ie.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||FO(t),t._firestoreClient}function FO(t){var s,a,l,c;const e=t._freezeSettings(),n=UO(t._databaseId,((s=t._app)==null?void 0:s.options.appId)||"",t._persistenceKey,(a=t._app)==null?void 0:a.options.apiKey,e);t._componentsProvider||(l=e.localCache)!=null&&l._offlineComponentProvider&&((c=e.localCache)!=null&&c._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new kO(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new hi(dn.fromBase64String(e))}catch(n){throw new fe(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new hi(dn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:hi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Vc(e,hi._jsonSchema))return hi.fromBase64String(e.bytes)}}hi._jsonSchemaVersion="firestore/bytes/1.0",hi._jsonSchema={type:Kt("string",hi._jsonSchemaVersion),bytes:Kt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new fe(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new fn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new fe(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new fe(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return qe(this._lat,e._lat)||qe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:fs._jsonSchemaVersion}}static fromJSON(e){if(Vc(e,fs._jsonSchema))return new fs(e.latitude,e.longitude)}}fs._jsonSchemaVersion="firestore/geoPoint/1.0",fs._jsonSchema={type:Kt("string",fs._jsonSchemaVersion),latitude:Kt("number"),longitude:Kt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,a){if(s.length!==a.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ki._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Vc(e,ki._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new ki(e.vectorValues);throw new fe(ie.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ki._jsonSchemaVersion="firestore/vectorValue/1.0",ki._jsonSchema={type:Kt("string",ki._jsonSchemaVersion),vectorValues:Kt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HO=/^__.*__$/;class qO{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new oa(e,this.data,this.fieldMask,n,this.fieldTransforms):new jc(e,this.data,n,this.fieldTransforms)}}class sA{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new oa(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function rA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ae(40011,{dataSource:t})}}class F0{constructor(e,n,s,a,l,c){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=a,l===void 0&&this.validatePath(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new F0({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var a;const n=(a=this.path)==null?void 0:a.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePathSegment(e),s}childContextForFieldPath(e){var a;const n=(a=this.path)==null?void 0:a.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePath(),s}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return bd(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(rA(this.dataSource)&&HO.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class GO{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Gd(e)}createContext(e,n,s,a=!1){return new F0({dataSource:e,methodName:n,targetDoc:s,path:fn.emptyPath(),arrayElement:!1,hasConverter:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Qd(t){const e=t._freezeSettings(),n=Gd(t._databaseId);return new GO(t._databaseId,!!e.ignoreUndefinedProperties,n)}function aA(t,e,n,s,a,l={}){const c=t.createContext(l.merge||l.mergeFields?2:0,e,n,a);H0("Data must be an object, but it was:",c,s);const f=oA(s,c);let m,p;if(l.merge)m=new $n(c.fieldMask),p=c.fieldTransforms;else if(l.mergeFields){const v=[];for(const _ of l.mergeFields){const w=vc(e,_,n);if(!c.contains(w))throw new fe(ie.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);cA(v,w)||v.push(w)}m=new $n(v),p=c.fieldTransforms.filter((_=>m.covers(_.field)))}else m=null,p=c.fieldTransforms;return new qO(new Mn(f),m,p)}class Xd extends B0{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Xd}}function $O(t,e,n,s){const a=t.createContext(1,e,n);H0("Data must be an object, but it was:",a,s);const l=[],c=Mn.empty();aa(s,((m,p)=>{const v=uA(e,m,n);p=At(p);const _=a.childContextForFieldPath(v);if(p instanceof Xd)l.push(v);else{const w=zc(p,_);w!=null&&(l.push(v),c.set(v,w))}}));const f=new $n(l);return new sA(c,f,a.fieldTransforms)}function KO(t,e,n,s,a,l){const c=t.createContext(1,e,n),f=[vc(e,s,n)],m=[a];if(l.length%2!=0)throw new fe(ie.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<l.length;w+=2)f.push(vc(e,l[w])),m.push(l[w+1]);const p=[],v=Mn.empty();for(let w=f.length-1;w>=0;--w)if(!cA(p,f[w])){const S=f[w];let N=m[w];N=At(N);const M=c.childContextForFieldPath(S);if(N instanceof Xd)p.push(S);else{const O=zc(N,M);O!=null&&(p.push(S),v.set(S,O))}}const _=new $n(p);return new sA(v,_,c.fieldTransforms)}function YO(t,e,n,s=!1){return zc(n,t.createContext(s?4:3,e))}function zc(t,e){if(lA(t=At(t)))return H0("Unsupported field value:",e,t),oA(t,e);if(t instanceof B0)return(function(s,a){if(!rA(a.dataSource))throw a.createError(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.createError(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(s,a){const l=[];let c=0;for(const f of s){let m=zc(f,a.childContextForArray(c));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),c++}return{arrayValue:{values:l}}})(t,e)}return(function(s,a){if((s=At(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return DV(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=pt.fromDate(s);return{timestampValue:gd(a.serializer,l)}}if(s instanceof pt){const l=new pt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:gd(a.serializer,l)}}if(s instanceof fs)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof hi)return{bytesValue:w2(a.serializer,s._byteString)};if(s instanceof Ot){const l=a.databaseId,c=s.firestore._databaseId;if(!c.isEqual(l))throw a.createError(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:S0(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof ki)return(function(c,f){const m=c instanceof ki?c.toArray():c;return{mapValue:{fields:{[WS]:{stringValue:JS},[hd]:{arrayValue:{values:m.map((v=>{if(typeof v!="number")throw f.createError("VectorValues must only contain numeric values.");return x0(f.serializer,v)}))}}}}}})(s,a);if(N2(s))return s._toProto(a.serializer);throw a.createError(`Unsupported field value: ${jd(s)}`)})(t,e)}function oA(t,e){const n={};return GS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):aa(t,((s,a)=>{const l=zc(a,e.childContextForField(s));l!=null&&(n[s]=l)})),{mapValue:{fields:n}}}function lA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof pt||t instanceof fs||t instanceof hi||t instanceof Ot||t instanceof B0||t instanceof ki||N2(t))}function H0(t,e,n){if(!lA(n)||!HS(n)){const s=jd(n);throw s==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+s)}}function vc(t,e,n){if((e=At(e))instanceof z0)return e._internalPath;if(typeof e=="string")return uA(t,e);throw bd("Field path arguments must be of type string or ",t,!1,void 0,n)}const QO=new RegExp("[~\\*/\\[\\]]");function uA(t,e,n){if(e.search(QO)>=0)throw bd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new z0(...e.split("."))._internalPath}catch{throw bd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function bd(t,e,n,s,a){const l=s&&!s.isEmpty(),c=a!==void 0;let f=`Function ${e}() called with invalid data`;n&&(f+=" (via `toFirestore()`)"),f+=". ";let m="";return(l||c)&&(m+=" (found",l&&(m+=` in field ${s}`),c&&(m+=` in document ${a}`),m+=")"),new fe(ie.INVALID_ARGUMENT,f+t+m)}function cA(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XO{convertValue(e,n="none"){switch(ea(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Zr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ae(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return aa(e,((a,l)=>{s[a]=this.convertValue(l,n)})),s}convertVectorValue(e){var s,a,l;const n=(l=(a=(s=e.fields)==null?void 0:s[hd].arrayValue)==null?void 0:a.values)==null?void 0:l.map((c=>Vt(c.doubleValue)));return new ki(n)}convertGeoPoint(e){return new fs(Vt(e.latitude),Vt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Ud(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(dc(e));default:return null}}convertTimestamp(e){const n=Jr(e);return new pt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=ft.fromString(e);tt(C2(s),9688,{name:e});const a=new mc(s.get(1),s.get(3)),l=new be(s.popFirst(5));return a.isEqual(n)||Ys(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA extends XO{constructor(e){super(),this.firestore=e}convertBytes(e){return new hi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ot(this.firestore,null,n)}}const Lw="@firebase/firestore",Uw="4.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fA{constructor(e,n,s,a,l){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Ot(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new WO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const n=this._document.data.field(vc("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class WO extends fA{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JO(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new fe(ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class q0{}class ZO extends q0{}function ej(t,e,...n){let s=[];e instanceof q0&&s.push(e),s=s.concat(n),(function(l){const c=l.filter((m=>m instanceof $0)).length,f=l.filter((m=>m instanceof G0)).length;if(c>1||c>0&&f>0)throw new fe(ie.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const a of s)t=a._apply(t);return t}class G0 extends ZO{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new G0(e,n,s)}_apply(e){const n=this._parse(e);return dA(e._query,n),new Dl(e.firestore,e.converter,ly(e._query,n))}_parse(e){const n=Qd(e.firestore);return(function(l,c,f,m,p,v,_){let w;if(p.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new fe(ie.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){Bw(_,v);const N=[];for(const M of _)N.push(zw(m,l,M));w={arrayValue:{values:N}}}else w=zw(m,l,_)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||Bw(_,v),w=YO(f,c,_,v==="in"||v==="not-in");return $t.create(p,v,w)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class $0 extends q0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new $0(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:Vi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(a,l){let c=a;const f=l.getFlattenedFilters();for(const m of f)dA(c,m),c=ly(c,m)})(e._query,n),new Dl(e.firestore,e.converter,ly(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function zw(t,e,n){if(typeof(n=At(n))=="string"){if(n==="")throw new fe(ie.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!a2(e)&&n.indexOf("/")!==-1)throw new fe(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(ft.fromString(n));if(!be.isDocumentKey(s))throw new fe(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return tw(t,new be(s))}if(n instanceof Ot)return tw(t,n._key);throw new fe(ie.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${jd(n)}.`)}function Bw(t,e){if(!Array.isArray(t)||t.length===0)throw new fe(ie.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function dA(t,e){const n=(function(a,l){for(const c of a)for(const f of c.getFlattenedFilters())if(l.indexOf(f.op)>=0)return f.op;return null})(t.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new fe(ie.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new fe(ie.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function mA(t,e,n){let s;return s=t?t.toFirestore(e):e,s}class Yu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class qa extends fA{constructor(e,n,s,a,l,c){super(e,n,s,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Kf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(vc("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(ie.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=qa._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}qa._jsonSchemaVersion="firestore/documentSnapshot/1.0",qa._jsonSchema={type:Kt("string",qa._jsonSchemaVersion),bundleSource:Kt("string","DocumentSnapshot"),bundleName:Kt("string"),bundle:Kt("string")};class Kf extends qa{data(e={}){return super.data(e)}}class ul{constructor(e,n,s,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new Yu(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new Kf(this._firestore,this._userDataWriter,s.key,s,new Yu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new fe(ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((f=>{const m=new Kf(a._firestore,a._userDataWriter,f.doc.key,f.doc,new Yu(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);return f.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((f=>l||f.type!==3)).map((f=>{const m=new Kf(a._firestore,a._userDataWriter,f.doc.key,f.doc,new Yu(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,v=-1;return f.type!==0&&(p=c.indexOf(f.doc.key),c=c.delete(f.doc.key)),f.type!==1&&(c=c.add(f.doc),v=c.indexOf(f.doc.key)),{type:tj(f.type),doc:m,oldIndex:p,newIndex:v}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(ie.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ul._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=m0.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),s.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function tj(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ae(61501,{type:t})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ul._jsonSchemaVersion="firestore/querySnapshot/1.0",ul._jsonSchema={type:Kt("string",ul._jsonSchemaVersion),bundleSource:Kt("string","QuerySnapshot"),bundleName:Kt("string"),bundle:Kt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pA(t){t=Mi(t,Ot);const e=Mi(t.firestore,io),n=U0(e);return OO(n,t._key).then((s=>sj(e,t,s)))}function Us(t){t=Mi(t,Dl);const e=Mi(t.firestore,io),n=U0(e),s=new hA(e);return JO(t._query),jO(n,t._query).then((a=>new ul(e,s,t,a)))}function nj(t,e,n){t=Mi(t,Ot);const s=Mi(t.firestore,io),a=mA(t.converter,e),l=Qd(s);return Wd(s,[aA(l,"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,di.none())])}function ij(t,e,n,...s){t=Mi(t,Ot);const a=Mi(t.firestore,io),l=Qd(a);let c;return c=typeof(e=At(e))=="string"||e instanceof z0?KO(l,"updateDoc",t._key,e,n,s):$O(l,"updateDoc",t._key,e),Wd(a,[c.toMutation(t._key,di.exists(!0))])}function zu(t){return Wd(Mi(t.firestore,io),[new w0(t._key,di.none())])}function Tg(t,e){const n=Mi(t.firestore,io),s=rs(t),a=mA(t.converter,e),l=Qd(t.firestore);return Wd(n,[aA(l,"addDoc",s._key,a,t.converter!==null,{}).toMutation(s._key,di.exists(!1))]).then((()=>s))}function Wd(t,e){const n=U0(t);return PO(n,e)}function sj(t,e,n){const s=n.docs.get(e._key),a=new hA(t);return new qa(t,a,e._key,s,new Yu(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){LM(Za),Ya(new Qr("firestore",((s,{instanceIdentifier:a,options:l})=>{const c=s.getProvider("app").getImmediate(),f=new io(new BM(s.getProvider("auth-internal")),new qM(c,s.getProvider("app-check-internal")),oV(c,a),c);return l={useFetchStreams:n,...l},f._setSettings(l),f}),"PUBLIC").setMultipleInstances(!0)),ls(Lw,Uw,e),ls(Lw,Uw,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gA="firebasestorage.googleapis.com",yA="storageBucket",rj=120*1e3,aj=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct extends ys{constructor(e,n,s=0){super(Eg(e),`Firebase Storage: ${n} (${Eg(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ct.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Eg(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Rt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Rt||(Rt={}));function Eg(t){return"storage/"+t}function K0(){const t="An unknown error occurred, please check the error payload for server response.";return new Ct(Rt.UNKNOWN,t)}function oj(t){return new Ct(Rt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function lj(t){return new Ct(Rt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function uj(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Ct(Rt.UNAUTHENTICATED,t)}function cj(){return new Ct(Rt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function hj(t){return new Ct(Rt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function fj(){return new Ct(Rt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function dj(){return new Ct(Rt.CANCELED,"User canceled the upload/download.")}function mj(t){return new Ct(Rt.INVALID_URL,"Invalid URL '"+t+"'.")}function pj(t){return new Ct(Rt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function gj(){return new Ct(Rt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+yA+"' property when initializing the app?")}function yj(){return new Ct(Rt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function vj(){return new Ct(Rt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function _j(t){return new Ct(Rt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function _y(t){return new Ct(Rt.INVALID_ARGUMENT,t)}function vA(){return new Ct(Rt.APP_DELETED,"The Firebase app was deleted.")}function bj(t){return new Ct(Rt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function ic(t,e){return new Ct(Rt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Bu(t){throw new Ct(Rt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=Kn.makeFromUrl(e,n)}catch{return new Kn(e,"")}if(s.path==="")return s;throw pj(e)}static makeFromUrl(e,n){let s=null;const a="([A-Za-z0-9.\\-_]+)";function l(oe){oe.path.charAt(oe.path.length-1)==="/"&&(oe.path_=oe.path_.slice(0,-1))}const c="(/(.*))?$",f=new RegExp("^gs://"+a+c,"i"),m={bucket:1,path:3};function p(oe){oe.path_=decodeURIComponent(oe.path)}const v="v[A-Za-z0-9_]+",_=n.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",S=new RegExp(`^https?://${_}/${v}/b/${a}/o${w}`,"i"),N={bucket:1,path:3},M=n===gA?"(?:storage.googleapis.com|storage.cloud.google.com)":n,O="([^?#]*)",B=new RegExp(`^https?://${M}/${a}/${O}`,"i"),F=[{regex:f,indices:m,postModify:l},{regex:S,indices:N,postModify:p},{regex:B,indices:{bucket:1,path:2},postModify:p}];for(let oe=0;oe<F.length;oe++){const re=F[oe],ce=re.regex.exec(e);if(ce){const C=ce[re.indices.bucket];let A=ce[re.indices.path];A||(A=""),s=new Kn(C,A),re.postModify(s);break}}if(s==null)throw mj(e);return s}}class xj{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wj(t,e,n){let s=1,a=null,l=null,c=!1,f=0;function m(){return f===2}let p=!1;function v(...O){p||(p=!0,e.apply(null,O))}function _(O){a=setTimeout(()=>{a=null,t(S,m())},O)}function w(){l&&clearTimeout(l)}function S(O,...B){if(p){w();return}if(O){w(),v.call(null,O,...B);return}if(m()||c){w(),v.call(null,O,...B);return}s<64&&(s*=2);let F;f===1?(f=2,F=0):F=(s+Math.random())*1e3,_(F)}let N=!1;function M(O){N||(N=!0,w(),!p&&(a!==null?(O||(f=2),clearTimeout(a),_(0)):O||(f=1)))}return _(0),l=setTimeout(()=>{c=!0,M(!0)},n),M}function Tj(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ej(t){return t!==void 0}function Sj(t){return typeof t=="object"&&!Array.isArray(t)}function Y0(t){return typeof t=="string"||t instanceof String}function Fw(t){return Q0()&&t instanceof Blob}function Q0(){return typeof Blob<"u"}function Hw(t,e,n,s){if(s<e)throw _y(`Invalid value for '${t}'. Expected ${e} or greater.`);if(s>n)throw _y(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X0(t,e,n){let s=e;return n==null&&(s=`https://${e}`),`${n}://${s}/v0${t}`}function _A(t){const e=encodeURIComponent;let n="?";for(const s in t)if(t.hasOwnProperty(s)){const a=e(s)+"="+e(t[s]);n=n+a+"&"}return n=n.slice(0,-1),n}var Ga;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Ga||(Ga={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aj(t,e){const n=t>=500&&t<600,a=[408,429].indexOf(t)!==-1,l=e.indexOf(t)!==-1;return n||a||l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rj{constructor(e,n,s,a,l,c,f,m,p,v,_,w=!0,S=!1){this.url_=e,this.method_=n,this.headers_=s,this.body_=a,this.successCodes_=l,this.additionalRetryCodes_=c,this.callback_=f,this.errorCallback_=m,this.timeout_=p,this.progressCallback_=v,this.connectionFactory_=_,this.retry=w,this.isUsingEmulator=S,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((N,M)=>{this.resolve_=N,this.reject_=M,this.start_()})}start_(){const e=(s,a)=>{if(a){s(!1,new Cf(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const c=f=>{const m=f.loaded,p=f.lengthComputable?f.total:-1;this.progressCallback_!==null&&this.progressCallback_(m,p)};this.progressCallback_!==null&&l.addUploadProgressListener(c),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(c),this.pendingConnection_=null;const f=l.getErrorCode()===Ga.NO_ERROR,m=l.getStatus();if(!f||Aj(m,this.additionalRetryCodes_)&&this.retry){const v=l.getErrorCode()===Ga.ABORT;s(!1,new Cf(!1,null,v));return}const p=this.successCodes_.indexOf(m)!==-1;s(!0,new Cf(p,l))})},n=(s,a)=>{const l=this.resolve_,c=this.reject_,f=a.connection;if(a.wasSuccessCode)try{const m=this.callback_(f,f.getResponse());Ej(m)?l(m):l()}catch(m){c(m)}else if(f!==null){const m=K0();m.serverResponse=f.getErrorText(),this.errorCallback_?c(this.errorCallback_(f,m)):c(m)}else if(a.canceled){const m=this.appDelete_?vA():dj();c(m)}else{const m=fj();c(m)}};this.canceled_?n(!1,new Cf(!1,null,!0)):this.backoffId_=wj(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Tj(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Cf{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function Cj(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function Nj(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Ij(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Dj(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function kj(t,e,n,s,a,l,c=!0,f=!1){const m=_A(t.urlParams),p=t.url+m,v=Object.assign({},t.headers);return Ij(v,e),Cj(v,n),Nj(v,l),Dj(v,s),new Rj(p,t.method,v,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,a,c,f)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mj(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Vj(...t){const e=Mj();if(e!==void 0){const n=new e;for(let s=0;s<t.length;s++)n.append(t[s]);return n.getBlob()}else{if(Q0())return new Blob(t);throw new Ct(Rt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Oj(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jj(t){if(typeof atob>"u")throw _j("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const os={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Sg{constructor(e,n){this.data=e,this.contentType=n||null}}function Pj(t,e){switch(t){case os.RAW:return new Sg(bA(e));case os.BASE64:case os.BASE64URL:return new Sg(xA(t,e));case os.DATA_URL:return new Sg(Uj(e),zj(e))}throw K0()}function bA(t){const e=[];for(let n=0;n<t.length;n++){let s=t.charCodeAt(n);if(s<=127)e.push(s);else if(s<=2047)e.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const l=s,c=t.charCodeAt(++n);s=65536|(l&1023)<<10|c&1023,e.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?e.push(239,191,189):e.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(e)}function Lj(t){let e;try{e=decodeURIComponent(t)}catch{throw ic(os.DATA_URL,"Malformed data URL.")}return bA(e)}function xA(t,e){switch(t){case os.BASE64:{const a=e.indexOf("-")!==-1,l=e.indexOf("_")!==-1;if(a||l)throw ic(t,"Invalid character '"+(a?"-":"_")+"' found: is it base64url encoded?");break}case os.BASE64URL:{const a=e.indexOf("+")!==-1,l=e.indexOf("/")!==-1;if(a||l)throw ic(t,"Invalid character '"+(a?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=jj(e)}catch(a){throw a.message.includes("polyfill")?a:ic(t,"Invalid character found")}const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s}class wA{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw ic(os.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=n[1]||null;s!=null&&(this.base64=Bj(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=e.substring(e.indexOf(",")+1)}}function Uj(t){const e=new wA(t);return e.base64?xA(os.BASE64,e.rest):Lj(e.rest)}function zj(t){return new wA(t).contentType}function Bj(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br{constructor(e,n){let s=0,a="";Fw(e)?(this.data_=e,s=e.size,a=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),s=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),s=e.length),this.size_=s,this.type_=a}size(){return this.size_}type(){return this.type_}slice(e,n){if(Fw(this.data_)){const s=this.data_,a=Oj(s,e,n);return a===null?null:new Br(a)}else{const s=new Uint8Array(this.data_.buffer,e,n-e);return new Br(s,!0)}}static getBlob(...e){if(Q0()){const n=e.map(s=>s instanceof Br?s.data_:s);return new Br(Vj.apply(null,n))}else{const n=e.map(c=>Y0(c)?Pj(os.RAW,c).data:c.data_);let s=0;n.forEach(c=>{s+=c.byteLength});const a=new Uint8Array(s);let l=0;return n.forEach(c=>{for(let f=0;f<c.length;f++)a[l++]=c[f]}),new Br(a,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TA(t){let e;try{e=JSON.parse(t)}catch{return null}return Sj(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fj(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Hj(t,e){const n=e.split("/").filter(s=>s.length>0).join("/");return t.length===0?n:t+"/"+n}function EA(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qj(t,e){return e}class xn{constructor(e,n,s,a){this.server=e,this.local=n||e,this.writable=!!s,this.xform=a||qj}}let Nf=null;function Gj(t){return!Y0(t)||t.length<2?t:EA(t)}function SA(){if(Nf)return Nf;const t=[];t.push(new xn("bucket")),t.push(new xn("generation")),t.push(new xn("metageneration")),t.push(new xn("name","fullPath",!0));function e(l,c){return Gj(c)}const n=new xn("name");n.xform=e,t.push(n);function s(l,c){return c!==void 0?Number(c):c}const a=new xn("size");return a.xform=s,t.push(a),t.push(new xn("timeCreated")),t.push(new xn("updated")),t.push(new xn("md5Hash",null,!0)),t.push(new xn("cacheControl",null,!0)),t.push(new xn("contentDisposition",null,!0)),t.push(new xn("contentEncoding",null,!0)),t.push(new xn("contentLanguage",null,!0)),t.push(new xn("contentType",null,!0)),t.push(new xn("metadata","customMetadata",!0)),Nf=t,Nf}function $j(t,e){function n(){const s=t.bucket,a=t.fullPath,l=new Kn(s,a);return e._makeStorageReference(l)}Object.defineProperty(t,"ref",{get:n})}function Kj(t,e,n){const s={};s.type="file";const a=n.length;for(let l=0;l<a;l++){const c=n[l];s[c.local]=c.xform(s,e[c.server])}return $j(s,t),s}function AA(t,e,n){const s=TA(e);return s===null?null:Kj(t,s,n)}function Yj(t,e,n,s){const a=TA(e);if(a===null||!Y0(a.downloadTokens))return null;const l=a.downloadTokens;if(l.length===0)return null;const c=encodeURIComponent;return l.split(",").map(p=>{const v=t.bucket,_=t.fullPath,w="/b/"+c(v)+"/o/"+c(_),S=X0(w,n,s),N=_A({alt:"media",token:p});return S+N})[0]}function Qj(t,e){const n={},s=e.length;for(let a=0;a<s;a++){const l=e[a];l.writable&&(n[l.server]=t[l.local])}return JSON.stringify(n)}class RA{constructor(e,n,s,a){this.url=e,this.method=n,this.handler=s,this.timeout=a,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CA(t){if(!t)throw K0()}function Xj(t,e){function n(s,a){const l=AA(t,a,e);return CA(l!==null),l}return n}function Wj(t,e){function n(s,a){const l=AA(t,a,e);return CA(l!==null),Yj(l,a,t.host,t._protocol)}return n}function NA(t){function e(n,s){let a;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?a=cj():a=uj():n.getStatus()===402?a=lj(t.bucket):n.getStatus()===403?a=hj(t.path):a=s,a.status=n.getStatus(),a.serverResponse=s.serverResponse,a}return e}function Jj(t){const e=NA(t);function n(s,a){let l=e(s,a);return s.getStatus()===404&&(l=oj(t.path)),l.serverResponse=a.serverResponse,l}return n}function Zj(t,e,n){const s=e.fullServerUrl(),a=X0(s,t.host,t._protocol),l="GET",c=t.maxOperationRetryTime,f=new RA(a,l,Wj(t,n),c);return f.errorHandler=Jj(e),f}function e6(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function t6(t,e,n){const s=Object.assign({},n);return s.fullPath=t.path,s.size=e.size(),s.contentType||(s.contentType=e6(null,e)),s}function n6(t,e,n,s,a){const l=e.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"};function f(){let F="";for(let oe=0;oe<2;oe++)F=F+Math.random().toString().slice(2);return F}const m=f();c["Content-Type"]="multipart/related; boundary="+m;const p=t6(e,s,a),v=Qj(p,n),_="--"+m+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+v+`\r
--`+m+`\r
Content-Type: `+p.contentType+`\r
\r
`,w=`\r
--`+m+"--",S=Br.getBlob(_,s,w);if(S===null)throw yj();const N={name:p.fullPath},M=X0(l,t.host,t._protocol),O="POST",B=t.maxUploadRetryTime,G=new RA(M,O,Xj(t,n),B);return G.urlParams=N,G.headers=c,G.body=S.uploadData(),G.errorHandler=NA(e),G}class i6{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ga.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ga.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ga.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,s,a,l){if(this.sent_)throw Bu("cannot .send() more than once");if(ra(e)&&s&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),l!==void 0)for(const c in l)l.hasOwnProperty(c)&&this.xhr_.setRequestHeader(c,l[c].toString());return a!==void 0?this.xhr_.send(a):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Bu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Bu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Bu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Bu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class s6 extends i6{initXhr(){this.xhr_.responseType="text"}}function IA(){return new s6}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(e,n){this._service=e,n instanceof Kn?this._location=n:this._location=Kn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Ja(e,n)}get root(){const e=new Kn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return EA(this._location.path)}get storage(){return this._service}get parent(){const e=Fj(this._location.path);if(e===null)return null;const n=new Kn(this._location.bucket,e);return new Ja(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw bj(e)}}function r6(t,e,n){t._throwIfRoot("uploadBytes");const s=n6(t.storage,t._location,SA(),new Br(e,!0),n);return t.storage.makeRequestWithTokens(s,IA).then(a=>({metadata:a,ref:t}))}function a6(t){t._throwIfRoot("getDownloadURL");const e=Zj(t.storage,t._location,SA());return t.storage.makeRequestWithTokens(e,IA).then(n=>{if(n===null)throw vj();return n})}function o6(t,e){const n=Hj(t._location.path,e),s=new Kn(t._location.bucket,n);return new Ja(t.storage,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l6(t){return/^[A-Za-z]+:\/\//.test(t)}function u6(t,e){return new Ja(t,e)}function DA(t,e){if(t instanceof W0){const n=t;if(n._bucket==null)throw gj();const s=new Ja(n,n._bucket);return e!=null?DA(s,e):s}else return e!==void 0?o6(t,e):t}function c6(t,e){if(e&&l6(e)){if(t instanceof W0)return u6(t,e);throw _y("To use ref(service, url), the first argument must be a Storage instance.")}else return DA(t,e)}function qw(t,e){const n=e==null?void 0:e[yA];return n==null?null:Kn.makeFromBucketSpec(n,t)}function h6(t,e,n,s={}){t.host=`${e}:${n}`;const a=ra(e);a&&(Zy(`https://${t.host}/b`),e0("Storage",!0)),t._isUsingEmulator=!0,t._protocol=a?"https":"http";const{mockUserToken:l}=s;l&&(t._overrideAuthToken=typeof l=="string"?l:WE(l,t.app.options.projectId))}class W0{constructor(e,n,s,a,l,c=!1){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=a,this._firebaseVersion=l,this._isUsingEmulator=c,this._bucket=null,this._host=gA,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=rj,this._maxUploadRetryTime=aj,this._requests=new Set,a!=null?this._bucket=Kn.makeFromBucketSpec(a,this._host):this._bucket=qw(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Kn.makeFromBucketSpec(this._url,e):this._bucket=qw(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Hw("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Hw("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Gn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ja(this,e)}_makeRequest(e,n,s,a,l=!0){if(this._deleted)return new xj(vA());{const c=kj(e,this._appId,s,a,n,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,n){const[s,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,a).getPromise()}}const Gw="@firebase/storage",$w="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kA="storage";function f6(t,e,n){return t=At(t),r6(t,e,n)}function d6(t){return t=At(t),a6(t)}function m6(t,e){return t=At(t),c6(t,e)}function p6(t=i0(),e){t=At(t);const s=kd(t,kA).getImmediate({identifier:e}),a=YE("storage");return a&&g6(s,...a),s}function g6(t,e,n,s={}){h6(t,e,n,s)}function y6(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),s=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return new W0(n,s,a,e,Za)}function v6(){Ya(new Qr(kA,y6,"PUBLIC").setMultipleInstances(!0)),ls(Gw,$w,""),ls(Gw,$w,"esm2020")}v6();const _6={apiKey:"AIzaSyDl3s_yKbxhsjJUJm-HCjQtL-dvRjV9F7o",authDomain:"rushhourrp-aec24.firebaseapp.com",projectId:"rushhourrp-aec24",storageBucket:"rushhourrp-aec24.firebasestorage.app",messagingSenderId:"539949574077",appId:"1:539949574077:web:92dc4b28c0d12d7d0d54d4",measurementId:"G-P078TYSE0V"},J0=eS(_6),wn=VM(J0),b6=new Ls,Mt=BO(J0),x6=p6(J0);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w6=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),T6=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),Kw=t=>{const e=T6(t);return e.charAt(0).toUpperCase()+e.slice(1)},MA=(...t)=>t.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),E6=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var S6={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A6=D.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:a="",children:l,iconNode:c,...f},m)=>D.createElement("svg",{ref:m,...S6,width:e,height:e,stroke:t,strokeWidth:s?Number(n)*24/Number(e):n,className:MA("lucide",a),...!l&&!E6(f)&&{"aria-hidden":"true"},...f},[...c.map(([p,v])=>D.createElement(p,v)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const je=(t,e)=>{const n=D.forwardRef(({className:s,...a},l)=>D.createElement(A6,{ref:l,iconNode:e,className:MA(`lucide-${w6(Kw(t))}`,`lucide-${t}`,s),...a}));return n.displayName=Kw(t),n};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R6=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],VA=je("banknote",R6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C6=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],_c=je("book-open",C6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N6=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],I6=je("briefcase",N6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D6=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],OA=je("camera",D6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k6=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],jA=je("car",k6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M6=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],PA=je("check",M6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V6=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],LA=je("chevron-down",V6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O6=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Yw=je("chevron-right",O6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j6=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],UA=je("chevron-up",j6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P6=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],L6=je("circle-alert",P6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U6=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],z6=je("copy",U6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B6=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],zA=je("crown",B6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F6=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Qw=je("file-text",F6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H6=[["path",{d:"m14 13-8.381 8.38a1 1 0 0 1-3.001-3l8.384-8.381",key:"pgg06f"}],["path",{d:"m16 16 6-6",key:"vzrcl6"}],["path",{d:"m21.5 10.5-8-8",key:"a17d9x"}],["path",{d:"m8 8 6-6",key:"18bi4p"}],["path",{d:"m8.5 7.5 8 8",key:"1oyaui"}]],Z0=je("gavel",H6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q6=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],BA=je("heart",q6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G6=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],$6=je("house",G6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K6=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Ag=je("image",K6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y6=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],Q6=je("layout-dashboard",Y6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X6=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],W6=je("link",X6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J6=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Z6=je("loader-circle",J6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eP=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],tP=je("lock",eP);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nP=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],by=je("log-in",nP);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iP=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],xy=je("log-out",iP);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sP=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],rP=je("map-pin",sP);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aP=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],oP=je("menu",aP);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lP=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],bl=je("message-square",lP);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uP=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],Xw=je("monitor",uP);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cP=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Wo=je("pen",cP);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hP=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],fP=je("play",hP);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dP=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Jo=je("plus",dP);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mP=[["path",{d:"M16.247 7.761a6 6 0 0 1 0 8.478",key:"1fwjs5"}],["path",{d:"M19.075 4.933a10 10 0 0 1 0 14.134",key:"ehdyv1"}],["path",{d:"M4.925 19.067a10 10 0 0 1 0-14.134",key:"1q22gi"}],["path",{d:"M7.753 16.239a6 6 0 0 1 0-8.478",key:"r2q7qm"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],FA=je("radio",mP);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pP=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Ww=je("save",pP);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gP=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Jw=je("settings",gP);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yP=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],xl=je("shield",yP);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vP=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Fu=je("trash-2",vP);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _P=[["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],bP=je("trash",_P);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xP=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Jd=je("triangle-alert",xP);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wP=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Zw=je("upload",wP);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TP=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],bc=je("user",TP);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EP=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],wl=je("users",EP);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SP=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],cl=je("x",SP);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AP=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],hl=je("zap",AP),ev=D.createContext({});function ia(t){const e=D.useRef(null);return e.current===null&&(e.current=t()),e.current}const HA=typeof window<"u",Zd=HA?D.useLayoutEffect:D.useEffect,em=D.createContext(null);function tv(t,e){t.indexOf(e)===-1&&t.push(e)}function nv(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Oi=(t,e,n)=>n>e?e:n<t?t:n;let xc=()=>{};const Xs={},qA=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function GA(t){return typeof t=="object"&&t!==null}const $A=t=>/^0[^.\s]+$/u.test(t);function iv(t){let e;return()=>(e===void 0&&(e=t()),e)}const Vn=t=>t,RP=(t,e)=>n=>e(t(n)),Bc=(...t)=>t.reduce(RP),Tl=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s};class sv{constructor(){this.subscriptions=[]}add(e){return tv(this.subscriptions,e),()=>nv(this.subscriptions,e)}notify(e,n,s){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,s);else for(let l=0;l<a;l++){const c=this.subscriptions[l];c&&c(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const qs=t=>t*1e3,fi=t=>t/1e3;function rv(t,e){return e?t*(1e3/e):0}const KA=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,CP=1e-7,NP=12;function IP(t,e,n,s,a){let l,c,f=0;do c=e+(n-e)/2,l=KA(c,s,a)-t,l>0?n=c:e=c;while(Math.abs(l)>CP&&++f<NP);return c}function Fc(t,e,n,s){if(t===e&&n===s)return Vn;const a=l=>IP(l,0,1,t,n);return l=>l===0||l===1?l:KA(a(l),e,s)}const YA=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,QA=t=>e=>1-t(1-e),XA=Fc(.33,1.53,.69,.99),av=QA(XA),WA=YA(av),JA=t=>(t*=2)<1?.5*av(t):.5*(2-Math.pow(2,-10*(t-1))),ov=t=>1-Math.sin(Math.acos(t)),ZA=QA(ov),eR=YA(ov),DP=Fc(.42,0,1,1),kP=Fc(0,0,.58,1),tR=Fc(.42,0,.58,1),MP=t=>Array.isArray(t)&&typeof t[0]!="number",nR=t=>Array.isArray(t)&&typeof t[0]=="number",VP={linear:Vn,easeIn:DP,easeInOut:tR,easeOut:kP,circIn:ov,circInOut:eR,circOut:ZA,backIn:av,backInOut:WA,backOut:XA,anticipate:JA},OP=t=>typeof t=="string",eT=t=>{if(nR(t)){xc(t.length===4);const[e,n,s,a]=t;return Fc(e,n,s,a)}else if(OP(t))return VP[t];return t},If=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function jP(t,e){let n=new Set,s=new Set,a=!1,l=!1;const c=new WeakSet;let f={delta:0,timestamp:0,isProcessing:!1};function m(v){c.has(v)&&(p.schedule(v),t()),v(f)}const p={schedule:(v,_=!1,w=!1)=>{const N=w&&a?n:s;return _&&c.add(v),N.has(v)||N.add(v),v},cancel:v=>{s.delete(v),c.delete(v)},process:v=>{if(f=v,a){l=!0;return}a=!0,[n,s]=[s,n],n.forEach(m),n.clear(),a=!1,l&&(l=!1,p.process(v))}};return p}const PP=40;function iR(t,e){let n=!1,s=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,c=If.reduce((F,oe)=>(F[oe]=jP(l),F),{}),{setup:f,read:m,resolveKeyframes:p,preUpdate:v,update:_,preRender:w,render:S,postRender:N}=c,M=()=>{const F=Xs.useManualTiming?a.timestamp:performance.now();n=!1,Xs.useManualTiming||(a.delta=s?1e3/60:Math.max(Math.min(F-a.timestamp,PP),1)),a.timestamp=F,a.isProcessing=!0,f.process(a),m.process(a),p.process(a),v.process(a),_.process(a),w.process(a),S.process(a),N.process(a),a.isProcessing=!1,n&&e&&(s=!1,t(M))},O=()=>{n=!0,s=!0,a.isProcessing||t(M)};return{schedule:If.reduce((F,oe)=>{const re=c[oe];return F[oe]=(ce,C=!1,A=!1)=>(n||O(),re.schedule(ce,C,A)),F},{}),cancel:F=>{for(let oe=0;oe<If.length;oe++)c[If[oe]].cancel(F)},state:a,steps:c}}const{schedule:et,cancel:ji,state:tn,steps:Rg}=iR(typeof requestAnimationFrame<"u"?requestAnimationFrame:Vn,!0);let Yf;function LP(){Yf=void 0}const Tn={now:()=>(Yf===void 0&&Tn.set(tn.isProcessing||Xs.useManualTiming?tn.timestamp:performance.now()),Yf),set:t=>{Yf=t,queueMicrotask(LP)}},sR=t=>e=>typeof e=="string"&&e.startsWith(t),rR=sR("--"),UP=sR("var(--"),lv=t=>UP(t)?zP.test(t.split("/*")[0].trim()):!1,zP=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function tT(t){return typeof t!="string"?!1:t.split("/*")[0].includes("var(--")}const kl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},wc={...kl,transform:t=>Oi(0,1,t)},Df={...kl,default:1},sc=t=>Math.round(t*1e5)/1e5,uv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function BP(t){return t==null}const FP=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,cv=(t,e)=>n=>!!(typeof n=="string"&&FP.test(n)&&n.startsWith(t)||e&&!BP(n)&&Object.prototype.hasOwnProperty.call(n,e)),aR=(t,e,n)=>s=>{if(typeof s!="string")return s;const[a,l,c,f]=s.match(uv);return{[t]:parseFloat(a),[e]:parseFloat(l),[n]:parseFloat(c),alpha:f!==void 0?parseFloat(f):1}},HP=t=>Oi(0,255,t),Cg={...kl,transform:t=>Math.round(HP(t))},Fa={test:cv("rgb","red"),parse:aR("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+Cg.transform(t)+", "+Cg.transform(e)+", "+Cg.transform(n)+", "+sc(wc.transform(s))+")"};function qP(t){let e="",n="",s="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,s+=s,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}}const wy={test:cv("#"),parse:qP,transform:Fa.transform},Hc=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),jr=Hc("deg"),ds=Hc("%"),ge=Hc("px"),GP=Hc("vh"),$P=Hc("vw"),nT={...ds,parse:t=>ds.parse(t)/100,transform:t=>ds.transform(t*100)},Zo={test:cv("hsl","hue"),parse:aR("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+ds.transform(sc(e))+", "+ds.transform(sc(n))+", "+sc(wc.transform(s))+")"},Gt={test:t=>Fa.test(t)||wy.test(t)||Zo.test(t),parse:t=>Fa.test(t)?Fa.parse(t):Zo.test(t)?Zo.parse(t):wy.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Fa.transform(t):Zo.transform(t),getAnimatableNone:t=>{const e=Gt.parse(t);return e.alpha=0,Gt.transform(e)}},KP=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function YP(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(uv))==null?void 0:e.length)||0)+(((n=t.match(KP))==null?void 0:n.length)||0)>0}const oR="number",lR="color",QP="var",XP="var(",iT="${}",WP=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Tc(t){const e=t.toString(),n=[],s={color:[],number:[],var:[]},a=[];let l=0;const f=e.replace(WP,m=>(Gt.test(m)?(s.color.push(l),a.push(lR),n.push(Gt.parse(m))):m.startsWith(XP)?(s.var.push(l),a.push(QP),n.push(m)):(s.number.push(l),a.push(oR),n.push(parseFloat(m))),++l,iT)).split(iT);return{values:n,split:f,indexes:s,types:a}}function uR(t){return Tc(t).values}function cR(t){const{split:e,types:n}=Tc(t),s=e.length;return a=>{let l="";for(let c=0;c<s;c++)if(l+=e[c],a[c]!==void 0){const f=n[c];f===oR?l+=sc(a[c]):f===lR?l+=Gt.transform(a[c]):l+=a[c]}return l}}const JP=t=>typeof t=="number"?0:Gt.test(t)?Gt.getAnimatableNone(t):t;function ZP(t){const e=uR(t);return cR(t)(e.map(JP))}const sa={test:YP,parse:uR,createTransformer:cR,getAnimatableNone:ZP};function Ng(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function eL({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let a=0,l=0,c=0;if(!e)a=l=c=n;else{const f=n<.5?n*(1+e):n+e-n*e,m=2*n-f;a=Ng(m,f,t+1/3),l=Ng(m,f,t),c=Ng(m,f,t-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:s}}function xd(t,e){return n=>n>0?e:t}const bt=(t,e,n)=>t+(e-t)*n,Ig=(t,e,n)=>{const s=t*t,a=n*(e*e-s)+s;return a<0?0:Math.sqrt(a)},tL=[wy,Fa,Zo],nL=t=>tL.find(e=>e.test(t));function sT(t){const e=nL(t);if(!e)return!1;let n=e.parse(t);return e===Zo&&(n=eL(n)),n}const rT=(t,e)=>{const n=sT(t),s=sT(e);if(!n||!s)return xd(t,e);const a={...n};return l=>(a.red=Ig(n.red,s.red,l),a.green=Ig(n.green,s.green,l),a.blue=Ig(n.blue,s.blue,l),a.alpha=bt(n.alpha,s.alpha,l),Fa.transform(a))},Ty=new Set(["none","hidden"]);function iL(t,e){return Ty.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function sL(t,e){return n=>bt(t,e,n)}function hv(t){return typeof t=="number"?sL:typeof t=="string"?lv(t)?xd:Gt.test(t)?rT:oL:Array.isArray(t)?hR:typeof t=="object"?Gt.test(t)?rT:rL:xd}function hR(t,e){const n=[...t],s=n.length,a=t.map((l,c)=>hv(l)(l,e[c]));return l=>{for(let c=0;c<s;c++)n[c]=a[c](l);return n}}function rL(t,e){const n={...t,...e},s={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(s[a]=hv(t[a])(t[a],e[a]));return a=>{for(const l in s)n[l]=s[l](a);return n}}function aL(t,e){const n=[],s={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],c=t.indexes[l][s[l]],f=t.values[c]??0;n[a]=f,s[l]++}return n}const oL=(t,e)=>{const n=sa.createTransformer(e),s=Tc(t),a=Tc(e);return s.indexes.var.length===a.indexes.var.length&&s.indexes.color.length===a.indexes.color.length&&s.indexes.number.length>=a.indexes.number.length?Ty.has(t)&&!a.values.length||Ty.has(e)&&!s.values.length?iL(t,e):Bc(hR(aL(s,a),a.values),n):xd(t,e)};function fR(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?bt(t,e,n):hv(t)(t,e)}const lL=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>et.update(e,n),stop:()=>ji(e),now:()=>tn.isProcessing?tn.timestamp:Tn.now()}},dR=(t,e,n=10)=>{let s="";const a=Math.max(Math.round(e/n),2);for(let l=0;l<a;l++)s+=Math.round(t(l/(a-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},wd=2e4;function fv(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<wd;)e+=n,s=t.next(e);return e>=wd?1/0:e}function uL(t,e=100,n){const s=n({...t,keyframes:[0,e]}),a=Math.min(fv(s),wd);return{type:"keyframes",ease:l=>s.next(a*l).value/e,duration:fi(a)}}const cL=5;function mR(t,e,n){const s=Math.max(e-cL,0);return rv(n-t(s),e-s)}const St={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Dg=.001;function hL({duration:t=St.duration,bounce:e=St.bounce,velocity:n=St.velocity,mass:s=St.mass}){let a,l,c=1-e;c=Oi(St.minDamping,St.maxDamping,c),t=Oi(St.minDuration,St.maxDuration,fi(t)),c<1?(a=p=>{const v=p*c,_=v*t,w=v-n,S=Ey(p,c),N=Math.exp(-_);return Dg-w/S*N},l=p=>{const _=p*c*t,w=_*n+n,S=Math.pow(c,2)*Math.pow(p,2)*t,N=Math.exp(-_),M=Ey(Math.pow(p,2),c);return(-a(p)+Dg>0?-1:1)*((w-S)*N)/M}):(a=p=>{const v=Math.exp(-p*t),_=(p-n)*t+1;return-Dg+v*_},l=p=>{const v=Math.exp(-p*t),_=(n-p)*(t*t);return v*_});const f=5/t,m=dL(a,l,f);if(t=qs(t),isNaN(m))return{stiffness:St.stiffness,damping:St.damping,duration:t};{const p=Math.pow(m,2)*s;return{stiffness:p,damping:c*2*Math.sqrt(s*p),duration:t}}}const fL=12;function dL(t,e,n){let s=n;for(let a=1;a<fL;a++)s=s-t(s)/e(s);return s}function Ey(t,e){return t*Math.sqrt(1-e*e)}const mL=["duration","bounce"],pL=["stiffness","damping","mass"];function aT(t,e){return e.some(n=>t[n]!==void 0)}function gL(t){let e={velocity:St.velocity,stiffness:St.stiffness,damping:St.damping,mass:St.mass,isResolvedFromDuration:!1,...t};if(!aT(t,pL)&&aT(t,mL))if(t.visualDuration){const n=t.visualDuration,s=2*Math.PI/(n*1.2),a=s*s,l=2*Oi(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:St.mass,stiffness:a,damping:l}}else{const n=hL(t);e={...e,...n,mass:St.mass},e.isResolvedFromDuration=!0}return e}function Td(t=St.visualDuration,e=St.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:a}=n;const l=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],f={done:!1,value:l},{stiffness:m,damping:p,mass:v,duration:_,velocity:w,isResolvedFromDuration:S}=gL({...n,velocity:-fi(n.velocity||0)}),N=w||0,M=p/(2*Math.sqrt(m*v)),O=c-l,B=fi(Math.sqrt(m/v)),G=Math.abs(O)<5;s||(s=G?St.restSpeed.granular:St.restSpeed.default),a||(a=G?St.restDelta.granular:St.restDelta.default);let F;if(M<1){const re=Ey(B,M);F=ce=>{const C=Math.exp(-M*B*ce);return c-C*((N+M*B*O)/re*Math.sin(re*ce)+O*Math.cos(re*ce))}}else if(M===1)F=re=>c-Math.exp(-B*re)*(O+(N+B*O)*re);else{const re=B*Math.sqrt(M*M-1);F=ce=>{const C=Math.exp(-M*B*ce),A=Math.min(re*ce,300);return c-C*((N+M*B*O)*Math.sinh(A)+re*O*Math.cosh(A))/re}}const oe={calculatedDuration:S&&_||null,next:re=>{const ce=F(re);if(S)f.done=re>=_;else{let C=re===0?N:0;M<1&&(C=re===0?qs(N):mR(F,re,ce));const A=Math.abs(C)<=s,I=Math.abs(c-ce)<=a;f.done=A&&I}return f.value=f.done?c:ce,f},toString:()=>{const re=Math.min(fv(oe),wd),ce=dR(C=>oe.next(re*C).value,re,30);return re+"ms "+ce},toTransition:()=>{}};return oe}Td.applyToOptions=t=>{const e=uL(t,100,Td);return t.ease=e.ease,t.duration=qs(e.duration),t.type="keyframes",t};function Sy({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:c,min:f,max:m,restDelta:p=.5,restSpeed:v}){const _=t[0],w={done:!1,value:_},S=A=>f!==void 0&&A<f||m!==void 0&&A>m,N=A=>f===void 0?m:m===void 0||Math.abs(f-A)<Math.abs(m-A)?f:m;let M=n*e;const O=_+M,B=c===void 0?O:c(O);B!==O&&(M=B-_);const G=A=>-M*Math.exp(-A/s),F=A=>B+G(A),oe=A=>{const I=G(A),P=F(A);w.done=Math.abs(I)<=p,w.value=w.done?B:P};let re,ce;const C=A=>{S(w.value)&&(re=A,ce=Td({keyframes:[w.value,N(w.value)],velocity:mR(F,A,w.value),damping:a,stiffness:l,restDelta:p,restSpeed:v}))};return C(0),{calculatedDuration:null,next:A=>{let I=!1;return!ce&&re===void 0&&(I=!0,oe(A),C(A)),re!==void 0&&A>=re?ce.next(A-re):(!I&&oe(A),w)}}}function yL(t,e,n){const s=[],a=n||Xs.mix||fR,l=t.length-1;for(let c=0;c<l;c++){let f=a(t[c],t[c+1]);if(e){const m=Array.isArray(e)?e[c]||Vn:e;f=Bc(m,f)}s.push(f)}return s}function dv(t,e,{clamp:n=!0,ease:s,mixer:a}={}){const l=t.length;if(xc(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const f=yL(e,s,a),m=f.length,p=v=>{if(c&&v<t[0])return e[0];let _=0;if(m>1)for(;_<t.length-2&&!(v<t[_+1]);_++);const w=Tl(t[_],t[_+1],v);return f[_](w)};return n?v=>p(Oi(t[0],t[l-1],v)):p}function vL(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const a=Tl(0,e,s);t.push(bt(n,1,a))}}function pR(t){const e=[0];return vL(e,t.length-1),e}function _L(t,e){return t.map(n=>n*e)}function bL(t,e){return t.map(()=>e||tR).splice(0,t.length-1)}function rc({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const a=MP(s)?s.map(eT):eT(s),l={done:!1,value:e[0]},c=_L(n&&n.length===e.length?n:pR(e),t),f=dv(c,e,{ease:Array.isArray(a)?a:bL(e,a)});return{calculatedDuration:t,next:m=>(l.value=f(m),l.done=m>=t,l)}}const xL=t=>t!==null;function mv(t,{repeat:e,repeatType:n="loop"},s,a=1){const l=t.filter(xL),f=a<0||e&&n!=="loop"&&e%2===1?0:l.length-1;return!f||s===void 0?l[f]:s}const wL={decay:Sy,inertia:Sy,tween:rc,keyframes:rc,spring:Td};function gR(t){typeof t.type=="string"&&(t.type=wL[t.type])}class pv{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const TL=t=>t/100;class tm extends pv{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var s,a;const{motionValue:n}=this.options;n&&n.updatedAt!==Tn.now()&&this.tick(Tn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(a=(s=this.options).onStop)==null||a.call(s))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;gR(e);const{type:n=rc,repeat:s=0,repeatDelay:a=0,repeatType:l,velocity:c=0}=e;let{keyframes:f}=e;const m=n||rc;m!==rc&&typeof f[0]!="number"&&(this.mixKeyframes=Bc(TL,fR(f[0],f[1])),f=[0,100]);const p=m({...e,keyframes:f});l==="mirror"&&(this.mirroredGenerator=m({...e,keyframes:[...f].reverse(),velocity:-c})),p.calculatedDuration===null&&(p.calculatedDuration=fv(p));const{calculatedDuration:v}=p;this.calculatedDuration=v,this.resolvedDuration=v+a,this.totalDuration=this.resolvedDuration*(s+1)-a,this.generator=p}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:s,totalDuration:a,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:f,calculatedDuration:m}=this;if(this.startTime===null)return s.next(0);const{delay:p=0,keyframes:v,repeat:_,repeatType:w,repeatDelay:S,type:N,onUpdate:M,finalKeyframe:O}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const B=this.currentTime-p*(this.playbackSpeed>=0?1:-1),G=this.playbackSpeed>=0?B<0:B>a;this.currentTime=Math.max(B,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let F=this.currentTime,oe=s;if(_){const A=Math.min(this.currentTime,a)/f;let I=Math.floor(A),P=A%1;!P&&A>=1&&(P=1),P===1&&I--,I=Math.min(I,_+1),!!(I%2)&&(w==="reverse"?(P=1-P,S&&(P-=S/f)):w==="mirror"&&(oe=c)),F=Oi(0,1,P)*f}const re=G?{done:!1,value:v[0]}:oe.next(F);l&&(re.value=l(re.value));let{done:ce}=re;!G&&m!==null&&(ce=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ce);return C&&N!==Sy&&(re.value=mv(v,this.options,O,this.speed)),M&&M(re.value),C&&this.finish(),re}then(e,n){return this.finished.then(e,n)}get duration(){return fi(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+fi(e)}get time(){return fi(this.currentTime)}set time(e){var n;e=qs(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Tn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=fi(this.currentTime))}play(){var a,l;if(this.isStopped)return;const{driver:e=lL,startTime:n}=this.options;this.driver||(this.driver=e(c=>this.tick(c))),(l=(a=this.options).onPlay)==null||l.call(a);const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Tn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function EL(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Ha=t=>t*180/Math.PI,Ay=t=>{const e=Ha(Math.atan2(t[1],t[0]));return Ry(e)},SL={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Ay,rotateZ:Ay,skewX:t=>Ha(Math.atan(t[1])),skewY:t=>Ha(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Ry=t=>(t=t%360,t<0&&(t+=360),t),oT=Ay,lT=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),uT=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),AL={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:lT,scaleY:uT,scale:t=>(lT(t)+uT(t))/2,rotateX:t=>Ry(Ha(Math.atan2(t[6],t[5]))),rotateY:t=>Ry(Ha(Math.atan2(-t[2],t[0]))),rotateZ:oT,rotate:oT,skewX:t=>Ha(Math.atan(t[4])),skewY:t=>Ha(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Cy(t){return t.includes("scale")?1:0}function Ny(t,e){if(!t||t==="none")return Cy(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,a;if(n)s=AL,a=n;else{const f=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=SL,a=f}if(!a)return Cy(e);const l=s[e],c=a[1].split(",").map(CL);return typeof l=="function"?l(c):c[l]}const RL=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Ny(n,e)};function CL(t){return parseFloat(t.trim())}const Ml=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Vl=new Set(Ml),cT=t=>t===kl||t===ge,NL=new Set(["x","y","z"]),IL=Ml.filter(t=>!NL.has(t));function DL(t){const e=[];return IL.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e}const Hr={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Ny(e,"x"),y:(t,{transform:e})=>Ny(e,"y")};Hr.translateX=Hr.x;Hr.translateY=Hr.y;const $a=new Set;let Iy=!1,Dy=!1,ky=!1;function yR(){if(Dy){const t=Array.from($a).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),n=new Map;e.forEach(s=>{const a=DL(s);a.length&&(n.set(s,a),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const a=n.get(s);a&&a.forEach(([l,c])=>{var f;(f=s.getValue(l))==null||f.set(c)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}Dy=!1,Iy=!1,$a.forEach(t=>t.complete(ky)),$a.clear()}function vR(){$a.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Dy=!0)})}function kL(){ky=!0,vR(),yR(),ky=!1}class gv{constructor(e,n,s,a,l,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=s,this.motionValue=a,this.element=l,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?($a.add(this),Iy||(Iy=!0,et.read(vR),et.resolveKeyframes(yR))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:s,motionValue:a}=this;if(e[0]===null){const l=a==null?void 0:a.get(),c=e[e.length-1];if(l!==void 0)e[0]=l;else if(s&&n){const f=s.readValue(n,c);f!=null&&(e[0]=f)}e[0]===void 0&&(e[0]=c),a&&l===void 0&&a.set(e[0])}EL(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),$a.delete(this)}cancel(){this.state==="scheduled"&&($a.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const ML=t=>t.startsWith("--");function VL(t,e,n){ML(e)?t.style.setProperty(e,n):t.style[e]=n}const _R=iv(()=>window.ScrollTimeline!==void 0),OL={};function jL(t,e){const n=iv(t);return()=>OL[e]??n()}const bR=jL(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Qu=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,hT={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Qu([0,.65,.55,1]),circOut:Qu([.55,0,1,.45]),backIn:Qu([.31,.01,.66,-.59]),backOut:Qu([.33,1.53,.69,.99])};function xR(t,e){if(t)return typeof t=="function"?bR()?dR(t,e):"ease-out":nR(t)?Qu(t):Array.isArray(t)?t.map(n=>xR(n,e)||hT.easeOut):hT[t]}function PL(t,e,n,{delay:s=0,duration:a=300,repeat:l=0,repeatType:c="loop",ease:f="easeOut",times:m}={},p=void 0){const v={[e]:n};m&&(v.offset=m);const _=xR(f,a);Array.isArray(_)&&(v.easing=_);const w={delay:s,duration:a,easing:Array.isArray(_)?"linear":_,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return p&&(w.pseudoElement=p),t.animate(v,w)}function wR(t){return typeof t=="function"&&"applyToOptions"in t}function LL({type:t,...e}){return wR(t)&&bR()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class UL extends pv{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:n,name:s,keyframes:a,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:f,onComplete:m}=e;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=e,xc(typeof e.type!="string");const p=LL(e);this.animation=PL(n,s,a,p,l),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const v=mv(a,this.options,f,this.speed);this.updateMotionValue?this.updateMotionValue(v):VL(n,s,v),this.animation.cancel()}m==null||m(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,s;const e=((s=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:s.call(n).duration)||0;return fi(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+fi(e)}get time(){return fi(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=qs(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var s;return this.allowFlatten&&((s=this.animation.effect)==null||s.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&_R()?(this.animation.timeline=e,Vn):n(this)}}const TR={anticipate:JA,backInOut:WA,circInOut:eR};function zL(t){return t in TR}function BL(t){typeof t.ease=="string"&&zL(t.ease)&&(t.ease=TR[t.ease])}const kg=10;class FL extends UL{constructor(e){BL(e),gR(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:s,onComplete:a,element:l,...c}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const f=new tm({...c,autoplay:!1}),m=Math.max(kg,Tn.now()-this.startTime),p=Oi(0,kg,m-kg);n.setWithVelocity(f.sample(Math.max(0,m-p)).value,f.sample(m).value,p),f.stop()}}const fT=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(sa.test(t)||t==="0")&&!t.startsWith("url("));function HL(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function qL(t,e,n,s){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],c=fT(a,e),f=fT(l,e);return!c||!f?!1:HL(t)||(n==="spring"||wR(n))&&s}function My(t){t.duration=0,t.type="keyframes"}const GL=new Set(["opacity","clipPath","filter","transform"]),$L=iv(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function KL(t){var v;const{motionValue:e,name:n,repeatDelay:s,repeatType:a,damping:l,type:c}=t;if(!(((v=e==null?void 0:e.owner)==null?void 0:v.current)instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:p}=e.owner.getProps();return $L()&&n&&GL.has(n)&&(n!=="transform"||!p)&&!m&&!s&&a!=="mirror"&&l!==0&&c!=="inertia"}const YL=40;class QL extends pv{constructor({autoplay:e=!0,delay:n=0,type:s="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:c="loop",keyframes:f,name:m,motionValue:p,element:v,..._}){var N;super(),this.stop=()=>{var M,O;this._animation&&(this._animation.stop(),(M=this.stopTimeline)==null||M.call(this)),(O=this.keyframeResolver)==null||O.cancel()},this.createdAt=Tn.now();const w={autoplay:e,delay:n,type:s,repeat:a,repeatDelay:l,repeatType:c,name:m,motionValue:p,element:v,..._},S=(v==null?void 0:v.KeyframeResolver)||gv;this.keyframeResolver=new S(f,(M,O,B)=>this.onKeyframesResolved(M,O,w,!B),m,p,v),(N=this.keyframeResolver)==null||N.scheduleResolve()}onKeyframesResolved(e,n,s,a){var O,B;this.keyframeResolver=void 0;const{name:l,type:c,velocity:f,delay:m,isHandoff:p,onUpdate:v}=s;this.resolvedAt=Tn.now(),qL(e,l,c,f)||((Xs.instantAnimations||!m)&&(v==null||v(mv(e,s,n))),e[0]=e[e.length-1],My(s),s.repeat=0);const w={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>YL?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:e},S=!p&&KL(w),N=(B=(O=w.motionValue)==null?void 0:O.owner)==null?void 0:B.current,M=S?new FL({...w,element:N}):new tm(w);M.finished.then(()=>{this.notifyFinished()}).catch(Vn),this.pendingTimeline&&(this.stopTimeline=M.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=M}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),kL()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}function ER(t,e,n,s=0,a=1){const l=Array.from(t).sort((p,v)=>p.sortNodePosition(v)).indexOf(e),c=t.size,f=(c-1)*s;return typeof n=="function"?n(l,c):a===1?l*s:f-l*s}const XL=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function WL(t){const e=XL.exec(t);if(!e)return[,];const[,n,s,a]=e;return[`--${n??s}`,a]}function SR(t,e,n=1){const[s,a]=WL(t);if(!s)return;const l=window.getComputedStyle(e).getPropertyValue(s);if(l){const c=l.trim();return qA(c)?parseFloat(c):c}return lv(a)?SR(a,e,n+1):a}const JL={type:"spring",stiffness:500,damping:25,restSpeed:10},ZL=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),e9={type:"keyframes",duration:.8},t9={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},n9=(t,{keyframes:e})=>e.length>2?e9:Vl.has(t)?t.startsWith("scale")?ZL(e[1]):JL:t9,i9=t=>t!==null;function s9(t,{repeat:e,repeatType:n="loop"},s){const a=t.filter(i9),l=e&&n!=="loop"&&e%2===1?0:a.length-1;return a[l]}function yv(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}function r9({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:a,repeat:l,repeatType:c,repeatDelay:f,from:m,elapsed:p,...v}){return!!Object.keys(v).length}const vv=(t,e,n,s={},a,l)=>c=>{const f=yv(s,t)||{},m=f.delay||s.delay||0;let{elapsed:p=0}=s;p=p-qs(m);const v={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...f,delay:-p,onUpdate:w=>{e.set(w),f.onUpdate&&f.onUpdate(w)},onComplete:()=>{c(),f.onComplete&&f.onComplete()},name:t,motionValue:e,element:l?void 0:a};r9(f)||Object.assign(v,n9(t,v)),v.duration&&(v.duration=qs(v.duration)),v.repeatDelay&&(v.repeatDelay=qs(v.repeatDelay)),v.from!==void 0&&(v.keyframes[0]=v.from);let _=!1;if((v.type===!1||v.duration===0&&!v.repeatDelay)&&(My(v),v.delay===0&&(_=!0)),(Xs.instantAnimations||Xs.skipAnimations)&&(_=!0,My(v),v.delay=0),v.allowFlatten=!f.type&&!f.ease,_&&!l&&e.get()!==void 0){const w=s9(v.keyframes,f);if(w!==void 0){et.update(()=>{v.onUpdate(w),v.onComplete()});return}}return f.isSync?new tm(v):new QL(v)};function dT(t){const e=[{},{}];return t==null||t.values.forEach((n,s)=>{e[0][s]=n.get(),e[1][s]=n.getVelocity()}),e}function _v(t,e,n,s){if(typeof e=="function"){const[a,l]=dT(s);e=e(n!==void 0?n:t.custom,a,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,l]=dT(s);e=e(n!==void 0?n:t.custom,a,l)}return e}function fl(t,e,n){const s=t.getProps();return _v(s,e,n!==void 0?n:s.custom,t)}const AR=new Set(["width","height","top","left","right","bottom",...Ml]),mT=30,a9=t=>!isNaN(parseFloat(t)),ac={current:void 0};class o9{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{var l;const a=Tn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&((l=this.events.change)==null||l.notify(this.current),this.dependents))for(const c of this.dependents)c.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Tn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=a9(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new sv);const s=this.events[e].add(n);return e==="change"?()=>{s(),et.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return ac.current&&ac.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=Tn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>mT)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,mT);return rv(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ii(t,e){return new o9(t,e)}const Vy=t=>Array.isArray(t);function l9(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Ii(n))}function u9(t){return Vy(t)?t[t.length-1]||0:t}function c9(t,e){const n=fl(t,e);let{transitionEnd:s={},transition:a={},...l}=n||{};l={...l,...s};for(const c in l){const f=u9(l[c]);l9(t,c,f)}}const sn=t=>!!(t&&t.getVelocity);function h9(t){return!!(sn(t)&&t.add)}function Oy(t,e){const n=t.getValue("willChange");if(h9(n))return n.add(e);if(!n&&Xs.WillChange){const s=new Xs.WillChange("auto");t.addValue("willChange",s),s.add(e)}}function bv(t){return t.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}const f9="framerAppearId",RR="data-"+bv(f9);function CR(t){return t.props[RR]}function d9({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function NR(t,e,{delay:n=0,transitionOverride:s,type:a}={}){let{transition:l=t.getDefaultTransition(),transitionEnd:c,...f}=e;s&&(l=s);const m=[],p=a&&t.animationState&&t.animationState.getState()[a];for(const v in f){const _=t.getValue(v,t.latestValues[v]??null),w=f[v];if(w===void 0||p&&d9(p,v))continue;const S={delay:n,...yv(l||{},v)},N=_.get();if(N!==void 0&&!_.isAnimating&&!Array.isArray(w)&&w===N&&!S.velocity)continue;let M=!1;if(window.MotionHandoffAnimation){const B=CR(t);if(B){const G=window.MotionHandoffAnimation(B,v,et);G!==null&&(S.startTime=G,M=!0)}}Oy(t,v),_.start(vv(v,_,w,t.shouldReduceMotion&&AR.has(v)?{type:!1}:S,t,M));const O=_.animation;O&&m.push(O)}return c&&Promise.all(m).then(()=>{et.update(()=>{c&&c9(t,c)})}),m}function jy(t,e,n={}){var m;const s=fl(t,e,n.type==="exit"?(m=t.presenceContext)==null?void 0:m.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(a=n.transitionOverride);const l=s?()=>Promise.all(NR(t,s,n)):()=>Promise.resolve(),c=t.variantChildren&&t.variantChildren.size?(p=0)=>{const{delayChildren:v=0,staggerChildren:_,staggerDirection:w}=a;return m9(t,e,p,v,_,w,n)}:()=>Promise.resolve(),{when:f}=a;if(f){const[p,v]=f==="beforeChildren"?[l,c]:[c,l];return p().then(()=>v())}else return Promise.all([l(),c(n.delay)])}function m9(t,e,n=0,s=0,a=0,l=1,c){const f=[];for(const m of t.variantChildren)m.notify("AnimationStart",e),f.push(jy(m,e,{...c,delay:n+(typeof s=="function"?0:s)+ER(t.variantChildren,m,s,a,l)}).then(()=>m.notify("AnimationComplete",e)));return Promise.all(f)}function p9(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const a=e.map(l=>jy(t,l,n));s=Promise.all(a)}else if(typeof e=="string")s=jy(t,e,n);else{const a=typeof e=="function"?fl(t,e,n.custom):e;s=Promise.all(NR(t,a,n))}return s.then(()=>{t.notify("AnimationComplete",e)})}const g9={test:t=>t==="auto",parse:t=>t},IR=t=>e=>e.test(t),DR=[kl,ge,ds,jr,$P,GP,g9],pT=t=>DR.find(IR(t));function y9(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||$A(t):!0}const v9=new Set(["brightness","contrast","saturate","opacity"]);function _9(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(uv)||[];if(!s)return t;const a=n.replace(s,"");let l=v9.has(e)?1:0;return s!==n&&(l*=100),e+"("+l+a+")"}const b9=/\b([a-z-]*)\(.*?\)/gu,Py={...sa,getAnimatableNone:t=>{const e=t.match(b9);return e?e.map(_9).join(" "):t}},gT={...kl,transform:Math.round},x9={rotate:jr,rotateX:jr,rotateY:jr,rotateZ:jr,scale:Df,scaleX:Df,scaleY:Df,scaleZ:Df,skew:jr,skewX:jr,skewY:jr,distance:ge,translateX:ge,translateY:ge,translateZ:ge,x:ge,y:ge,z:ge,perspective:ge,transformPerspective:ge,opacity:wc,originX:nT,originY:nT,originZ:ge},xv={borderWidth:ge,borderTopWidth:ge,borderRightWidth:ge,borderBottomWidth:ge,borderLeftWidth:ge,borderRadius:ge,radius:ge,borderTopLeftRadius:ge,borderTopRightRadius:ge,borderBottomRightRadius:ge,borderBottomLeftRadius:ge,width:ge,maxWidth:ge,height:ge,maxHeight:ge,top:ge,right:ge,bottom:ge,left:ge,inset:ge,insetBlock:ge,insetBlockStart:ge,insetBlockEnd:ge,insetInline:ge,insetInlineStart:ge,insetInlineEnd:ge,padding:ge,paddingTop:ge,paddingRight:ge,paddingBottom:ge,paddingLeft:ge,paddingBlock:ge,paddingBlockStart:ge,paddingBlockEnd:ge,paddingInline:ge,paddingInlineStart:ge,paddingInlineEnd:ge,margin:ge,marginTop:ge,marginRight:ge,marginBottom:ge,marginLeft:ge,marginBlock:ge,marginBlockStart:ge,marginBlockEnd:ge,marginInline:ge,marginInlineStart:ge,marginInlineEnd:ge,backgroundPositionX:ge,backgroundPositionY:ge,...x9,zIndex:gT,fillOpacity:wc,strokeOpacity:wc,numOctaves:gT},w9={...xv,color:Gt,backgroundColor:Gt,outlineColor:Gt,fill:Gt,stroke:Gt,borderColor:Gt,borderTopColor:Gt,borderRightColor:Gt,borderBottomColor:Gt,borderLeftColor:Gt,filter:Py,WebkitFilter:Py},kR=t=>w9[t];function MR(t,e){let n=kR(t);return n!==Py&&(n=sa),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const T9=new Set(["auto","none","0"]);function E9(t,e,n){let s=0,a;for(;s<t.length&&!a;){const l=t[s];typeof l=="string"&&!T9.has(l)&&Tc(l).values.length&&(a=t[s]),s++}if(a&&n)for(const l of e)t[l]=MR(n,a)}class S9 extends gv{constructor(e,n,s,a,l){super(e,n,s,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let v=0;v<e.length;v++){let _=e[v];if(typeof _=="string"&&(_=_.trim(),lv(_))){const w=SR(_,n.current);w!==void 0&&(e[v]=w),v===e.length-1&&(this.finalKeyframe=_)}}if(this.resolveNoneKeyframes(),!AR.has(s)||e.length!==2)return;const[a,l]=e,c=pT(a),f=pT(l),m=tT(a),p=tT(l);if(m!==p&&Hr[s]){this.needsMeasurement=!0;return}if(c!==f)if(cT(c)&&cT(f))for(let v=0;v<e.length;v++){const _=e[v];typeof _=="string"&&(e[v]=parseFloat(_))}else Hr[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,s=[];for(let a=0;a<e.length;a++)(e[a]===null||y9(e[a]))&&s.push(a);s.length&&E9(e,s,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Hr[s](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(s,a).jump(a,!1)}measureEndState(){var f;const{element:e,name:n,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=s.length-1,c=s[l];s[l]=Hr[n](e.measureViewportBox(),window.getComputedStyle(e.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),(f=this.removedTransforms)!=null&&f.length&&this.removedTransforms.forEach(([m,p])=>{e.getValue(m).set(p)}),this.resolveNoneKeyframes()}}function VR(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){const a=document.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}const OR=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function wv(t){return GA(t)&&"offsetHeight"in t}const{schedule:Tv}=iR(queueMicrotask,!1),Ci={x:!1,y:!1};function jR(){return Ci.x||Ci.y}function A9(t){return t==="x"||t==="y"?Ci[t]?null:(Ci[t]=!0,()=>{Ci[t]=!1}):Ci.x||Ci.y?null:(Ci.x=Ci.y=!0,()=>{Ci.x=Ci.y=!1})}function PR(t,e){const n=VR(t),s=new AbortController,a={passive:!0,...e,signal:s.signal};return[n,a,()=>s.abort()]}function yT(t){return!(t.pointerType==="touch"||jR())}function R9(t,e,n={}){const[s,a,l]=PR(t,n),c=f=>{if(!yT(f))return;const{target:m}=f,p=e(m,f);if(typeof p!="function"||!m)return;const v=_=>{yT(_)&&(p(_),m.removeEventListener("pointerleave",v))};m.addEventListener("pointerleave",v,a)};return s.forEach(f=>{f.addEventListener("pointerenter",c,a)}),l}const LR=(t,e)=>e?t===e?!0:LR(t,e.parentElement):!1,Ev=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,C9=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function UR(t){return C9.has(t.tagName)||t.isContentEditable===!0}const Qf=new WeakSet;function vT(t){return e=>{e.key==="Enter"&&t(e)}}function Mg(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const N9=(t,e)=>{const n=t.currentTarget;if(!n)return;const s=vT(()=>{if(Qf.has(n))return;Mg(n,"down");const a=vT(()=>{Mg(n,"up")}),l=()=>Mg(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",s,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),e)};function _T(t){return Ev(t)&&!jR()}function I9(t,e,n={}){const[s,a,l]=PR(t,n),c=f=>{const m=f.currentTarget;if(!_T(f))return;Qf.add(m);const p=e(m,f),v=(S,N)=>{window.removeEventListener("pointerup",_),window.removeEventListener("pointercancel",w),Qf.has(m)&&Qf.delete(m),_T(S)&&typeof p=="function"&&p(S,{success:N})},_=S=>{v(S,m===window||m===document||n.useGlobalTarget||LR(m,S.target))},w=S=>{v(S,!1)};window.addEventListener("pointerup",_,a),window.addEventListener("pointercancel",w,a)};return s.forEach(f=>{(n.useGlobalTarget?window:f).addEventListener("pointerdown",c,a),wv(f)&&(f.addEventListener("focus",p=>N9(p,a)),!UR(f)&&!f.hasAttribute("tabindex")&&(f.tabIndex=0))}),l}function Sv(t){return GA(t)&&"ownerSVGElement"in t}const Xf=new WeakMap;let Pr;const zR=(t,e,n)=>(s,a)=>a&&a[0]?a[0][t+"Size"]:Sv(s)&&"getBBox"in s?s.getBBox()[e]:s[n],D9=zR("inline","width","offsetWidth"),k9=zR("block","height","offsetHeight");function M9({target:t,borderBoxSize:e}){var n;(n=Xf.get(t))==null||n.forEach(s=>{s(t,{get width(){return D9(t,e)},get height(){return k9(t,e)}})})}function V9(t){t.forEach(M9)}function O9(){typeof ResizeObserver>"u"||(Pr=new ResizeObserver(V9))}function j9(t,e){Pr||O9();const n=VR(t);return n.forEach(s=>{let a=Xf.get(s);a||(a=new Set,Xf.set(s,a)),a.add(e),Pr==null||Pr.observe(s)}),()=>{n.forEach(s=>{const a=Xf.get(s);a==null||a.delete(e),a!=null&&a.size||Pr==null||Pr.unobserve(s)})}}const Wf=new Set;let el;function P9(){el=()=>{const t={get width(){return window.innerWidth},get height(){return window.innerHeight}};Wf.forEach(e=>e(t))},window.addEventListener("resize",el)}function L9(t){return Wf.add(t),el||P9(),()=>{Wf.delete(t),!Wf.size&&typeof el=="function"&&(window.removeEventListener("resize",el),el=void 0)}}function U9(t,e){return typeof t=="function"?L9(t):j9(t,e)}function BR(t,e){let n;const s=()=>{const{currentTime:a}=e,c=(a===null?0:a.value)/100;n!==c&&t(c),n=c};return et.preUpdate(s,!0),()=>ji(s)}function z9(t){return Sv(t)&&t.tagName==="svg"}function B9(...t){const e=!Array.isArray(t[0]),n=e?0:-1,s=t[0+n],a=t[1+n],l=t[2+n],c=t[3+n],f=dv(a,l,c);return e?f(s):f}function F9(t,e,n){const s=t.get();let a=null,l=s,c;const f=typeof s=="string"?s.replace(/[\d.-]/g,""):void 0,m=()=>{a&&(a.stop(),a=null)},p=()=>{m(),a=new tm({keyframes:[xT(t.get()),xT(l)],velocity:t.getVelocity(),type:"spring",restDelta:.001,restSpeed:.01,...n,onUpdate:c})};if(t.attach((v,_)=>{l=v,c=w=>_(bT(w,f)),et.postRender(()=>{var w;p(),(w=t.events.animationStart)==null||w.notify(),a==null||a.then(()=>{var S;(S=t.events.animationComplete)==null||S.notify()})})},m),sn(e)){const v=e.on("change",w=>t.set(bT(w,f))),_=t.on("destroy",v);return()=>{v(),_()}}return m}function bT(t,e){return e?t+e:t}function xT(t){return typeof t=="number"?t:parseFloat(t)}const H9=[...DR,Gt,sa],q9=t=>H9.find(IR(t)),wT=()=>({translate:0,scale:1,origin:0,originPoint:0}),tl=()=>({x:wT(),y:wT()}),TT=()=>({min:0,max:0}),Qt=()=>({x:TT(),y:TT()}),Ly={current:null},FR={current:!1},G9=typeof window<"u";function $9(){if(FR.current=!0,!!G9)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Ly.current=t.matches;t.addEventListener("change",e),e()}else Ly.current=!1}const K9=new WeakMap;function nm(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Ec(t){return typeof t=="string"||Array.isArray(t)}const Av=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Rv=["initial",...Av];function im(t){return nm(t.animate)||Rv.some(e=>Ec(t[e]))}function HR(t){return!!(im(t)||t.variants)}function Y9(t,e,n){for(const s in e){const a=e[s],l=n[s];if(sn(a))t.addValue(s,a);else if(sn(l))t.addValue(s,Ii(a,{owner:t}));else if(l!==a)if(t.hasValue(s)){const c=t.getValue(s);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=t.getStaticValue(s);t.addValue(s,Ii(c!==void 0?c:a,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const ET=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let Ed={};function qR(t){Ed=t}function Q9(){return Ed}class X9{scrapeMotionValuesFromProps(e,n,s){return{}}constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:a,blockInitialAnimation:l,visualState:c},f={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=gv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const w=Tn.now();this.renderScheduledAt<w&&(this.renderScheduledAt=w,et.render(this.render,!1,!0))};const{latestValues:m,renderState:p}=c;this.latestValues=m,this.baseTarget={...m},this.initialValues=n.initial?{...m}:{},this.renderState=p,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=f,this.blockInitialAnimation=!!l,this.isControllingVariants=im(n),this.isVariantNode=HR(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:v,..._}=this.scrapeMotionValuesFromProps(n,{},this);for(const w in _){const S=_[w];m[w]!==void 0&&sn(S)&&S.set(m[w])}}mount(e){var n;this.current=e,K9.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,a)=>this.bindToMotionValue(a,s)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(FR.current||$9(),this.shouldReduceMotion=Ly.current),(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),ji(this.notifyUpdate),ji(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const s=this.features[n];s&&(s.unmount(),s.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=Vl.has(e);s&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&et.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;typeof window<"u"&&window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Ed){const n=Ed[e];if(!n)continue;const{isEnabled:s,Feature:a}=n;if(!this.features[e]&&a&&s(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Qt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<ET.length;s++){const a=ET[s];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,c=e[l];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=Y9(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const s=this.values.get(e);n!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=Ii(n===null?void 0:n,{owner:this}),this.addValue(e,s)),s}readValue(e,n){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(qA(s)||$A(s))?s=parseFloat(s):!q9(s)&&sa.test(n)&&(s=MR(e,n)),this.setBaseTarget(e,sn(s)?s.get():s)),sn(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var l;const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const c=_v(this.props,n,(l=this.presenceContext)==null?void 0:l.custom);c&&(s=c[e])}if(n&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!sn(a)?a:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new sv),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){Tv.render(this.render)}}class GR extends X9{constructor(){super(...arguments),this.KeyframeResolver=S9}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){const s=e.style;return s?s[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;sn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class la{constructor(e){this.isMounted=!1,this.node=e}update(){}}function $R({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function W9({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function J9(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function Vg(t){return t===void 0||t===1}function Uy({scale:t,scaleX:e,scaleY:n}){return!Vg(t)||!Vg(e)||!Vg(n)}function Ua(t){return Uy(t)||KR(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function KR(t){return ST(t.x)||ST(t.y)}function ST(t){return t&&t!=="0%"}function Sd(t,e,n){const s=t-n,a=e*s;return n+a}function AT(t,e,n,s,a){return a!==void 0&&(t=Sd(t,a,s)),Sd(t,n,s)+e}function zy(t,e=0,n=1,s,a){t.min=AT(t.min,e,n,s,a),t.max=AT(t.max,e,n,s,a)}function YR(t,{x:e,y:n}){zy(t.x,e.translate,e.scale,e.originPoint),zy(t.y,n.translate,n.scale,n.originPoint)}const RT=.999999999999,CT=1.0000000000001;function Z9(t,e,n,s=!1){const a=n.length;if(!a)return;e.x=e.y=1;let l,c;for(let f=0;f<a;f++){l=n[f],c=l.projectionDelta;const{visualElement:m}=l.options;m&&m.props.style&&m.props.style.display==="contents"||(s&&l.options.layoutScroll&&l.scroll&&l!==l.root&&il(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,YR(t,c)),s&&Ua(l.latestValues)&&il(t,l.latestValues))}e.x<CT&&e.x>RT&&(e.x=1),e.y<CT&&e.y>RT&&(e.y=1)}function nl(t,e){t.min=t.min+e,t.max=t.max+e}function NT(t,e,n,s,a=.5){const l=bt(t.min,t.max,a);zy(t,e,n,l,s)}function il(t,e){NT(t.x,e.x,e.scaleX,e.scale,e.originX),NT(t.y,e.y,e.scaleY,e.scale,e.originY)}function QR(t,e){return $R(J9(t.getBoundingClientRect(),e))}function eU(t,e,n){const s=QR(t,n),{scroll:a}=e;return a&&(nl(s.x,a.offset.x),nl(s.y,a.offset.y)),s}const tU={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},nU=Ml.length;function iU(t,e,n){let s="",a=!0;for(let l=0;l<nU;l++){const c=Ml[l],f=t[c];if(f===void 0)continue;let m=!0;if(typeof f=="number"?m=f===(c.startsWith("scale")?1:0):m=parseFloat(f)===0,!m||n){const p=OR(f,xv[c]);if(!m){a=!1;const v=tU[c]||c;s+=`${v}(${p}) `}n&&(e[c]=p)}}return s=s.trim(),n?s=n(e,a?"":s):a&&(s="none"),s}function Cv(t,e,n){const{style:s,vars:a,transformOrigin:l}=t;let c=!1,f=!1;for(const m in e){const p=e[m];if(Vl.has(m)){c=!0;continue}else if(rR(m)){a[m]=p;continue}else{const v=OR(p,xv[m]);m.startsWith("origin")?(f=!0,l[m]=v):s[m]=v}}if(e.transform||(c||n?s.transform=iU(e,t.transform,n):s.transform&&(s.transform="none")),f){const{originX:m="50%",originY:p="50%",originZ:v=0}=l;s.transformOrigin=`${m} ${p} ${v}`}}function XR(t,{style:e,vars:n},s,a){const l=t.style;let c;for(c in e)l[c]=e[c];a==null||a.applyProjectionStyles(l,s);for(c in n)l.setProperty(c,n[c])}function IT(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Hu={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(ge.test(t))t=parseFloat(t);else return t;const n=IT(t,e.target.x),s=IT(t,e.target.y);return`${n}% ${s}%`}},sU={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,a=sa.parse(t);if(a.length>5)return s;const l=sa.createTransformer(t),c=typeof a[0]!="number"?1:0,f=n.x.scale*e.x,m=n.y.scale*e.y;a[0+c]/=f,a[1+c]/=m;const p=bt(f,m,.5);return typeof a[2+c]=="number"&&(a[2+c]/=p),typeof a[3+c]=="number"&&(a[3+c]/=p),l(a)}},By={borderRadius:{...Hu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Hu,borderTopRightRadius:Hu,borderBottomLeftRadius:Hu,borderBottomRightRadius:Hu,boxShadow:sU};function WR(t,{layout:e,layoutId:n}){return Vl.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!By[t]||t==="opacity")}function Nv(t,e,n){var c;const s=t.style,a=e==null?void 0:e.style,l={};if(!s)return l;for(const f in s)(sn(s[f])||a&&sn(a[f])||WR(f,t)||((c=n==null?void 0:n.getValue(f))==null?void 0:c.liveStyle)!==void 0)&&(l[f]=s[f]);return l}function rU(t){return window.getComputedStyle(t)}class aU extends GR{constructor(){super(...arguments),this.type="html",this.renderInstance=XR}readValueFromInstance(e,n){var s;if(Vl.has(n))return(s=this.projection)!=null&&s.isProjecting?Cy(n):RL(e,n);{const a=rU(e),l=(rR(n)?a.getPropertyValue(n):a[n])||0;return typeof l=="string"?l.trim():l}}measureInstanceViewportBox(e,{transformPagePoint:n}){return QR(e,n)}build(e,n,s){Cv(e,n,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,s){return Nv(e,n,s)}}const oU={offset:"stroke-dashoffset",array:"stroke-dasharray"},lU={offset:"strokeDashoffset",array:"strokeDasharray"};function uU(t,e,n=1,s=0,a=!0){t.pathLength=1;const l=a?oU:lU;t[l.offset]=ge.transform(-s);const c=ge.transform(e),f=ge.transform(n);t[l.array]=`${c} ${f}`}const cU=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function JR(t,{attrX:e,attrY:n,attrScale:s,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...f},m,p,v){if(Cv(t,f,p),m){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:_,style:w}=t;_.transform&&(w.transform=_.transform,delete _.transform),(w.transform||_.transformOrigin)&&(w.transformOrigin=_.transformOrigin??"50% 50%",delete _.transformOrigin),w.transform&&(w.transformBox=(v==null?void 0:v.transformBox)??"fill-box",delete _.transformBox);for(const S of cU)_[S]!==void 0&&(w[S]=_[S],delete _[S]);e!==void 0&&(_.x=e),n!==void 0&&(_.y=n),s!==void 0&&(_.scale=s),a!==void 0&&uU(_,a,l,c,!1)}const ZR=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),eC=t=>typeof t=="string"&&t.toLowerCase()==="svg";function hU(t,e,n,s){XR(t,e,void 0,s);for(const a in e.attrs)t.setAttribute(ZR.has(a)?a:bv(a),e.attrs[a])}function tC(t,e,n){const s=Nv(t,e,n);for(const a in t)if(sn(t[a])||sn(e[a])){const l=Ml.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[l]=t[a]}return s}class fU extends GR{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Qt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Vl.has(n)){const s=kR(n);return s&&s.default||0}return n=ZR.has(n)?n:bv(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,s){return tC(e,n,s)}build(e,n,s){JR(e,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,n,s,a){hU(e,n,s,a)}mount(e){this.isSVGTag=eC(e.tagName),super.mount(e)}}const dU=Rv.length;function nC(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?nC(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<dU;n++){const s=Rv[n],a=t.props[s];(Ec(a)||a===!1)&&(e[s]=a)}return e}function iC(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}const mU=[...Av].reverse(),pU=Av.length;function gU(t){return e=>Promise.all(e.map(({animation:n,options:s})=>p9(t,n,s)))}function yU(t){let e=gU(t),n=DT(),s=!0;const a=m=>(p,v)=>{var w;const _=fl(t,v,m==="exit"?(w=t.presenceContext)==null?void 0:w.custom:void 0);if(_){const{transition:S,transitionEnd:N,...M}=_;p={...p,...M,...N}}return p};function l(m){e=m(t)}function c(m){const{props:p}=t,v=nC(t.parent)||{},_=[],w=new Set;let S={},N=1/0;for(let O=0;O<pU;O++){const B=mU[O],G=n[B],F=p[B]!==void 0?p[B]:v[B],oe=Ec(F),re=B===m?G.isActive:null;re===!1&&(N=O);let ce=F===v[B]&&F!==p[B]&&oe;if(ce&&s&&t.manuallyAnimateOnMount&&(ce=!1),G.protectedKeys={...S},!G.isActive&&re===null||!F&&!G.prevProp||nm(F)||typeof F=="boolean")continue;const C=vU(G.prevProp,F);let A=C||B===m&&G.isActive&&!ce&&oe||O>N&&oe,I=!1;const P=Array.isArray(F)?F:[F];let k=P.reduce(a(B),{});re===!1&&(k={});const{prevResolvedValues:z={}}=G,V={...z,...k},Qe=ae=>{A=!0,w.has(ae)&&(I=!0,w.delete(ae)),G.needsAnimating[ae]=!0;const de=t.getValue(ae);de&&(de.liveStyle=!1)};for(const ae in V){const de=k[ae],Te=z[ae];if(S.hasOwnProperty(ae))continue;let Pe=!1;Vy(de)&&Vy(Te)?Pe=!iC(de,Te):Pe=de!==Te,Pe?de!=null?Qe(ae):w.add(ae):de!==void 0&&w.has(ae)?Qe(ae):G.protectedKeys[ae]=!0}G.prevProp=F,G.prevResolvedValues=k,G.isActive&&(S={...S,...k}),s&&t.blockInitialAnimation&&(A=!1);const ut=ce&&C;A&&(!ut||I)&&_.push(...P.map(ae=>{const de={type:B};if(typeof ae=="string"&&s&&!ut&&t.manuallyAnimateOnMount&&t.parent){const{parent:Te}=t,Pe=fl(Te,ae);if(Te.enteringChildren&&Pe){const{delayChildren:L}=Pe.transition||{};de.delay=ER(Te.enteringChildren,t,L)}}return{animation:ae,options:de}}))}if(w.size){const O={};if(typeof p.initial!="boolean"){const B=fl(t,Array.isArray(p.initial)?p.initial[0]:p.initial);B&&B.transition&&(O.transition=B.transition)}w.forEach(B=>{const G=t.getBaseTarget(B),F=t.getValue(B);F&&(F.liveStyle=!0),O[B]=G??null}),_.push({animation:O})}let M=!!_.length;return s&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(M=!1),s=!1,M?e(_):Promise.resolve()}function f(m,p){var _;if(n[m].isActive===p)return Promise.resolve();(_=t.variantChildren)==null||_.forEach(w=>{var S;return(S=w.animationState)==null?void 0:S.setActive(m,p)}),n[m].isActive=p;const v=c(m);for(const w in n)n[w].protectedKeys={};return v}return{animateChanges:c,setActive:f,setAnimateFunction:l,getState:()=>n,reset:()=>{n=DT()}}}function vU(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!iC(e,t):!1}function Pa(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function DT(){return{animate:Pa(!0),whileInView:Pa(),whileHover:Pa(),whileTap:Pa(),whileDrag:Pa(),whileFocus:Pa(),exit:Pa()}}function kT(t,e){t.min=e.min,t.max=e.max}function Ri(t,e){kT(t.x,e.x),kT(t.y,e.y)}function MT(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}const sC=1e-4,_U=1-sC,bU=1+sC,rC=.01,xU=0-rC,wU=0+rC;function En(t){return t.max-t.min}function TU(t,e,n){return Math.abs(t-e)<=n}function VT(t,e,n,s=.5){t.origin=s,t.originPoint=bt(e.min,e.max,t.origin),t.scale=En(n)/En(e),t.translate=bt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=_U&&t.scale<=bU||isNaN(t.scale))&&(t.scale=1),(t.translate>=xU&&t.translate<=wU||isNaN(t.translate))&&(t.translate=0)}function oc(t,e,n,s){VT(t.x,e.x,n.x,s?s.originX:void 0),VT(t.y,e.y,n.y,s?s.originY:void 0)}function OT(t,e,n){t.min=n.min+e.min,t.max=t.min+En(e)}function EU(t,e,n){OT(t.x,e.x,n.x),OT(t.y,e.y,n.y)}function jT(t,e,n){t.min=e.min-n.min,t.max=t.min+En(e)}function Ad(t,e,n){jT(t.x,e.x,n.x),jT(t.y,e.y,n.y)}function PT(t,e,n,s,a){return t-=e,t=Sd(t,1/n,s),a!==void 0&&(t=Sd(t,1/a,s)),t}function SU(t,e=0,n=1,s=.5,a,l=t,c=t){if(ds.test(e)&&(e=parseFloat(e),e=bt(c.min,c.max,e/100)-c.min),typeof e!="number")return;let f=bt(l.min,l.max,s);t===l&&(f-=e),t.min=PT(t.min,e,n,f,a),t.max=PT(t.max,e,n,f,a)}function LT(t,e,[n,s,a],l,c){SU(t,e[n],e[s],e[a],e.scale,l,c)}const AU=["x","scaleX","originX"],RU=["y","scaleY","originY"];function UT(t,e,n,s){LT(t.x,e,AU,n?n.x:void 0,s?s.x:void 0),LT(t.y,e,RU,n?n.y:void 0,s?s.y:void 0)}function zT(t){return t.translate===0&&t.scale===1}function aC(t){return zT(t.x)&&zT(t.y)}function BT(t,e){return t.min===e.min&&t.max===e.max}function CU(t,e){return BT(t.x,e.x)&&BT(t.y,e.y)}function FT(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function oC(t,e){return FT(t.x,e.x)&&FT(t.y,e.y)}function HT(t){return En(t.x)/En(t.y)}function qT(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}function ui(t){return[t("x"),t("y")]}function NU(t,e,n){let s="";const a=t.x.translate/e.x,l=t.y.translate/e.y,c=(n==null?void 0:n.z)||0;if((a||l||c)&&(s=`translate3d(${a}px, ${l}px, ${c}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:v,rotateX:_,rotateY:w,skewX:S,skewY:N}=n;p&&(s=`perspective(${p}px) ${s}`),v&&(s+=`rotate(${v}deg) `),_&&(s+=`rotateX(${_}deg) `),w&&(s+=`rotateY(${w}deg) `),S&&(s+=`skewX(${S}deg) `),N&&(s+=`skewY(${N}deg) `)}const f=t.x.scale*e.x,m=t.y.scale*e.y;return(f!==1||m!==1)&&(s+=`scale(${f}, ${m})`),s||"none"}const lC=["TopLeft","TopRight","BottomLeft","BottomRight"],IU=lC.length,GT=t=>typeof t=="string"?parseFloat(t):t,$T=t=>typeof t=="number"||ge.test(t);function DU(t,e,n,s,a,l){a?(t.opacity=bt(0,n.opacity??1,kU(s)),t.opacityExit=bt(e.opacity??1,0,MU(s))):l&&(t.opacity=bt(e.opacity??1,n.opacity??1,s));for(let c=0;c<IU;c++){const f=`border${lC[c]}Radius`;let m=KT(e,f),p=KT(n,f);if(m===void 0&&p===void 0)continue;m||(m=0),p||(p=0),m===0||p===0||$T(m)===$T(p)?(t[f]=Math.max(bt(GT(m),GT(p),s),0),(ds.test(p)||ds.test(m))&&(t[f]+="%")):t[f]=p}(e.rotate||n.rotate)&&(t.rotate=bt(e.rotate||0,n.rotate||0,s))}function KT(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const kU=uC(0,.5,ZA),MU=uC(.5,.95,Vn);function uC(t,e,n){return s=>s<t?0:s>e?1:n(Tl(t,e,s))}function VU(t,e,n){const s=sn(t)?t:Ii(t);return s.start(vv("",s,e,n)),s.animation}function Sc(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}const OU=(t,e)=>t.depth-e.depth;class jU{constructor(){this.children=[],this.isDirty=!1}add(e){tv(this.children,e),this.isDirty=!0}remove(e){nv(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(OU),this.isDirty=!1,this.children.forEach(e)}}function PU(t,e){const n=Tn.now(),s=({timestamp:a})=>{const l=a-n;l>=e&&(ji(s),t(l-e))};return et.setup(s,!0),()=>ji(s)}function Jf(t){return sn(t)?t.get():t}class LU{constructor(){this.members=[]}add(e){tv(this.members,e),e.scheduleRender()}remove(e){if(nv(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let s;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){s=l;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Zf={hasAnimatedSinceResize:!0,hasEverUpdated:!1},Og=["","X","Y","Z"],UU=1e3;let zU=0;function jg(t,e,n,s){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),s&&(s[t]=0))}function cC(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=CR(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",et,!(a||l))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&cC(s)}function hC({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(c={},f=e==null?void 0:e()){this.id=zU++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(HU),this.nodes.forEach(KU),this.nodes.forEach(YU),this.nodes.forEach(qU)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=f?f.root||f:this,this.path=f?[...f.path,f]:[],this.parent=f,this.depth=f?f.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new jU)}addEventListener(c,f){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new sv),this.eventHandlers.get(c).add(f)}notifyListeners(c,...f){const m=this.eventHandlers.get(c);m&&m.notify(...f)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=Sv(c)&&!z9(c),this.instance=c;const{layoutId:f,layout:m,visualElement:p}=this.options;if(p&&!p.current&&p.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||f)&&(this.isLayoutDirty=!0),t){let v,_=0;const w=()=>this.root.updateBlockedByResize=!1;et.read(()=>{_=window.innerWidth}),t(c,()=>{const S=window.innerWidth;S!==_&&(_=S,this.root.updateBlockedByResize=!0,v&&v(),v=PU(w,250),Zf.hasAnimatedSinceResize&&(Zf.hasAnimatedSinceResize=!1,this.nodes.forEach(XT)))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&p&&(f||m)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:_,hasRelativeLayoutChanged:w,layout:S})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const N=this.options.transition||p.getDefaultTransition()||ZU,{onLayoutAnimationStart:M,onLayoutAnimationComplete:O}=p.getProps(),B=!this.targetLayout||!oC(this.targetLayout,S),G=!_&&w;if(this.options.layoutRoot||this.resumeFrom||G||_&&(B||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const F={...yv(N,"layout"),onPlay:M,onComplete:O};(p.shouldReduceMotion||this.options.layoutRoot)&&(F.delay=0,F.type=!1),this.startAnimation(F),this.setAnimationOrigin(v,G)}else _||XT(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=S})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ji(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(QU),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&cC(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let v=0;v<this.path.length;v++){const _=this.path[v];_.shouldResetTransform=!0,_.updateScroll("snapshot"),_.options.layoutRoot&&_.willUpdate(!1)}const{layoutId:f,layout:m}=this.options;if(f===void 0&&!m)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(YT);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(QT);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach($U),this.nodes.forEach(BU),this.nodes.forEach(FU)):this.nodes.forEach(QT),this.clearAllSnapshots();const f=Tn.now();tn.delta=Oi(0,1e3/60,f-tn.timestamp),tn.timestamp=f,tn.isProcessing=!0,Rg.update.process(tn),Rg.preRender.process(tn),Rg.render.process(tn),tn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Tv.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(GU),this.sharedNodes.forEach(XU)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,et.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){et.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!En(this.snapshot.measuredBox.x)&&!En(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Qt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:f}=this.options;f&&f.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let f=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(f=!1),f&&this.instance){const m=s(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:m,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,f=this.projectionDelta&&!aC(this.projectionDelta),m=this.getTransformTemplate(),p=m?m(this.latestValues,""):void 0,v=p!==this.prevTransformTemplateValue;c&&this.instance&&(f||Ua(this.latestValues)||v)&&(a(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const f=this.measurePageBox();let m=this.removeElementScroll(f);return c&&(m=this.removeTransform(m)),e8(m),{animationId:this.root.animationId,measuredBox:f,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){var p;const{visualElement:c}=this.options;if(!c)return Qt();const f=c.measureViewportBox();if(!(((p=this.scroll)==null?void 0:p.wasRoot)||this.path.some(t8))){const{scroll:v}=this.root;v&&(nl(f.x,v.offset.x),nl(f.y,v.offset.y))}return f}removeElementScroll(c){var m;const f=Qt();if(Ri(f,c),(m=this.scroll)!=null&&m.wasRoot)return f;for(let p=0;p<this.path.length;p++){const v=this.path[p],{scroll:_,options:w}=v;v!==this.root&&_&&w.layoutScroll&&(_.wasRoot&&Ri(f,c),nl(f.x,_.offset.x),nl(f.y,_.offset.y))}return f}applyTransform(c,f=!1){const m=Qt();Ri(m,c);for(let p=0;p<this.path.length;p++){const v=this.path[p];!f&&v.options.layoutScroll&&v.scroll&&v!==v.root&&il(m,{x:-v.scroll.offset.x,y:-v.scroll.offset.y}),Ua(v.latestValues)&&il(m,v.latestValues)}return Ua(this.latestValues)&&il(m,this.latestValues),m}removeTransform(c){const f=Qt();Ri(f,c);for(let m=0;m<this.path.length;m++){const p=this.path[m];if(!p.instance||!Ua(p.latestValues))continue;Uy(p.latestValues)&&p.updateSnapshot();const v=Qt(),_=p.measurePageBox();Ri(v,_),UT(f,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,v)}return Ua(this.latestValues)&&UT(f,this.latestValues),f}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==tn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var S;const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==f;if(!(c||m&&this.isSharedProjectionDirty||this.isProjectionDirty||(S=this.parent)!=null&&S.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:v,layoutId:_}=this.options;if(!this.layout||!(v||_))return;this.resolvedRelativeTargetAt=tn.timestamp;const w=this.getClosestProjectingParent();w&&this.linkedParentVersion!==w.layoutVersion&&!w.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(w&&w.layout?this.createRelativeTarget(w,this.layout.layoutBox,w.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Qt(),this.targetWithTransforms=Qt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),EU(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ri(this.target,this.layout.layoutBox),YR(this.target,this.targetDelta)):Ri(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,w&&!!w.resumingFrom==!!this.resumingFrom&&!w.options.layoutScroll&&w.target&&this.animationProgress!==1?this.createRelativeTarget(w,this.target,w.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Uy(this.parent.latestValues)||KR(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(c,f,m){this.relativeParent=c,this.linkedParentVersion=c.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Qt(),this.relativeTargetOrigin=Qt(),Ad(this.relativeTargetOrigin,f,m),Ri(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var N;const c=this.getLead(),f=!!this.resumingFrom||this!==c;let m=!0;if((this.isProjectionDirty||(N=this.parent)!=null&&N.isProjectionDirty)&&(m=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===tn.timestamp&&(m=!1),m)return;const{layout:p,layoutId:v}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||v))return;Ri(this.layoutCorrected,this.layout.layoutBox);const _=this.treeScale.x,w=this.treeScale.y;Z9(this.layoutCorrected,this.treeScale,this.path,f),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Qt());const{target:S}=c;if(!S){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(MT(this.prevProjectionDelta.x,this.projectionDelta.x),MT(this.prevProjectionDelta.y,this.projectionDelta.y)),oc(this.projectionDelta,this.layoutCorrected,S,this.latestValues),(this.treeScale.x!==_||this.treeScale.y!==w||!qT(this.projectionDelta.x,this.prevProjectionDelta.x)||!qT(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",S))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var f;if((f=this.options.visualElement)==null||f.scheduleRender(),c){const m=this.getStack();m&&m.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=tl(),this.projectionDelta=tl(),this.projectionDeltaWithTransform=tl()}setAnimationOrigin(c,f=!1){const m=this.snapshot,p=m?m.latestValues:{},v={...this.latestValues},_=tl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!f;const w=Qt(),S=m?m.source:void 0,N=this.layout?this.layout.source:void 0,M=S!==N,O=this.getStack(),B=!O||O.members.length<=1,G=!!(M&&!B&&this.options.crossfade===!0&&!this.path.some(JU));this.animationProgress=0;let F;this.mixTargetDelta=oe=>{const re=oe/1e3;WT(_.x,c.x,re),WT(_.y,c.y,re),this.setTargetDelta(_),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ad(w,this.layout.layoutBox,this.relativeParent.layout.layoutBox),WU(this.relativeTarget,this.relativeTargetOrigin,w,re),F&&CU(this.relativeTarget,F)&&(this.isProjectionDirty=!1),F||(F=Qt()),Ri(F,this.relativeTarget)),M&&(this.animationValues=v,DU(v,p,this.latestValues,re,G,B)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=re},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){var f,m,p;this.notifyListeners("animationStart"),(f=this.currentAnimation)==null||f.stop(),(p=(m=this.resumingFrom)==null?void 0:m.currentAnimation)==null||p.stop(),this.pendingAnimation&&(ji(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=et.update(()=>{Zf.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Ii(0)),this.currentAnimation=VU(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:v=>{this.mixTargetDelta(v),c.onUpdate&&c.onUpdate(v)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(UU),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:f,target:m,layout:p,latestValues:v}=c;if(!(!f||!m||!p)){if(this!==c&&this.layout&&p&&fC(this.options.animationType,this.layout.layoutBox,p.layoutBox)){m=this.target||Qt();const _=En(this.layout.layoutBox.x);m.x.min=c.target.x.min,m.x.max=m.x.min+_;const w=En(this.layout.layoutBox.y);m.y.min=c.target.y.min,m.y.max=m.y.min+w}Ri(f,m),il(f,v),oc(this.projectionDeltaWithTransform,this.layoutCorrected,f,v)}}registerSharedNode(c,f){this.sharedNodes.has(c)||this.sharedNodes.set(c,new LU),this.sharedNodes.get(c).add(f);const p=f.options.initialPromotionConfig;f.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(f):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var f;const{layoutId:c}=this.options;return c?((f=this.getStack())==null?void 0:f.lead)||this:this}getPrevLead(){var f;const{layoutId:c}=this.options;return c?(f=this.getStack())==null?void 0:f.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:f,preserveFollowOpacity:m}={}){const p=this.getStack();p&&p.promote(this,m),c&&(this.projectionDelta=void 0,this.needsReset=!0),f&&this.setOptions({transition:f})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let f=!1;const{latestValues:m}=c;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(f=!0),!f)return;const p={};m.z&&jg("z",c,p,this.animationValues);for(let v=0;v<Og.length;v++)jg(`rotate${Og[v]}`,c,p,this.animationValues),jg(`skew${Og[v]}`,c,p,this.animationValues);c.render();for(const v in p)c.setStaticValue(v,p[v]),this.animationValues&&(this.animationValues[v]=p[v]);c.scheduleRender()}applyProjectionStyles(c,f){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const m=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=Jf(f==null?void 0:f.pointerEvents)||"",c.transform=m?m(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=Jf(f==null?void 0:f.pointerEvents)||""),this.hasProjected&&!Ua(this.latestValues)&&(c.transform=m?m({},""):"none",this.hasProjected=!1);return}c.visibility="";const v=p.animationValues||p.latestValues;this.applyTransformsToTarget();let _=NU(this.projectionDeltaWithTransform,this.treeScale,v);m&&(_=m(v,_)),c.transform=_;const{x:w,y:S}=this.projectionDelta;c.transformOrigin=`${w.origin*100}% ${S.origin*100}% 0`,p.animationValues?c.opacity=p===this?v.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:c.opacity=p===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const N in By){if(v[N]===void 0)continue;const{correct:M,applyTo:O,isCSSVariable:B}=By[N],G=_==="none"?v[N]:M(v[N],p);if(O){const F=O.length;for(let oe=0;oe<F;oe++)c[O[oe]]=G}else B?this.options.visualElement.renderState.vars[N]=G:c[N]=G}this.options.layoutId&&(c.pointerEvents=p===this?Jf(f==null?void 0:f.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var f;return(f=c.currentAnimation)==null?void 0:f.stop()}),this.root.nodes.forEach(YT),this.root.sharedNodes.clear()}}}function BU(t){t.updateLayout()}function FU(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:a}=t.layout,{animationType:l}=t.options,c=e.source!==t.layout.source;l==="size"?ui(_=>{const w=c?e.measuredBox[_]:e.layoutBox[_],S=En(w);w.min=s[_].min,w.max=w.min+S}):fC(l,e.layoutBox,s)&&ui(_=>{const w=c?e.measuredBox[_]:e.layoutBox[_],S=En(s[_]);w.max=w.min+S,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[_].max=t.relativeTarget[_].min+S)});const f=tl();oc(f,s,e.layoutBox);const m=tl();c?oc(m,t.applyTransform(a,!0),e.measuredBox):oc(m,s,e.layoutBox);const p=!aC(f);let v=!1;if(!t.resumeFrom){const _=t.getClosestProjectingParent();if(_&&!_.resumeFrom){const{snapshot:w,layout:S}=_;if(w&&S){const N=Qt();Ad(N,e.layoutBox,w.layoutBox);const M=Qt();Ad(M,s,S.layoutBox),oC(N,M)||(v=!0),_.options.layoutRoot&&(t.relativeTarget=M,t.relativeTargetOrigin=N,t.relativeParent=_)}}}t.notifyListeners("didUpdate",{layout:s,snapshot:e,delta:m,layoutDelta:f,hasLayoutChanged:p,hasRelativeLayoutChanged:v})}else if(t.isLead()){const{onExitComplete:s}=t.options;s&&s()}t.options.transition=void 0}function HU(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function qU(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function GU(t){t.clearSnapshot()}function YT(t){t.clearMeasurements()}function QT(t){t.isLayoutDirty=!1}function $U(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function XT(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function KU(t){t.resolveTargetDelta()}function YU(t){t.calcProjection()}function QU(t){t.resetSkewAndRotation()}function XU(t){t.removeLeadSnapshot()}function WT(t,e,n){t.translate=bt(e.translate,0,n),t.scale=bt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function JT(t,e,n,s){t.min=bt(e.min,n.min,s),t.max=bt(e.max,n.max,s)}function WU(t,e,n,s){JT(t.x,e.x,n.x,s),JT(t.y,e.y,n.y,s)}function JU(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const ZU={duration:.45,ease:[.4,0,.1,1]},ZT=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),eE=ZT("applewebkit/")&&!ZT("chrome/")?Math.round:Vn;function tE(t){t.min=eE(t.min),t.max=eE(t.max)}function e8(t){tE(t.x),tE(t.y)}function fC(t,e,n){return t==="position"||t==="preserve-aspect"&&!TU(HT(e),HT(n),.2)}function t8(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const n8=hC({attachResizeListener:(t,e)=>Sc(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Pg={current:void 0},dC=hC({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Pg.current){const t=new n8({});t.mount(window),t.setOptions({layoutScroll:!0}),Pg.current=t}return Pg.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),qc=D.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function nE(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function i8(...t){return e=>{let n=!1;const s=t.map(a=>{const l=nE(a,e);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let a=0;a<s.length;a++){const l=s[a];typeof l=="function"?l():nE(t[a],null)}}}}function s8(...t){return D.useCallback(i8(...t),t)}class r8 extends D.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const s=n.offsetParent,a=wv(s)&&s.offsetWidth||0,l=this.props.sizeRef.current;l.height=n.offsetHeight||0,l.width=n.offsetWidth||0,l.top=n.offsetTop,l.left=n.offsetLeft,l.right=a-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function a8({children:t,isPresent:e,anchorX:n,root:s}){var v;const a=D.useId(),l=D.useRef(null),c=D.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:f}=D.useContext(qc),m=((v=t.props)==null?void 0:v.ref)??(t==null?void 0:t.ref),p=s8(l,m);return D.useInsertionEffect(()=>{const{width:_,height:w,top:S,left:N,right:M}=c.current;if(e||!l.current||!_||!w)return;const O=n==="left"?`left: ${N}`:`right: ${M}`;l.current.dataset.motionPopId=a;const B=document.createElement("style");f&&(B.nonce=f);const G=s??document.head;return G.appendChild(B),B.sheet&&B.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${_}px !important;
            height: ${w}px !important;
            ${O}px !important;
            top: ${S}px !important;
          }
        `),()=>{G.contains(B)&&G.removeChild(B)}},[e]),y.jsx(r8,{isPresent:e,childRef:l,sizeRef:c,children:D.cloneElement(t,{ref:p})})}const o8=({children:t,initial:e,isPresent:n,onExitComplete:s,custom:a,presenceAffectsLayout:l,mode:c,anchorX:f,root:m})=>{const p=ia(l8),v=D.useId();let _=!0,w=D.useMemo(()=>(_=!1,{id:v,initial:e,isPresent:n,custom:a,onExitComplete:S=>{p.set(S,!0);for(const N of p.values())if(!N)return;s&&s()},register:S=>(p.set(S,!1),()=>p.delete(S))}),[n,p,s]);return l&&_&&(w={...w}),D.useMemo(()=>{p.forEach((S,N)=>p.set(N,!1))},[n]),D.useEffect(()=>{!n&&!p.size&&s&&s()},[n]),c==="popLayout"&&(t=y.jsx(a8,{isPresent:n,anchorX:f,root:m,children:t})),y.jsx(em.Provider,{value:w,children:t})};function l8(){return new Map}function mC(t=!0){const e=D.useContext(em);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:a}=e,l=D.useId();D.useEffect(()=>{if(t)return a(l)},[t]);const c=D.useCallback(()=>t&&s&&s(l),[l,s,t]);return!n&&s?[!1,c]:[!0]}const kf=t=>t.key||"";function iE(t){const e=[];return D.Children.forEach(t,n=>{D.isValidElement(n)&&e.push(n)}),e}const Ws=({children:t,custom:e,initial:n=!0,onExitComplete:s,presenceAffectsLayout:a=!0,mode:l="sync",propagate:c=!1,anchorX:f="left",root:m})=>{const[p,v]=mC(c),_=D.useMemo(()=>iE(t),[t]),w=c&&!p?[]:_.map(kf),S=D.useRef(!0),N=D.useRef(_),M=ia(()=>new Map),O=D.useRef(new Set),[B,G]=D.useState(_),[F,oe]=D.useState(_);Zd(()=>{S.current=!1,N.current=_;for(let C=0;C<F.length;C++){const A=kf(F[C]);w.includes(A)?(M.delete(A),O.current.delete(A)):M.get(A)!==!0&&M.set(A,!1)}},[F,w.length,w.join("-")]);const re=[];if(_!==B){let C=[..._];for(let A=0;A<F.length;A++){const I=F[A],P=kf(I);w.includes(P)||(C.splice(A,0,I),re.push(I))}return l==="wait"&&re.length&&(C=re),oe(iE(C)),G(_),null}const{forceRender:ce}=D.useContext(ev);return y.jsx(y.Fragment,{children:F.map(C=>{const A=kf(C),I=c&&!p?!1:_===F||w.includes(A),P=()=>{if(O.current.has(A))return;if(O.current.add(A),M.has(A))M.set(A,!0);else return;let k=!0;M.forEach(z=>{z||(k=!1)}),k&&(ce==null||ce(),oe(N.current),c&&(v==null||v()),s&&s())};return y.jsx(o8,{isPresent:I,initial:!S.current||n?void 0:!1,custom:e,presenceAffectsLayout:a,mode:l,root:m,onExitComplete:I?void 0:P,anchorX:f,children:C},A)})})},pC=D.createContext({strict:!1}),sE={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let rE=!1;function u8(){if(rE)return;const t={};for(const e in sE)t[e]={isEnabled:n=>sE[e].some(s=>!!n[s])};qR(t),rE=!0}function gC(){return u8(),Q9()}function c8(t){const e=gC();for(const n in t)e[n]={...e[n],...t[n]};qR(e)}const h8=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Rd(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||h8.has(t)}let yC=t=>!Rd(t);function f8(t){typeof t=="function"&&(yC=e=>e.startsWith("on")?!Rd(e):t(e))}try{f8(require("@emotion/is-prop-valid").default)}catch{}function d8(t,e,n){const s={};for(const a in t)a==="values"&&typeof t.values=="object"||(yC(a)||n===!0&&Rd(a)||!e&&!Rd(a)||t.draggable&&a.startsWith("onDrag"))&&(s[a]=t[a]);return s}const sm=D.createContext({});function m8(t,e){if(im(t)){const{initial:n,animate:s}=t;return{initial:n===!1||Ec(n)?n:void 0,animate:Ec(s)?s:void 0}}return t.inherit!==!1?e:{}}function p8(t){const{initial:e,animate:n}=m8(t,D.useContext(sm));return D.useMemo(()=>({initial:e,animate:n}),[aE(e),aE(n)])}function aE(t){return Array.isArray(t)?t.join(" "):t}const Iv=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function vC(t,e,n){for(const s in e)!sn(e[s])&&!WR(s,n)&&(t[s]=e[s])}function g8({transformTemplate:t},e){return D.useMemo(()=>{const n=Iv();return Cv(n,e,t),Object.assign({},n.vars,n.style)},[e])}function y8(t,e){const n=t.style||{},s={};return vC(s,n,t),Object.assign(s,g8(t,e)),s}function v8(t,e){const n={},s=y8(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=s,n}const _C=()=>({...Iv(),attrs:{}});function _8(t,e,n,s){const a=D.useMemo(()=>{const l=_C();return JR(l,e,eC(s),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};vC(l,t.style,t),a.style={...l,...a.style}}return a}const b8=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Dv(t){return typeof t!="string"||t.includes("-")?!1:!!(b8.indexOf(t)>-1||/[A-Z]/u.test(t))}function x8(t,e,n,{latestValues:s},a,l=!1,c){const m=(c??Dv(t)?_8:v8)(e,s,a,t),p=d8(e,typeof t=="string",l),v=t!==D.Fragment?{...p,...m,ref:n}:{},{children:_}=e,w=D.useMemo(()=>sn(_)?_.get():_,[_]);return D.createElement(t,{...v,children:w})}function w8({scrapeMotionValuesFromProps:t,createRenderState:e},n,s,a){return{latestValues:T8(n,s,a,t),renderState:e()}}function T8(t,e,n,s){const a={},l=s(t,{});for(const w in l)a[w]=Jf(l[w]);let{initial:c,animate:f}=t;const m=im(t),p=HR(t);e&&p&&!m&&t.inherit!==!1&&(c===void 0&&(c=e.initial),f===void 0&&(f=e.animate));let v=n?n.initial===!1:!1;v=v||c===!1;const _=v?f:c;if(_&&typeof _!="boolean"&&!nm(_)){const w=Array.isArray(_)?_:[_];for(let S=0;S<w.length;S++){const N=_v(t,w[S]);if(N){const{transitionEnd:M,transition:O,...B}=N;for(const G in B){let F=B[G];if(Array.isArray(F)){const oe=v?F.length-1:0;F=F[oe]}F!==null&&(a[G]=F)}for(const G in M)a[G]=M[G]}}}return a}const bC=t=>(e,n)=>{const s=D.useContext(sm),a=D.useContext(em),l=()=>w8(t,e,s,a);return n?l():ia(l)},E8=bC({scrapeMotionValuesFromProps:Nv,createRenderState:Iv}),S8=bC({scrapeMotionValuesFromProps:tC,createRenderState:_C}),A8=Symbol.for("motionComponentSymbol");function R8(t,e,n){const s=D.useRef(n);D.useInsertionEffect(()=>{s.current=n});const a=D.useRef(null);return D.useCallback(l=>{var f;l&&((f=t.onMount)==null||f.call(t,l)),e&&(l?e.mount(l):e.unmount());const c=s.current;if(typeof c=="function")if(l){const m=c(l);typeof m=="function"&&(a.current=m)}else a.current?(a.current(),a.current=null):c(l);else c&&(c.current=l)},[e])}const xC=D.createContext({});function Xu(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function C8(t,e,n,s,a,l){var O,B;const{visualElement:c}=D.useContext(sm),f=D.useContext(pC),m=D.useContext(em),p=D.useContext(qc).reducedMotion,v=D.useRef(null);s=s||f.renderer,!v.current&&s&&(v.current=s(t,{visualState:e,parent:c,props:n,presenceContext:m,blockInitialAnimation:m?m.initial===!1:!1,reducedMotionConfig:p,isSVG:l}));const _=v.current,w=D.useContext(xC);_&&!_.projection&&a&&(_.type==="html"||_.type==="svg")&&N8(v.current,n,a,w);const S=D.useRef(!1);D.useInsertionEffect(()=>{_&&S.current&&_.update(n,m)});const N=n[RR],M=D.useRef(!!N&&!((O=window.MotionHandoffIsComplete)!=null&&O.call(window,N))&&((B=window.MotionHasOptimisedAnimation)==null?void 0:B.call(window,N)));return Zd(()=>{_&&(S.current=!0,window.MotionIsMounted=!0,_.updateFeatures(),_.scheduleRenderMicrotask(),M.current&&_.animationState&&_.animationState.animateChanges())}),D.useEffect(()=>{_&&(!M.current&&_.animationState&&_.animationState.animateChanges(),M.current&&(queueMicrotask(()=>{var G;(G=window.MotionHandoffMarkAsComplete)==null||G.call(window,N)}),M.current=!1),_.enteringChildren=void 0)}),_}function N8(t,e,n,s){const{layoutId:a,layout:l,drag:c,dragConstraints:f,layoutScroll:m,layoutRoot:p,layoutCrossfade:v}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:wC(t.parent)),t.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!c||f&&Xu(f),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:s,crossfade:v,layoutScroll:m,layoutRoot:p})}function wC(t){if(t)return t.options.allowProjection!==!1?t.projection:wC(t.parent)}function Lg(t,{forwardMotionProps:e=!1,type:n}={},s,a){s&&c8(s);const l=n?n==="svg":Dv(t),c=l?S8:E8;function f(p,v){let _;const w={...D.useContext(qc),...p,layoutId:I8(p)},{isStatic:S}=w,N=p8(p),M=c(p,S);if(!S&&HA){D8();const O=k8(w);_=O.MeasureLayout,N.visualElement=C8(t,M,w,a,O.ProjectionNode,l)}return y.jsxs(sm.Provider,{value:N,children:[_&&N.visualElement?y.jsx(_,{visualElement:N.visualElement,...w}):null,x8(t,p,R8(M,N.visualElement,v),M,S,e,l)]})}f.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const m=D.forwardRef(f);return m[A8]=t,m}function I8({layoutId:t}){const e=D.useContext(ev).id;return e&&t!==void 0?e+"-"+t:t}function D8(t,e){D.useContext(pC).strict}function k8(t){const e=gC(),{drag:n,layout:s}=e;if(!n&&!s)return{};const a={...n,...s};return{MeasureLayout:n!=null&&n.isEnabled(t)||s!=null&&s.isEnabled(t)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}function M8(t,e){if(typeof Proxy>"u")return Lg;const n=new Map,s=(l,c)=>Lg(l,c,t,e),a=(l,c)=>s(l,c);return new Proxy(a,{get:(l,c)=>c==="create"?s:(n.has(c)||n.set(c,Lg(c,void 0,t,e)),n.get(c))})}const V8=(t,e)=>e.isSVG??Dv(t)?new fU(e):new aU(e,{allowProjection:t!==D.Fragment});class O8 extends la{constructor(e){super(e),e.animationState||(e.animationState=yU(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();nm(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let j8=0;class P8 extends la{constructor(){super(...arguments),this.id=j8++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const L8={animation:{Feature:O8},exit:{Feature:P8}};function Gc(t){return{point:{x:t.pageX,y:t.pageY}}}const U8=t=>e=>Ev(e)&&t(e,Gc(e));function lc(t,e,n,s){return Sc(t,e,U8(n),s)}const TC=({current:t})=>t?t.ownerDocument.defaultView:null,oE=(t,e)=>Math.abs(t-e);function z8(t,e){const n=oE(t.x,e.x),s=oE(t.y,e.y);return Math.sqrt(n**2+s**2)}const lE=new Set(["auto","scroll"]);class EC{constructor(e,n,{transformPagePoint:s,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:c=3,element:f}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=S=>{this.handleScroll(S.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=zg(this.lastMoveEventInfo,this.history),N=this.startEvent!==null,M=z8(S.offset,{x:0,y:0})>=this.distanceThreshold;if(!N&&!M)return;const{point:O}=S,{timestamp:B}=tn;this.history.push({...O,timestamp:B});const{onStart:G,onMove:F}=this.handlers;N||(G&&G(this.lastMoveEvent,S),this.startEvent=this.lastMoveEvent),F&&F(this.lastMoveEvent,S)},this.handlePointerMove=(S,N)=>{this.lastMoveEvent=S,this.lastMoveEventInfo=Ug(N,this.transformPagePoint),et.update(this.updatePoint,!0)},this.handlePointerUp=(S,N)=>{this.end();const{onEnd:M,onSessionEnd:O,resumeAnimation:B}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&B&&B(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const G=zg(S.type==="pointercancel"?this.lastMoveEventInfo:Ug(N,this.transformPagePoint),this.history);this.startEvent&&M&&M(S,G),O&&O(S,G)},!Ev(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=c,this.contextWindow=a||window;const m=Gc(e),p=Ug(m,this.transformPagePoint),{point:v}=p,{timestamp:_}=tn;this.history=[{...v,timestamp:_}];const{onSessionStart:w}=n;w&&w(e,zg(p,this.history)),this.removeListeners=Bc(lc(this.contextWindow,"pointermove",this.handlePointerMove),lc(this.contextWindow,"pointerup",this.handlePointerUp),lc(this.contextWindow,"pointercancel",this.handlePointerUp)),f&&this.startScrollTracking(f)}startScrollTracking(e){let n=e.parentElement;for(;n;){const s=getComputedStyle(n);(lE.has(s.overflowX)||lE.has(s.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const n=this.scrollPositions.get(e);if(!n)return;const s=e===window,a=s?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},l={x:a.x-n.x,y:a.y-n.y};l.x===0&&l.y===0||(s?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=l.x,this.lastMoveEventInfo.point.y+=l.y):this.history.length>0&&(this.history[0].x-=l.x,this.history[0].y-=l.y),this.scrollPositions.set(e,a),et.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),ji(this.updatePoint)}}function Ug(t,e){return e?{point:e(t.point)}:t}function uE(t,e){return{x:t.x-e.x,y:t.y-e.y}}function zg({point:t},e){return{point:t,delta:uE(t,SC(e)),offset:uE(t,B8(e)),velocity:F8(e,.1)}}function B8(t){return t[0]}function SC(t){return t[t.length-1]}function F8(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const a=SC(t);for(;n>=0&&(s=t[n],!(a.timestamp-s.timestamp>qs(e)));)n--;if(!s)return{x:0,y:0};const l=fi(a.timestamp-s.timestamp);if(l===0)return{x:0,y:0};const c={x:(a.x-s.x)/l,y:(a.y-s.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function H8(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?bt(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?bt(n,t,s.max):Math.min(t,n)),t}function cE(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function q8(t,{top:e,left:n,bottom:s,right:a}){return{x:cE(t.x,n,a),y:cE(t.y,e,s)}}function hE(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function G8(t,e){return{x:hE(t.x,e.x),y:hE(t.y,e.y)}}function $8(t,e){let n=.5;const s=En(t),a=En(e);return a>s?n=Tl(e.min,e.max-s,t.min):s>a&&(n=Tl(t.min,t.max-a,e.min)),Oi(0,1,n)}function K8(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Fy=.35;function Y8(t=Fy){return t===!1?t=0:t===!0&&(t=Fy),{x:fE(t,"left","right"),y:fE(t,"top","bottom")}}function fE(t,e,n){return{min:dE(t,e),max:dE(t,n)}}function dE(t,e){return typeof t=="number"?t:t[e]||0}const Q8=new WeakMap;class X8{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Qt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=_=>{n?(this.stopAnimation(),this.snapToCursor(Gc(_).point)):this.pauseAnimation()},c=(_,w)=>{this.stopAnimation();const{drag:S,dragPropagation:N,onDragStart:M}=this.getProps();if(S&&!N&&(this.openDragLock&&this.openDragLock(),this.openDragLock=A9(S),!this.openDragLock))return;this.latestPointerEvent=_,this.latestPanInfo=w,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ui(B=>{let G=this.getAxisMotionValue(B).get()||0;if(ds.test(G)){const{projection:F}=this.visualElement;if(F&&F.layout){const oe=F.layout.layoutBox[B];oe&&(G=En(oe)*(parseFloat(G)/100))}}this.originPoint[B]=G}),M&&et.postRender(()=>M(_,w)),Oy(this.visualElement,"transform");const{animationState:O}=this.visualElement;O&&O.setActive("whileDrag",!0)},f=(_,w)=>{this.latestPointerEvent=_,this.latestPanInfo=w;const{dragPropagation:S,dragDirectionLock:N,onDirectionLock:M,onDrag:O}=this.getProps();if(!S&&!this.openDragLock)return;const{offset:B}=w;if(N&&this.currentDirection===null){this.currentDirection=W8(B),this.currentDirection!==null&&M&&M(this.currentDirection);return}this.updateAxis("x",w.point,B),this.updateAxis("y",w.point,B),this.visualElement.render(),O&&O(_,w)},m=(_,w)=>{this.latestPointerEvent=_,this.latestPanInfo=w,this.stop(_,w),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>ui(_=>{var w;return this.getAnimationState(_)==="paused"&&((w=this.getAxisMotionValue(_).animation)==null?void 0:w.play())}),{dragSnapToOrigin:v}=this.getProps();this.panSession=new EC(e,{onSessionStart:l,onStart:c,onMove:f,onSessionEnd:m,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:v,distanceThreshold:s,contextWindow:TC(this.visualElement),element:this.visualElement.current})}stop(e,n){const s=e||this.latestPointerEvent,a=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!s)return;const{velocity:c}=a;this.startAnimation(c);const{onDragEnd:f}=this.getProps();f&&et.postRender(()=>f(s,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,s){const{drag:a}=this.getProps();if(!s||!Mf(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let c=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(c=H8(c,this.constraints[e],this.elastic[e])),l.set(c)}resolveConstraints(){var l;const{dragConstraints:e,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(l=this.visualElement.projection)==null?void 0:l.layout,a=this.constraints;e&&Xu(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=q8(s.layoutBox,e):this.constraints=!1,this.elastic=Y8(n),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&ui(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=K8(s.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Xu(e))return!1;const s=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=eU(s,a.root,this.visualElement.getTransformPagePoint());let c=G8(a.layout.layoutBox,l);if(n){const f=n(W9(c));this.hasMutatedConstraints=!!f,f&&(c=$R(f))}return c}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:a,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:f}=this.getProps(),m=this.constraints||{},p=ui(v=>{if(!Mf(v,n,this.currentDirection))return;let _=m&&m[v]||{};c&&(_={min:0,max:0});const w=a?200:1e6,S=a?40:1e7,N={type:"inertia",velocity:s?e[v]:0,bounceStiffness:w,bounceDamping:S,timeConstant:750,restDelta:1,restSpeed:10,...l,..._};return this.startAxisValueAnimation(v,N)});return Promise.all(p).then(f)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return Oy(this.visualElement,e),s.start(vv(e,s,0,n,this.visualElement,!1))}stopAnimation(){ui(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ui(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),a=s[n];return a||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){ui(n=>{const{drag:s}=this.getProps();if(!Mf(n,s,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:c,max:f}=a.layout.layoutBox[n],m=l.get()||0;l.set(e[n]-bt(c,f,.5)+m)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!Xu(n)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};ui(c=>{const f=this.getAxisMotionValue(c);if(f&&this.constraints!==!1){const m=f.get();a[c]=$8({min:m,max:m},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),ui(c=>{if(!Mf(c,e,null))return;const f=this.getAxisMotionValue(c),{min:m,max:p}=this.constraints[c];f.set(bt(m,p,a[c]))})}addListeners(){if(!this.visualElement.current)return;Q8.set(this.visualElement,this);const e=this.visualElement.current,n=lc(e,"pointerdown",m=>{const{drag:p,dragListener:v=!0}=this.getProps();p&&v&&!UR(m.target)&&this.start(m)}),s=()=>{const{dragConstraints:m}=this.getProps();Xu(m)&&m.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",s);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),et.read(s);const c=Sc(window,"resize",()=>this.scalePositionWithinConstraints()),f=a.addEventListener("didUpdate",(({delta:m,hasLayoutChanged:p})=>{this.isDragging&&p&&(ui(v=>{const _=this.getAxisMotionValue(v);_&&(this.originPoint[v]+=m[v].translate,_.set(_.get()+m[v].translate))}),this.visualElement.render())}));return()=>{c(),n(),l(),f&&f()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:c=Fy,dragMomentum:f=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:a,dragConstraints:l,dragElastic:c,dragMomentum:f}}}function Mf(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function W8(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class J8 extends la{constructor(e){super(e),this.removeGroupControls=Vn,this.removeListeners=Vn,this.controls=new X8(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Vn}update(){const{dragControls:e}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};e!==n&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners()}}const mE=t=>(e,n)=>{t&&et.postRender(()=>t(e,n))};class Z8 extends la{constructor(){super(...arguments),this.removePointerDownListener=Vn}onPointerDown(e){this.session=new EC(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:TC(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:mE(e),onStart:mE(n),onMove:s,onEnd:(l,c)=>{delete this.session,a&&et.postRender(()=>a(l,c))}}}mount(){this.removePointerDownListener=lc(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let Bg=!1;class ez extends D.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:a}=this.props,{projection:l}=e;l&&(n.group&&n.group.add(l),s&&s.register&&a&&s.register(l),Bg&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),Zf.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:a,isPresent:l}=this.props,{projection:c}=s;return c&&(c.isPresent=l,Bg=!0,a||e.layoutDependency!==n||n===void 0||e.isPresent!==l?c.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?c.promote():c.relegate()||et.postRender(()=>{const f=c.getStack();(!f||!f.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Tv.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:a}=e;Bg=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function AC(t){const[e,n]=mC(),s=D.useContext(ev);return y.jsx(ez,{...t,layoutGroup:s,switchLayoutGroup:D.useContext(xC),isPresent:e,safeToRemove:n})}const tz={pan:{Feature:Z8},drag:{Feature:J8,ProjectionNode:dC,MeasureLayout:AC}};function pE(t,e,n){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=s[a];l&&et.postRender(()=>l(e,Gc(e)))}class nz extends la{mount(){const{current:e}=this.node;e&&(this.unmount=R9(e,(n,s)=>(pE(this.node,s,"Start"),a=>pE(this.node,a,"End"))))}unmount(){}}class iz extends la{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Bc(Sc(this.node.current,"focus",()=>this.onFocus()),Sc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function gE(t,e,n){const{props:s}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=s[a];l&&et.postRender(()=>l(e,Gc(e)))}class sz extends la{mount(){const{current:e}=this.node;e&&(this.unmount=I9(e,(n,s)=>(gE(this.node,s,"Start"),(a,{success:l})=>gE(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Hy=new WeakMap,Fg=new WeakMap,rz=t=>{const e=Hy.get(t.target);e&&e(t)},az=t=>{t.forEach(rz)};function oz({root:t,...e}){const n=t||document;Fg.has(n)||Fg.set(n,{});const s=Fg.get(n),a=JSON.stringify(e);return s[a]||(s[a]=new IntersectionObserver(az,{root:t,...e})),s[a]}function lz(t,e,n){const s=oz(e);return Hy.set(t,n),s.observe(t),()=>{Hy.delete(t),s.unobserve(t)}}const uz={some:0,all:1};class cz extends la{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:a="some",once:l}=e,c={root:n?n.current:void 0,rootMargin:s,threshold:typeof a=="number"?a:uz[a]},f=m=>{const{isIntersecting:p}=m;if(this.isInView===p||(this.isInView=p,l&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:v,onViewportLeave:_}=this.node.getProps(),w=p?v:_;w&&w(m)};return lz(this.node.current,c,f)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(hz(e,n))&&this.startObserver()}unmount(){}}function hz({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const fz={inView:{Feature:cz},tap:{Feature:sz},focus:{Feature:iz},hover:{Feature:nz}},dz={layout:{ProjectionNode:dC,MeasureLayout:AC}},mz={...L8,...fz,...tz,...dz},De=M8(mz,V8),pz=50,yE=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),gz=()=>({time:0,x:yE(),y:yE()}),yz={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function vE(t,e,n,s){const a=n[e],{length:l,position:c}=yz[e],f=a.current,m=n.time;a.current=t[`scroll${c}`],a.scrollLength=t[`scroll${l}`]-t[`client${l}`],a.offset.length=0,a.offset[0]=0,a.offset[1]=a.scrollLength,a.progress=Tl(0,a.scrollLength,a.current);const p=s-m;a.velocity=p>pz?0:rv(a.current-f,p)}function vz(t,e,n){vE(t,"x",e,n),vE(t,"y",e,n),e.time=n}function _z(t,e){const n={x:0,y:0};let s=t;for(;s&&s!==e;)if(wv(s))n.x+=s.offsetLeft,n.y+=s.offsetTop,s=s.offsetParent;else if(s.tagName==="svg"){const a=s.getBoundingClientRect();s=s.parentElement;const l=s.getBoundingClientRect();n.x+=a.left-l.left,n.y+=a.top-l.top}else if(s instanceof SVGGraphicsElement){const{x:a,y:l}=s.getBBox();n.x+=a,n.y+=l;let c=null,f=s.parentNode;for(;!c;)f.tagName==="svg"&&(c=f),f=s.parentNode;s=c}else break;return n}const qy={start:0,center:.5,end:1};function _E(t,e,n=0){let s=0;if(t in qy&&(t=qy[t]),typeof t=="string"){const a=parseFloat(t);t.endsWith("px")?s=a:t.endsWith("%")?t=a/100:t.endsWith("vw")?s=a/100*document.documentElement.clientWidth:t.endsWith("vh")?s=a/100*document.documentElement.clientHeight:t=a}return typeof t=="number"&&(s=e*t),n+s}const bz=[0,0];function xz(t,e,n,s){let a=Array.isArray(t)?t:bz,l=0,c=0;return typeof t=="number"?a=[t,t]:typeof t=="string"&&(t=t.trim(),t.includes(" ")?a=t.split(" "):a=[t,qy[t]?t:"0"]),l=_E(a[0],n,s),c=_E(a[1],e),l-c}const wz={All:[[0,0],[1,1]]},Tz={x:0,y:0};function Ez(t){return"getBBox"in t&&t.tagName!=="svg"?t.getBBox():{width:t.clientWidth,height:t.clientHeight}}function Sz(t,e,n){const{offset:s=wz.All}=n,{target:a=t,axis:l="y"}=n,c=l==="y"?"height":"width",f=a!==t?_z(a,t):Tz,m=a===t?{width:t.scrollWidth,height:t.scrollHeight}:Ez(a),p={width:t.clientWidth,height:t.clientHeight};e[l].offset.length=0;let v=!e[l].interpolate;const _=s.length;for(let w=0;w<_;w++){const S=xz(s[w],p[c],m[c],f[l]);!v&&S!==e[l].interpolatorOffsets[w]&&(v=!0),e[l].offset[w]=S}v&&(e[l].interpolate=dv(e[l].offset,pR(s),{clamp:!1}),e[l].interpolatorOffsets=[...e[l].offset]),e[l].progress=Oi(0,1,e[l].interpolate(e[l].current))}function Az(t,e=t,n){if(n.x.targetOffset=0,n.y.targetOffset=0,e!==t){let s=e;for(;s&&s!==t;)n.x.targetOffset+=s.offsetLeft,n.y.targetOffset+=s.offsetTop,s=s.offsetParent}n.x.targetLength=e===t?e.scrollWidth:e.clientWidth,n.y.targetLength=e===t?e.scrollHeight:e.clientHeight,n.x.containerLength=t.clientWidth,n.y.containerLength=t.clientHeight}function Rz(t,e,n,s={}){return{measure:a=>{Az(t,s.target,n),vz(t,n,a),(s.offset||s.target)&&Sz(t,n,s)},notify:()=>e(n)}}const qu=new WeakMap,bE=new WeakMap,Hg=new WeakMap,xE=t=>t===document.scrollingElement?window:t;function RC(t,{container:e=document.scrollingElement,...n}={}){if(!e)return Vn;let s=Hg.get(e);s||(s=new Set,Hg.set(e,s));const a=gz(),l=Rz(e,t,a,n);if(s.add(l),!qu.has(e)){const f=()=>{for(const _ of s)_.measure(tn.timestamp);et.preUpdate(m)},m=()=>{for(const _ of s)_.notify()},p=()=>et.read(f);qu.set(e,p);const v=xE(e);window.addEventListener("resize",p,{passive:!0}),e!==document.documentElement&&bE.set(e,U9(e,p)),v.addEventListener("scroll",p,{passive:!0}),p()}const c=qu.get(e);return et.read(c,!1,!0),()=>{var p;ji(c);const f=Hg.get(e);if(!f||(f.delete(l),f.size))return;const m=qu.get(e);qu.delete(e),m&&(xE(e).removeEventListener("scroll",m),(p=bE.get(e))==null||p(),window.removeEventListener("resize",m))}}const wE=new Map;function Cz(t){const e={value:0},n=RC(s=>{e.value=s[t.axis].progress*100},t);return{currentTime:e,cancel:n}}function CC({source:t,container:e,...n}){const{axis:s}=n;t&&(e=t);const a=wE.get(e)??new Map;wE.set(e,a);const l=n.target??"self",c=a.get(l)??{},f=s+(n.offset??[]).join(",");return c[f]||(c[f]=!n.target&&_R()?new ScrollTimeline({source:e,axis:s}):Cz({container:e,...n})),c[f]}function Nz(t,e){const n=CC(e);return t.attachTimeline({timeline:e.target?void 0:n,observe:s=>(s.pause(),BR(a=>{s.time=s.iterationDuration*a},n))})}function Iz(t){return t.length===2}function Dz(t,e){return Iz(t)?RC(n=>{t(n[e.axis].progress,n)},e):BR(t,CC(e))}function kz(t,{axis:e="y",container:n=document.scrollingElement,...s}={}){if(!n)return Vn;const a={axis:e,container:n,...s};return typeof t=="function"?Dz(t,a):Nz(t,a)}const Mz=()=>({scrollX:Ii(0),scrollY:Ii(0),scrollXProgress:Ii(0),scrollYProgress:Ii(0)}),Vf=t=>t?!t.current:!1;function NC({container:t,target:e,...n}={}){const s=ia(Mz),a=D.useRef(null),l=D.useRef(!1),c=D.useCallback(()=>(a.current=kz((f,{x:m,y:p})=>{s.scrollX.set(m.current),s.scrollXProgress.set(m.progress),s.scrollY.set(p.current),s.scrollYProgress.set(p.progress)},{...n,container:(t==null?void 0:t.current)||void 0,target:(e==null?void 0:e.current)||void 0}),()=>{var f;(f=a.current)==null||f.call(a)}),[t,e,JSON.stringify(n.offset)]);return Zd(()=>{if(l.current=!1,Vf(t)||Vf(e)){l.current=!0;return}else return c()},[c]),D.useEffect(()=>{if(l.current)return xc(!Vf(t)),xc(!Vf(e)),c()},[c]),s}function IC(t){const e=ia(()=>Ii(t)),{isStatic:n}=D.useContext(qc);if(n){const[,s]=D.useState(t);D.useEffect(()=>e.on("change",s),[])}return e}function DC(t,e){const n=IC(e()),s=()=>n.set(e());return s(),Zd(()=>{const a=()=>et.preRender(s,!1,!0),l=t.map(c=>c.on("change",a));return()=>{l.forEach(c=>c()),ji(s)}}),n}function Vz(t){ac.current=[],t();const e=DC(ac.current,t);return ac.current=void 0,e}function uc(t,e,n,s){if(typeof t=="function")return Vz(t);if(n!==void 0&&!Array.isArray(n)&&typeof e!="function")return Oz(t,e,n,s);const c=typeof e=="function"?e:B9(e,n,s);return Array.isArray(t)?TE(t,c):TE([t],([f])=>c(f))}function TE(t,e){const n=ia(()=>[]);return DC(t,()=>{n.length=0;const s=t.length;for(let a=0;a<s;a++)n[a]=t[a].get();return e(n)})}function Oz(t,e,n,s){const a=ia(()=>Object.keys(n)),l=ia(()=>({}));for(const c of a)l[c]=uc(t,e,n[c],s);return l}function jz(t,e={}){const{isStatic:n}=D.useContext(qc),s=()=>sn(t)?t.get():t;if(n)return uc(s);const a=IC(s());return D.useInsertionEffect(()=>F9(a,t,e),[a,JSON.stringify(e)]),a}const kv="/assets/logo-CqHYDWVW.png",Pz=({onLogin:t,onLogout:e,user:n})=>{const[s,a]=D.useState(!1),[l,c]=D.useState(!1),[f,m]=D.useState("Home"),p=Nd(),v=Js();D.useEffect(()=>{const N=()=>{a(window.scrollY>20)};return window.addEventListener("scroll",N),()=>window.removeEventListener("scroll",N)},[]),D.useEffect(()=>{if(v.pathname==="/"&&v.hash){const N=document.querySelector(v.hash);N&&N.scrollIntoView({behavior:"smooth"})}},[v]);const _=[{name:"Home",href:"#hero"},{name:"Features",href:"#features"},{name:"Gallery",href:"#gallery"},{name:"Staff",href:"#staff"},{name:"Rules",href:"#rules"}],w=(N,M)=>{if(c(!1),m(M),v.pathname!=="/")p("/"+N);else{const O=document.querySelector(N);O&&O.scrollIntoView({behavior:"smooth"})}},S=[{name:"Twitter",href:"https://twitter.com/rushhourrp",color:"hover:text-[#1DA1F2]",icon:y.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 h-5",children:y.jsx("path",{d:"M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"})})},{name:"TikTok",href:"https://www.tiktok.com/@rushhourrp",color:"hover:text-[#ff0050]",icon:y.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 h-5",children:y.jsx("path",{d:"M19.59 6.69a4.83 4.83 0 01-3.77-4.25V2h-3.45v13.67a2.89 2.89 0 01-5.2 1.74 2.89 2.89 0 012.31-4.64 2.93 2.93 0 01.88.13V9.4a6.84 6.84 0 00-1-.05A6.33 6.33 0 005 20.1a6.34 6.34 0 0010.86-4.43v-7a8.16 8.16 0 004.77 1.52v-3.4a4.85 4.85 0 01-1-.1z"})})},{name:"YouTube",href:"https://www.youtube.com/@RushHourRP",color:"hover:text-[#FF0000]",icon:y.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 h-5",children:y.jsx("path",{d:"M23.498 6.186a3.016 3.016 0 00-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 00.502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 002.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 002.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"})})}];return y.jsxs(De.nav,{initial:{y:-100},animate:{y:0},transition:{duration:.5},className:`fixed w-full z-50 transition-all duration-300 border-b ${s?"bg-rush-950/90 backdrop-blur-2xl border-white/10 py-3 shadow-[0_10px_40px_-10px_rgba(0,0,0,0.8)]":"bg-transparent border-transparent py-4"}`,children:[y.jsxs("div",{className:"container mx-auto px-4 flex justify-between items-center text-sm",children:[y.jsx("div",{className:"flex items-center gap-2 cursor-pointer group",onClick:()=>w("#hero","Home"),children:y.jsx(De.img,{whileHover:{scale:1.05},src:kv,alt:"Rush Hour RP",className:"h-10 md:h-12 drop-shadow-[0_0_15px_rgba(217,70,239,0.5)] group-hover:drop-shadow-[0_0_25px_rgba(6,182,212,0.6)] transition-all duration-300"})}),y.jsxs("div",{className:"hidden lg:flex items-center gap-6",children:[y.jsx("ul",{className:"flex gap-6",children:_.map(N=>y.jsx(De.li,{className:"relative group",children:y.jsxs("button",{onClick:()=>w(N.href,N.name),className:`relative px-2 py-1 font-sans text-xs uppercase font-bold tracking-widest transition-all duration-300 z-10 ${f===N.name?"text-neon-cyan":"text-gray-400 hover:text-white"}`,children:[N.name,f===N.name&&y.jsx(De.div,{layoutId:"nav-underline",className:"absolute -bottom-1 left-0 right-0 h-[2px] bg-neon-pink shadow-[0_0_10px_rgba(217,70,239,1)]",transition:{type:"spring",stiffness:300,damping:30}})]})},N.name))}),y.jsx("div",{className:"flex items-center gap-4 pl-6 border-l border-white/10",children:S.map(N=>y.jsx("a",{href:N.href,target:"_blank",rel:"noopener noreferrer",className:`text-gray-400 transition-colors ${N.color} hover:scale-110 transform`,title:N.name,children:N.icon},N.name))}),y.jsxs("div",{className:"flex items-center gap-3 pl-2",children:[y.jsxs("a",{href:"https://store.rushhourroleplay.com/",target:"_blank",rel:"noopener noreferrer",className:"px-4 py-1.5 bg-yellow-500/10 border border-yellow-500/50 text-yellow-500 rounded-lg hover:bg-yellow-500/20 transition-all text-[11px] font-bold uppercase tracking-wider flex items-center gap-2 hover:scale-105",children:[y.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-3.5 h-3.5",children:[y.jsx("path",{d:"M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"}),y.jsx("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),y.jsx("path",{d:"M16 10a4 4 0 0 1-8 0"})]}),"Store"]}),y.jsxs("a",{href:"https://discord.gg/6zpQn9hESh",target:"_blank",rel:"noopener noreferrer",className:"px-4 py-1.5 bg-[#5865F2]/10 border border-[#5865F2]/50 text-[#5865F2] rounded-lg hover:bg-[#5865F2]/20 transition-all text-[11px] font-bold uppercase tracking-wider flex items-center gap-2 hover:scale-105",children:[y.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"w-3.5 h-3.5",children:y.jsx("path",{d:"M20.317 4.37a19.791 19.791 0 00-4.885-1.515.074.074 0 00-.079.037c-.21.375-.444.864-.608 1.25a18.27 18.27 0 00-5.487 0 12.64 12.64 0 00-.617-1.25.077.077 0 00-.079-.037A19.736 19.736 0 003.677 4.37a.07.07 0 00-.032.027C.533 9.046-.32 13.58.099 18.057a.082.082 0 00.031.057 19.9 19.9 0 005.993 3.03.078.078 0 00.084-.028 14.09 14.09 0 001.226-1.994.076.076 0 00-.041-.106 13.107 13.107 0 01-1.872-.892.077.077 0 01-.008-.128 10.2 10.2 0 00.372-.292.074.074 0 01.077-.01c3.928 1.793 8.18 1.793 12.062 0a.074.074 0 01.078.01c.12.098.246.198.373.292a.077.077 0 01-.006.127 12.299 12.299 0 01-1.873.892.077.077 0 00-.041.107c.36.698.772 1.362 1.225 1.993a.076.076 0 00.084.028 19.839 19.839 0 006.002-3.03.077.077 0 00.032-.054c.5-5.177-2.313-9.117-6.04-13.682a.074.074 0 00-.038-.028zM8.02 15.33c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.956-2.419 2.157-2.419 1.21 0 2.176 1.086 2.157 2.419 0 1.334-.956 2.42-2.157 2.42zm7.975 0c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.955-2.419 2.157-2.419 1.21 0 2.176 1.086 2.157 2.419 0 1.334-.946 2.42-2.157 2.42z"})}),"Discord"]}),n?y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("button",{onClick:()=>p("/admin"),className:"px-4 py-1.5 bg-white/5 border border-white/10 text-white rounded-lg hover:bg-white/10 transition-all text-[11px] font-bold uppercase tracking-wider flex items-center gap-2 hover:border-white/30",children:y.jsx(bc,{size:14})}),y.jsx("button",{onClick:()=>p("/admin"),className:"px-4 py-1.5 bg-rush-900/50 border border-neon-cyan/30 text-neon-cyan rounded-lg hover:bg-neon-cyan/10 transition-all text-[11px] font-bold uppercase tracking-wider flex items-center gap-2",children:y.jsx(xl,{size:14})}),y.jsx("button",{onClick:e,className:"p-1.5 text-red-400 hover:text-red-300 transition-colors",title:"Logout",children:y.jsx(xy,{size:16})})]}):y.jsx("div",{className:"flex gap-2",children:y.jsxs("button",{onClick:t,className:"px-4 py-1.5 bg-gradient-to-r from-neon-pink to-rush-600 rounded-lg text-white font-bold uppercase text-[11px] tracking-wider shadow-[0_0_15px_rgba(217,70,239,0.4)] hover:shadow-[0_0_25px_rgba(217,70,239,0.6)] hover:-translate-y-0.5 transition-all flex items-center gap-2",children:[y.jsx(by,{size:14}),y.jsx("span",{children:"Join"})]})})]})]}),y.jsx("button",{className:"lg:hidden text-white hover:text-neon-pink transition-colors",onClick:()=>c(!l),children:l?y.jsx(cl,{size:32}):y.jsx(oP,{size:32})})]}),y.jsx(Ws,{children:l&&y.jsx(De.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"lg:hidden bg-rush-950/95 backdrop-blur-xl border-b border-rush-500/20 overflow-hidden",children:y.jsxs("ul",{className:"flex flex-col p-6 gap-4",children:[_.map(N=>y.jsx("li",{children:y.jsx("button",{onClick:()=>w(N.href,N.name),className:`block w-full text-left font-display text-xl uppercase tracking-widest ${f===N.name?"text-neon-pink":"text-gray-300"}`,children:N.name})},N.name)),y.jsx("hr",{className:"border-white/10 my-2"}),y.jsx("div",{className:"flex justify-center gap-6 py-2",children:S.map(N=>y.jsx("a",{href:N.href,target:"_blank",rel:"noopener noreferrer",className:`text-gray-400 transition-colors ${N.color} transform scale-125`,children:N.icon},N.name))}),y.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[y.jsx("a",{href:"https://store.rushhourroleplay.com/",target:"_blank",className:"flex items-center justify-center gap-2 px-4 py-3 border border-yellow-500/30 text-yellow-500 rounded-xl font-bold uppercase text-xs",children:"Store"}),y.jsx("a",{href:"https://discord.gg/6zpQn9hESh",target:"_blank",className:"flex items-center justify-center gap-2 px-4 py-3 border border-[#5865F2]/30 text-[#5865F2] rounded-xl font-bold uppercase text-xs",children:"Discord"})]}),y.jsx("hr",{className:"border-white/10 my-2"}),n?y.jsxs(y.Fragment,{children:[y.jsx("li",{children:y.jsxs("button",{onClick:()=>{p("/admin"),c(!1)},className:"flex items-center gap-2 text-white font-bold uppercase tracking-wider",children:[y.jsx(bc,{size:18})," My Profile"]})}),y.jsx("li",{children:y.jsxs("button",{onClick:()=>{p("/admin"),c(!1)},className:"flex items-center gap-2 text-neon-cyan font-bold uppercase tracking-wider",children:[y.jsx(xl,{size:18})," Admin Panel"]})}),y.jsx("li",{children:y.jsxs("button",{onClick:()=>{e(),c(!1)},className:"flex items-center gap-2 text-red-500 font-bold uppercase tracking-wider",children:[y.jsx(xy,{size:18})," Logout"]})})]}):y.jsx("li",{children:y.jsxs("button",{onClick:()=>{t(),c(!1)},className:"flex items-center gap-2 text-neon-pink font-bold uppercase tracking-wider w-full bg-white/5 p-4 rounded-lg justify-center",children:[y.jsx(by,{size:18})," Login / Join City"]})})]})})})]})},Lz=()=>{const[t,e]=D.useState(!1),[n,s]=D.useState(null),a="cfx.re/join/rushhour",{scrollY:l}=NC(),c=uc(l,[0,1e3],[0,300]),f=uc(l,[0,200],[1,0]),m=uc(l,[0,1e3],[1.05,1.15]);D.useEffect(()=>{(async()=>{try{const M=await pA(rs(Mt,"site_settings","hero"));M.exists()&&s(M.data())}catch(M){console.error("Error fetching hero settings:",M)}})()},[]);const p=()=>{navigator.clipboard.writeText(a),e(!0),setTimeout(()=>e(!1),2e3)},v=N=>{if(!N)return"";const M=N.match(/(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|live\/|watch\?v=|watch\?.+&v=))([^#&?]+)/),O=M?M[1]:null;return O&&O.length>=11?`https://www.youtube.com/embed/${O}?autoplay=1&mute=1&controls=1&loop=1&playlist=${O}`:""},_={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.2,delayChildren:.3}}},w={hidden:{opacity:0,y:30},visible:{opacity:1,y:0,transition:{duration:.8,ease:"easeOut"}}},S=(n==null?void 0:n.isVisible)&&(n==null?void 0:n.videoUrl);return y.jsxs("section",{id:"hero",className:"relative min-h-screen flex items-center justify-center overflow-hidden bg-rush-950 pt-20 lg:pt-0",children:[y.jsx(De.div,{style:{y:c,scale:m},className:"absolute inset-0 z-0 will-change-transform",children:y.jsxs("div",{className:"absolute inset-0 bg-[url('https://images.unsplash.com/photo-1605218427306-0223e9a15f07?q=80&w=2669&auto=format&fit=crop')] bg-cover bg-center",children:[y.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-rush-950/90 via-rush-900/60 to-rush-950"}),y.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_center,transparent_0%,rgba(0,0,0,0.8)_100%)]"}),y.jsx("div",{className:"absolute inset-0 bg-grid-pattern opacity-10 [mask-image:linear-gradient(to_bottom,transparent,white,transparent)]"})]})}),y.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none z-0",children:[y.jsx(De.div,{animate:{opacity:[.1,.3,.1],scale:[1,1.2,1]},transition:{duration:8,repeat:1/0,ease:"easeInOut"},className:"absolute top-1/4 -right-20 w-[600px] h-[600px] bg-rush-500/20 rounded-full blur-[150px] mix-blend-screen"}),y.jsx(De.div,{animate:{opacity:[.1,.3,.1],scale:[1,1.3,1]},transition:{duration:10,repeat:1/0,ease:"easeInOut",delay:1},className:"absolute -bottom-20 -left-20 w-[800px] h-[800px] bg-neon-cyan/20 rounded-full blur-[150px] mix-blend-screen"})]}),y.jsx("div",{className:"container mx-auto px-6 relative z-10 w-full",children:y.jsxs(De.div,{variants:_,initial:"hidden",animate:"visible",className:`flex flex-col ${S?"lg:flex-row lg:items-center lg:justify-between":"items-center justify-center text-center"} gap-12 lg:gap-20`,children:[y.jsxs("div",{className:`flex flex-col ${S?"lg:flex-1 lg:items-start text-left":"items-center text-center max-w-4xl"}`,children:[y.jsx(De.div,{variants:w,className:"mb-8",children:y.jsxs("div",{className:"inline-flex items-center gap-3 px-5 py-2 rounded-full bg-white/5 border border-white/10 backdrop-blur-md shadow-[0_0_20px_rgba(217,70,239,0.15)] hover:border-neon-pink/50 transition-colors",children:[y.jsxs("span",{className:"relative flex h-3 w-3",children:[y.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-neon-green/80 opacity-75"}),y.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-neon-green"})]}),y.jsx("span",{className:"text-xs font-bold uppercase tracking-[0.2em] text-rush-100",children:"2.0 LIVE NOW"})]})}),y.jsxs(De.div,{variants:w,className:"mb-10 relative group max-w-[500px]",children:[y.jsx("div",{className:"absolute inset-0 bg-neon-pink/20 blur-[80px] rounded-full scale-75 group-hover:scale-100 transition-all duration-700"}),y.jsx("img",{src:kv,alt:"Rush Hour RP",className:"relative w-full object-contain drop-shadow-2xl"})]}),y.jsxs(De.div,{variants:w,children:[y.jsxs("h1",{className:"text-4xl md:text-5xl font-display font-bold text-white mb-6 leading-tight",children:["Where your story ",y.jsx("br",{})," ",y.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-neon-pink to-purple-600",children:"writes the rules."})]}),y.jsx("p",{className:"text-lg md:text-xl text-gray-400 font-light mb-10 leading-relaxed max-w-2xl",children:"Experience immersive roleplay driven by a serious community."})]}),y.jsxs(De.div,{variants:w,className:"flex flex-col sm:flex-row gap-6 w-full sm:w-auto",children:[y.jsxs("button",{className:"group relative px-8 py-4 bg-rush-600 hover:bg-rush-500 text-white font-display font-bold text-lg uppercase tracking-wider rounded-xl overflow-hidden shadow-[0_0_30px_rgba(217,70,239,0.3)] transition-all hover:scale-105 hover:shadow-[0_0_50px_rgba(217,70,239,0.5)] active:scale-95",children:[y.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent -translate-x-full group-hover:animate-shimmer"}),y.jsxs("span",{className:"flex items-center gap-3 relative z-10",children:[y.jsx(fP,{fill:"currentColor",size:20})," Play Now"]})]}),y.jsxs("button",{onClick:p,className:"group px-8 py-4 bg-white/5 backdrop-blur-md border border-white/10 text-white font-display font-bold text-lg uppercase tracking-wider rounded-xl hover:bg-white/10 hover:border-cyan-400/50 hover:text-cyan-400 transition-all hover:scale-105 active:scale-95 flex items-center gap-3",children:[t?y.jsx(PA,{size:20,className:"text-green-400"}):y.jsx(z6,{size:20}),y.jsx("span",{children:t?"IP Copied":"Copy IP Address"})]})]})]}),S&&y.jsx(De.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,ease:"easeOut",delay:.2},className:"lg:flex-1 w-full max-w-2xl relative z-20 perspective-1000",children:y.jsxs("div",{className:"relative p-[2px] rounded-3xl overflow-hidden group shadow-2xl shadow-neon-cyan/10",children:[y.jsx(De.div,{animate:{rotate:360},transition:{duration:8,repeat:1/0,ease:"linear"},className:"absolute inset-[-100%] bg-[conic-gradient(from_0deg,transparent_0_300deg,#00fff2_360deg)] opacity-70 will-change-transform"}),y.jsx(De.div,{animate:{rotate:-360},transition:{duration:8,repeat:1/0,ease:"linear"},className:"absolute inset-[-100%] bg-[conic-gradient(from_0deg,transparent_0_300deg,#d946ef_360deg)] opacity-70 will-change-transform mix-blend-screen"}),y.jsxs("div",{className:"relative rounded-[22px] bg-rush-950/90 backdrop-blur-xl overflow-hidden h-full border border-white/5",children:[y.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(rgba(18,16,16,0)_50%,rgba(0,0,0,0.2)_50%),linear-gradient(90deg,rgba(255,0,0,0.06),rgba(0,255,0,0.02),rgba(0,0,255,0.06))] will-change-transform from-transparent to-black bg-[length:100%_4px,3px_100%] pointer-events-none z-10 opacity-20"}),y.jsx("div",{className:"aspect-video w-full relative bg-black/50",children:v(n.videoUrl)?y.jsx("iframe",{className:"absolute inset-0 w-full h-full",src:v(n.videoUrl),title:n.videoTitle,allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowFullScreen:!0}):y.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center text-center p-6 text-gray-400",children:[y.jsx(Xw,{size:48,className:"mb-4 opacity-50"}),y.jsx("p",{className:"font-bold text-white mb-1",children:"Video Unavailable"}),y.jsx("p",{className:"text-xs",children:"Invalid URL or ID. Please check Admin settings."})]})}),y.jsxs("div",{className:"bg-black/90 backdrop-blur border-t border-white/5 p-5 flex items-center gap-4 relative z-20",children:[y.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-neon-cyan/20 to-neon-blue/10 flex items-center justify-center text-neon-cyan shrink-0 border border-neon-cyan/30 shadow-[0_0_15px_rgba(34,211,238,0.2)]",children:y.jsx(Xw,{size:22})}),y.jsxs("div",{className:"min-w-0",children:[y.jsx("h3",{className:"text-white font-bold text-lg leading-tight truncate font-display tracking-wide",children:n.videoTitle||"Featured Video"}),y.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[y.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-red-500 animate-pulse"}),y.jsx("p",{className:"text-gray-400 text-[10px] uppercase tracking-[0.2em] font-bold",children:"Live Transmission"})]})]}),y.jsxs("div",{className:"ml-auto flex gap-1 items-end h-6 opacity-60",children:[y.jsx(De.div,{animate:{height:[8,16,6,12]},transition:{repeat:1/0,duration:.5},className:"w-1 bg-neon-pink rounded-full"}),y.jsx(De.div,{animate:{height:[12,6,18,8]},transition:{repeat:1/0,duration:.7},className:"w-1 bg-neon-cyan rounded-full"}),y.jsx(De.div,{animate:{height:[6,14,8,16]},transition:{repeat:1/0,duration:.6},className:"w-1 bg-neon-purple rounded-full"})]})]})]})]})})]})}),y.jsxs(De.div,{style:{opacity:f},className:"absolute bottom-12 left-1/2 -translate-x-1/2 z-20 flex flex-col items-center gap-2 pointer-events-none",children:[y.jsx("span",{className:"text-[10px] font-bold uppercase tracking-[0.3em] text-white/50",children:"Scroll to Explore"}),y.jsx(De.div,{animate:{y:[0,8,0],opacity:[.5,1,.5]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:y.jsx(LA,{size:24,className:"text-neon-cyan"})})]})]})},Uz={car:y.jsx(jA,{size:32}),bank:y.jsx(VA,{size:32}),briefcase:y.jsx(I6,{size:32}),zap:y.jsx(hl,{size:32}),radio:y.jsx(FA,{size:32}),users:y.jsx(wl,{size:32}),shield:y.jsx(xl,{size:32}),crown:y.jsx(zA,{size:32}),link:y.jsx(W6,{size:32})},zz=()=>{const[t,e]=D.useState([]),[n,s]=D.useState(!0);return D.useEffect(()=>{(async()=>{try{const c=(await Us(ci(Mt,"server_features"))).docs.map(f=>({id:f.id,...f.data()}));e(c)}catch(l){console.error("Error fetching features:",l)}finally{s(!1)}})()},[]),y.jsxs("section",{id:"features",className:"py-32 bg-rush-950 relative overflow-hidden",children:[y.jsx("div",{className:"absolute top-0 right-0 w-1/2 h-1/2 bg-neon-pink/10 blur-[150px] rounded-full pointer-events-none"}),y.jsx("div",{className:"absolute bottom-0 left-0 w-1/2 h-1/2 bg-neon-cyan/10 blur-[150px] rounded-full pointer-events-none"}),y.jsx("div",{className:"absolute inset-0 bg-grid-pattern opacity-5 pointer-events-none"}),y.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:[y.jsx("div",{className:"text-center mb-24",children:y.jsxs(De.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},children:[y.jsx("h2",{className:"text-neon-cyan font-bold uppercase tracking-[0.3em] text-sm mb-4",children:"Why Choose Us"}),y.jsxs("h3",{className:"text-5xl md:text-6xl font-display font-bold text-white drop-shadow-[0_0_25px_rgba(255,255,255,0.1)]",children:["Server ",y.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-white to-gray-400",children:"Features"})]})]})}),n?y.jsx("div",{className:"text-center text-gray-400 animate-pulse",children:"Loading features..."}):t.length===0?y.jsxs("div",{className:"text-center text-gray-500 py-10 flex flex-col items-center",children:[y.jsx(Jd,{className:"mb-2 opacity-50",size:32}),y.jsx("p",{children:"No features listed yet."})]}):y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:t.map((a,l)=>y.jsxs(De.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{delay:l*.1,duration:.5},viewport:{once:!0},whileHover:{y:-10,rotateX:5,rotateY:5},className:"group relative bg-rush-900/40 backdrop-blur-md p-[1px] rounded-2xl overflow-hidden shadow-lg hover:shadow-neon-cyan/20 transition-all duration-500 perspective-1000",children:[y.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/10 to-transparent opacity-100 rounded-2xl p-[1px] group-hover:from-neon-pink group-hover:via-purple-500 group-hover:to-neon-cyan transition-colors duration-500"}),y.jsxs("div",{className:"relative h-full bg-rush-900/90 rounded-2xl p-8 overflow-hidden z-20",children:[y.jsx("div",{className:"absolute -top-20 -right-20 w-40 h-40 bg-neon-purple/20 blur-[60px] group-hover:bg-neon-pink/30 transition-all duration-700 rounded-full"}),y.jsx("div",{className:"absolute -bottom-20 -left-20 w-40 h-40 bg-neon-cyan/10 blur-[60px] group-hover:bg-neon-cyan/20 transition-all duration-700 rounded-full"}),y.jsxs("div",{className:"relative z-10 flex flex-col items-center text-center",children:[y.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-rush-800 to-rush-900 border border-white/10 rounded-2xl flex items-center justify-center text-neon-cyan mb-6 group-hover:scale-110 group-hover:rotate-6 group-hover:border-neon-cyan/50 group-hover:shadow-[0_0_30px_rgba(6,182,212,0.4)] transition-all duration-500",children:Uz[a.icon]||y.jsx(hl,{size:32})}),y.jsx("h4",{className:"text-2xl font-bold text-white mb-4 font-display tracking-wide group-hover:text-neon-cyan transition-colors duration-300",children:a.title}),y.jsx("p",{className:"text-gray-400 leading-relaxed text-sm group-hover:text-gray-200 transition-colors",children:a.description})]})]})]},a.id))})]})]})},Bz=[{id:"1",title:"Midnight Race",imageUrl:"https://picsum.photos/800/600?random=1",location:"Vinewood Hills",tags:["Racing","Night"],photographer:"SpeedDemon"},{id:"2",title:"LSPD Briefing",imageUrl:"https://picsum.photos/800/800?random=2",location:"Mission Row",tags:["Police","RP"],photographer:"Chief_W"},{id:"3",title:"Sunset Blvd",imageUrl:"https://picsum.photos/800/500?random=3",location:"Del Perro",tags:["Scenery"],photographer:"VibeCheck"},{id:"4",title:"Bank Heist",imageUrl:"https://picsum.photos/800/700?random=4",location:"Pacific Standard",tags:["Criminal"],photographer:"HeistMaster"},{id:"5",title:"Car Meet",imageUrl:"https://picsum.photos/800/600?random=5",location:"Terminal",tags:["Cars","Community"],photographer:"JDM_Lover"}],Fz=({isAdmin:t})=>{const[e,n]=D.useState(Bz),[s,a]=D.useState(!1),[l,c]=D.useState({}),f=_=>{confirm("Are you sure?")&&n(w=>w.filter(S=>S.id!==_))},m=_=>{if(_.preventDefault(),l.id)n(w=>w.map(S=>S.id===l.id?{...S,...l}:S));else{const w={id:Date.now().toString(),title:l.title||"Untitled",imageUrl:l.imageUrl||`https://picsum.photos/800/600?random=${Date.now()}`,location:l.location||"Unknown",tags:l.tags||[],photographer:l.photographer||"Admin"};n([w,...e])}a(!1),c({})},p=_=>{c(_),a(!0)},v=()=>{c({}),a(!0)};return y.jsxs("section",{id:"gallery",className:"py-32 bg-rush-950 relative overflow-hidden",children:[y.jsx("div",{className:"absolute top-1/4 left-0 w-1/3 h-1/3 bg-neon-pink/5 blur-[120px] rounded-full pointer-events-none"}),y.jsx("div",{className:"absolute bottom-1/4 right-0 w-1/3 h-1/3 bg-neon-cyan/5 blur-[120px] rounded-full pointer-events-none"}),y.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:[y.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-end mb-16 gap-4",children:[y.jsxs("div",{children:[y.jsx("h2",{className:"text-neon-cyan font-bold uppercase tracking-[0.3em] text-sm mb-3",children:"Moments"}),y.jsx("h3",{className:"text-5xl font-display font-bold text-white drop-shadow-[0_0_10px_rgba(255,255,255,0.2)]",children:"City Gallery"})]}),t&&y.jsxs("button",{onClick:v,className:"flex items-center gap-2 bg-rush-900 border border-neon-cyan/50 text-neon-cyan hover:bg-neon-cyan hover:text-black px-6 py-3 rounded-lg font-bold uppercase tracking-wider text-sm transition-all shadow-[0_0_15px_rgba(6,182,212,0.2)] hover:shadow-[0_0_25px_rgba(6,182,212,0.4)]",children:[y.jsx(Jo,{size:18})," Add Photo"]})]}),y.jsx("div",{className:"columns-1 md:columns-2 lg:columns-3 gap-6 space-y-6",children:e.map(_=>y.jsxs(De.div,{layout:!0,initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"break-inside-avoid relative group rounded-2xl overflow-hidden bg-rush-900/40 backdrop-blur-md border border-white/5 hover:border-neon-pink/50 transition-all duration-500 hover:shadow-[0_0_30px_rgba(217,70,239,0.15)]",children:[y.jsx("img",{src:_.imageUrl,alt:_.title,className:"w-full h-auto object-cover transform group-hover:scale-105 transition-transform duration-700"}),y.jsxs("div",{className:"absolute inset-0 bg-gradient-to-t from-rush-950 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex flex-col justify-end p-6",children:[y.jsx("h4",{className:"text-white font-bold text-2xl font-display tracking-wide drop-shadow-md",children:_.title}),y.jsxs("div",{className:"flex items-center gap-4 text-gray-300 text-xs font-bold uppercase tracking-wider mt-2",children:[y.jsxs("span",{className:"flex items-center gap-1 text-neon-cyan",children:[y.jsx(rP,{size:14})," ",_.location]}),y.jsxs("span",{className:"flex items-center gap-1 text-neon-pink",children:[y.jsx(OA,{size:14})," ",_.photographer]})]}),y.jsx("div",{className:"flex gap-2 mt-4 flex-wrap",children:_.tags.map(w=>y.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest bg-white/10 border border-white/10 px-3 py-1 rounded-full text-white",children:w},w))}),t&&y.jsxs("div",{className:"absolute top-4 right-4 flex gap-2",children:[y.jsx("button",{onClick:()=>p(_),className:"p-2 bg-rush-900/80 backdrop-blur text-blue-400 rounded-lg hover:bg-blue-500 hover:text-white transition-all border border-white/10",children:y.jsx(Wo,{size:16})}),y.jsx("button",{onClick:()=>f(_.id),className:"p-2 bg-rush-900/80 backdrop-blur text-red-400 rounded-lg hover:bg-red-500 hover:text-white transition-all border border-white/10",children:y.jsx(bP,{size:16})})]})]})]},_.id))})]}),y.jsx(Ws,{children:s&&y.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/80 backdrop-blur-sm p-4",children:y.jsxs(De.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-rush-900 border border-white/10 rounded-xl p-6 w-full max-w-lg",children:[y.jsx("h3",{className:"text-2xl font-bold text-white mb-6",children:l.id?"Edit Photo":"Add Photo"}),y.jsxs("form",{onSubmit:m,className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Title"}),y.jsx("input",{type:"text",value:l.title||"",onChange:_=>c({...l,title:_.target.value}),className:"w-full bg-black/50 border border-white/10 rounded p-2 text-white focus:border-rush-500 outline-none",required:!0})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Image URL"}),y.jsx("input",{type:"url",value:l.imageUrl||"",onChange:_=>c({...l,imageUrl:_.target.value}),className:"w-full bg-black/50 border border-white/10 rounded p-2 text-white focus:border-rush-500 outline-none",placeholder:"https://...",required:!0})]}),y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Location"}),y.jsx("input",{type:"text",value:l.location||"",onChange:_=>c({...l,location:_.target.value}),className:"w-full bg-black/50 border border-white/10 rounded p-2 text-white focus:border-rush-500 outline-none"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Photographer"}),y.jsx("input",{type:"text",value:l.photographer||"",onChange:_=>c({...l,photographer:_.target.value}),className:"w-full bg-black/50 border border-white/10 rounded p-2 text-white focus:border-rush-500 outline-none"})]})]}),y.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[y.jsx("button",{type:"button",onClick:()=>a(!1),className:"px-4 py-2 text-gray-400 hover:text-white",children:"Cancel"}),y.jsx("button",{type:"submit",className:"px-6 py-2 bg-rush-500 text-black font-bold rounded hover:bg-rush-600",children:"Save"})]})]})]})})})]})},Hz=()=>{const[t,e]=D.useState([]),[n,s]=D.useState(!0),[a,l]=D.useState(null);D.useEffect(()=>{(async()=>{try{const p=ej(ci(Mt,"staff_members")),_=(await Us(p)).docs.map(w=>({id:w.id,...w.data()}));_.sort((w,S)=>(w.order||99)-(S.order||99)),e(_)}catch(p){console.error("Error fetching staff:",p)}finally{s(!1)}})()},[]);const c={"Head of Administration":t.filter(m=>m.category==="Head of Administration"),Management:t.filter(m=>m.category==="Management"),Developer:t.filter(m=>m.category==="Developer"),Staff:t.filter(m=>m.category==="Staff"||!m.category)},f=["Management","Head of Administration","Developer","Staff"];return y.jsxs("section",{id:"staff",className:"py-32 bg-rush-950 relative overflow-hidden",children:[y.jsx("div",{className:"absolute top-0 right-0 w-[500px] h-[500px] bg-neon-cyan/5 blur-[150px] rounded-full pointer-events-none"}),y.jsx("div",{className:"absolute bottom-0 left-0 w-[500px] h-[500px] bg-neon-pink/5 blur-[150px] rounded-full pointer-events-none"}),y.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:[y.jsx("div",{className:"text-center mb-24",children:y.jsxs(De.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},children:[y.jsx("span",{className:"text-neon-cyan font-bold uppercase tracking-[0.3em] text-xs mb-4 block",children:"Meet the Team"}),y.jsxs("h2",{className:"text-5xl md:text-6xl font-display font-bold text-white mb-6",children:["The ",y.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-white to-gray-500",children:"Architects"})]}),y.jsx("p",{className:"text-gray-400 max-w-2xl mx-auto leading-relaxed",children:"The passionate individuals behind the scenes, dedicated to crafting the ultimate roleplay experience."})]})}),n?y.jsx("div",{className:"flex justify-center items-center py-20",children:y.jsx(Z6,{className:"animate-spin text-neon-cyan",size:48})}):y.jsx("div",{className:"space-y-24",children:f.map(m=>{const p=c[m];return p.length===0?null:y.jsxs("div",{className:"relative",children:[y.jsxs("h3",{className:"text-2xl font-display font-bold text-white mb-10 pl-6 border-l-4 border-neon-cyan/50 flex items-center gap-3",children:[m," ",y.jsx("span",{className:"text-sm font-sans font-normal text-gray-500 bg-white/5 px-2 py-0.5 rounded-full",children:p.length})]}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:p.map(v=>y.jsxs(De.div,{whileHover:{y:-5},onClick:()=>l(v),className:"group relative bg-rush-900/40 backdrop-blur-md border border-white/5 rounded-2xl p-6 cursor-pointer hover:border-white/20 transition-all duration-300 overflow-hidden",children:[y.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-neon-pink/0 to-neon-cyan/0 group-hover:from-neon-pink/5 group-hover:to-neon-cyan/5 transition-all duration-500"}),y.jsxs("div",{className:"relative z-10 flex flex-col items-center text-center",children:[y.jsxs("div",{className:"w-24 h-24 rounded-full p-1 mb-4 relative",children:[y.jsx("div",{className:"absolute inset-0 rounded-full border border-white/10 group-hover:border-neon-cyan/50 transition-colors duration-300"}),y.jsx("img",{src:v.avatarUrl||"https://via.placeholder.com/150",alt:v.name,className:"w-full h-full rounded-full object-cover"}),v.color&&y.jsx("div",{className:"absolute bottom-1 right-1 w-4 h-4 rounded-full border-2 border-rush-950",style:{backgroundColor:v.color}})]}),y.jsx("h4",{className:"text-lg font-bold text-white group-hover:text-neon-cyan transition-colors",children:v.name}),y.jsx("p",{className:"text-sm text-gray-400 mt-1 mb-4 flex-grow line-clamp-2 px-2",children:v.bio||`A valued member of the ${m} team.`}),v.discord&&y.jsx("div",{className:"mt-auto pt-4 w-full border-t border-white/5",children:y.jsxs("div",{className:"flex items-center justify-center gap-2 text-xs font-bold uppercase tracking-wider text-gray-500 group-hover:text-white transition-colors",children:[y.jsx(bl,{size:12}),y.jsx("span",{children:v.discord})]})})]})]},v.id))})]},m)})})]}),y.jsx(Ws,{children:a&&y.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/90 backdrop-blur-md",onClick:()=>l(null),children:y.jsxs(De.div,{initial:{scale:.95,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.95,opacity:0,y:20},onClick:m=>m.stopPropagation(),className:"w-full max-w-2xl bg-rush-900 border border-white/10 rounded-3xl overflow-hidden shadow-2xl relative",children:[y.jsx("div",{className:"absolute top-0 right-0 w-full h-48 bg-gradient-to-b from-white/5 to-transparent pointer-events-none"}),y.jsx("button",{onClick:()=>l(null),className:"absolute top-6 right-6 p-2 rounded-full bg-black/20 hover:bg-white/10 text-gray-400 hover:text-white transition-colors z-20",children:y.jsx(cl,{size:20})}),y.jsxs("div",{className:"flex flex-col md:flex-row",children:[y.jsxs("div",{className:"md:w-2/5 p-8 flex flex-col items-center justify-center border-b md:border-b-0 md:border-r border-white/5 bg-black/20 relative",children:[y.jsxs("div",{className:"w-40 h-40 rounded-full p-2 border-2 border-white/5 shadow-2xl mb-6 relative group",children:[y.jsx("div",{className:"absolute inset-0 rounded-full blur opacity-20 group-hover:opacity-40 transition-opacity duration-500",style:{backgroundColor:a.color||"#fff"}}),y.jsx("img",{src:a.avatarUrl||"https://via.placeholder.com/150",alt:a.name,className:"w-full h-full rounded-full object-cover relative z-10"})]}),y.jsx("h3",{className:"text-2xl font-display font-bold text-white text-center",children:a.name}),y.jsx("span",{className:"mt-2 px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wider bg-white/5 border border-white/10",style:{color:a.color||"white",borderColor:`${a.color}30`},children:a.category})]}),y.jsx("div",{className:"md:w-3/5 p-8 md:p-10 flex flex-col justify-center",children:y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{children:[y.jsxs("h4",{className:"text-sm font-bold uppercase tracking-widest text-gray-500 mb-3 flex items-center gap-2",children:[y.jsx(bc,{size:14,className:"text-neon-cyan"})," Biography"]}),y.jsx("p",{className:"text-gray-300 leading-relaxed text-sm",children:a.bio||"This staff member hasn't written a biography yet, but they are an essential part of our community operations."})]}),a.discord&&y.jsxs("div",{children:[y.jsxs("h4",{className:"text-sm font-bold uppercase tracking-widest text-gray-500 mb-3 flex items-center gap-2",children:[y.jsx(bl,{size:14,className:"text-neon-pink"})," Contact"]}),y.jsxs("div",{className:"bg-white/5 rounded-xl p-4 border border-white/5 flex items-center justify-between group cursor-pointer hover:bg-white/10 transition-colors",children:[y.jsx("span",{className:"text-white font-mono text-sm",children:a.discord}),y.jsx("span",{className:"text-xs text-gray-500 uppercase font-bold group-hover:text-white transition-colors",children:"Discord"})]})]}),y.jsx("div",{className:"pt-6 border-t border-white/5 flex gap-4"})]})})]})]})})})]})},qz={MessageSquare:y.jsx(bl,{}),BookOpen:y.jsx(_c,{}),Heart:y.jsx(BA,{}),AlertTriangle:y.jsx(Jd,{}),Shield:y.jsx(xl,{}),Users:y.jsx(wl,{}),Gavel:y.jsx(Z0,{})},Gz=()=>{const[t,e]=D.useState("rules"),[n,s]=D.useState([]),[a,l]=D.useState([]),[c,f]=D.useState(""),[m,p]=D.useState(null),[v,_]=D.useState(null);D.useEffect(()=>{(async()=>{try{const O=await Us(ci(Mt,"server_rules"));s(O.docs.map(G=>({id:G.id,...G.data()})));const B=await Us(ci(Mt,"rp_guidelines"));l(B.docs.map(G=>({id:G.id,...G.data()})))}catch(O){console.error("Error fetching rules/guidelines:",O),_(O.message||"Failed to load rules.")}})()},[]);const w=M=>{p(m===M?null:M)},S=n.filter(M=>M.title.toLowerCase().includes(c.toLowerCase())||M.description.toLowerCase().includes(c.toLowerCase())||M.category.toLowerCase().includes(c.toLowerCase())),N=a.filter(M=>M.title.toLowerCase().includes(c.toLowerCase())||M.text.toLowerCase().includes(c.toLowerCase()));return y.jsxs("section",{id:"rules",className:"py-24 md:py-32 bg-rush-950 relative overflow-hidden",children:[y.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[url('https://www.transparenttextures.com/patterns/cubes.png')] opacity-5 pointer-events-none"}),y.jsx("div",{className:"absolute bottom-0 right-0 w-2/3 h-2/3 bg-neon-pink/5 blur-[150px] rounded-full pointer-events-none"}),y.jsx("div",{className:"absolute top-20 left-20 w-96 h-96 bg-neon-cyan/5 blur-[100px] rounded-full pointer-events-none"}),y.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:[y.jsxs("div",{className:"text-center mb-16",children:[y.jsx(De.h2,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-neon-cyan font-bold uppercase tracking-[0.3em] text-xs md:text-sm mb-3",children:"Rules & Standards"}),y.jsxs(De.h3,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.1},className:"text-4xl md:text-6xl font-display font-bold text-white mb-10 drop-shadow-[0_0_15px_rgba(255,255,255,0.1)]",children:["City ",y.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-neon-pink to-purple-500",children:"Rules"})]}),y.jsxs("div",{className:"inline-flex bg-rush-900/80 backdrop-blur-sm p-1.5 rounded-xl border border-white/10 shadow-xl",children:[y.jsx("button",{onClick:()=>e("rules"),className:`px-10 py-3 rounded-lg text-sm font-bold uppercase tracking-wider transition-all duration-300 ${t==="rules"?"bg-gradient-to-r from-neon-pink to-rush-600 text-white shadow-lg shadow-neon-pink/25":"text-gray-400 hover:text-white hover:bg-white/5"}`,children:"Rules"}),y.jsx("button",{onClick:()=>e("guidelines"),className:`px-10 py-3 rounded-lg text-sm font-bold uppercase tracking-wider transition-all duration-300 ${t==="guidelines"?"bg-gradient-to-r from-neon-cyan to-blue-600 text-white shadow-lg shadow-neon-cyan/25":"text-gray-400 hover:text-white hover:bg-white/5"}`,children:"Guidelines"})]})]}),y.jsxs("div",{className:"bg-rush-900/60 backdrop-blur-xl border border-white/10 rounded-3xl p-6 md:p-12 min-h-[500px] shadow-2xl relative overflow-hidden",children:[y.jsx("div",{className:"absolute inset-0 bg-grid-pattern opacity-5 pointer-events-none rounded-3xl"}),y.jsx(Ws,{mode:"wait",children:v?y.jsxs("div",{className:"text-center text-red-400 py-20",children:[y.jsx(Jd,{size:48,className:"mb-4 mx-auto"}),y.jsx("p",{className:"text-xl font-bold",children:"Error loading content"}),y.jsx("p",{className:"text-sm opacity-70 mt-2",children:v}),y.jsx("p",{className:"text-sm mt-4 text-gray-400",children:"Please check your database permissions."})]}):t==="rules"?y.jsx(De.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"space-y-4",children:S.length===0?y.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-gray-500",children:[y.jsx(Z0,{size:48,className:"mb-4 opacity-50"}),y.jsx("p",{children:"No rules established yet."})]}):y.jsx("div",{className:"grid grid-cols-1 gap-4",children:S.map((M,O)=>y.jsxs(De.div,{layout:!0,initial:{opacity:0,scale:1},animate:{opacity:1},whileHover:{scale:1.01},onClick:()=>w(M.id),className:`cursor-pointer flex flex-col p-6 md:p-8 bg-black/20 border ${m===M.id?"border-neon-pink bg-white/5":"border-white/5"} hover:bg-white/5 transition-all duration-300 rounded-2xl group relative overflow-hidden`,children:[y.jsxs("div",{className:"flex items-center justify-between w-full",children:[y.jsxs("div",{className:"flex items-center gap-6",children:[y.jsx("span",{className:`font-display font-bold text-3xl transition-all inline-block min-w-[3ch] ${m===M.id?"text-neon-pink scale-110":"text-neon-pink/50 group-hover:text-neon-pink"}`,children:O<9?`0${O+1}`:O+1}),y.jsxs("div",{children:[y.jsx("div",{className:"flex items-center gap-3 mb-1",children:y.jsx("span",{className:"text-[10px] uppercase tracking-widest font-bold bg-white/5 text-gray-300 px-3 py-1 rounded-full border border-white/10",children:M.category})}),y.jsx("h4",{className:"text-white font-bold text-xl",children:M.title})]})]}),y.jsx("div",{className:`text-gray-400 transition-transform duration-300 ${m===M.id?"rotate-180 text-neon-pink":""}`,children:m===M.id?y.jsx(UA,{size:24}):y.jsx(LA,{size:24})})]}),y.jsx(Ws,{children:m===M.id&&y.jsx(De.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"overflow-hidden",children:y.jsx("div",{className:"pt-6 mt-6 border-t border-white/10",children:y.jsx("p",{className:"text-gray-300 text-base leading-relaxed pl-[4.5rem]",children:M.description})})})})]},M.id))})},"rules"):y.jsx(De.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:N.length===0?y.jsxs("div",{className:"col-span-1 md:col-span-2 flex flex-col items-center justify-center py-20 text-gray-500",children:[y.jsx(_c,{size:48,className:"mb-4 opacity-50"}),y.jsx("p",{children:"No guidelines established yet."})]}):N.map((M,O)=>{const B=qz[M.icon]||y.jsx(bl,{});return y.jsxs(De.div,{layout:!0,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},whileHover:{scale:1.03,y:-5},transition:{delay:O*.05},className:"bg-black/30 p-8 rounded-2xl border border-white/5 hover:border-neon-cyan/50 transition-all duration-300 group shadow-lg hover:shadow-[0_10px_40px_-10px_rgba(6,182,212,0.2)] relative overflow-hidden",children:[y.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-5 group-hover:opacity-10 transition-opacity transform group-hover:scale-125 duration-500",children:qg.cloneElement(B,{size:100})}),y.jsx("div",{className:"w-14 h-14 rounded-2xl bg-gradient-to-br from-rush-800 to-black text-neon-cyan flex items-center justify-center mb-6 border border-white/10 group-hover:border-neon-cyan group-hover:text-white group-hover:bg-neon-cyan transition-all duration-300 shadow-lg relative z-10",children:qg.cloneElement(B,{size:28})}),y.jsx("h4",{className:"text-xl font-bold text-white mb-3 font-display tracking-wide group-hover:text-neon-cyan transition-colors relative z-10",children:M.title}),y.jsx("p",{className:"text-gray-400 text-sm leading-relaxed group-hover:text-gray-300 relative z-10",children:M.text})]},M.id)})},"guidelines")})]})]})]})},$z=()=>y.jsxs("footer",{className:"bg-rush-950 border-t border-white/5 py-16 relative overflow-hidden",children:[y.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-1/2 h-[1px] bg-gradient-to-r from-transparent via-neon-cyan/50 to-transparent"}),y.jsx("div",{className:"absolute bottom-0 left-0 w-full h-[200px] bg-gradient-to-t from-black to-transparent opacity-80 pointer-events-none"}),y.jsxs("div",{className:"max-w-7xl mx-auto px-4 text-center relative z-10",children:[y.jsx("div",{className:"mb-8",children:y.jsxs("span",{className:"font-display font-bold text-3xl tracking-tighter uppercase text-white drop-shadow-[0_0_15px_rgba(255,255,255,0.3)]",children:["Rush Hour ",y.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-neon-pink to-rush-500",children:"RP"})]})}),y.jsxs("div",{className:"flex justify-center flex-wrap gap-8 mb-10 text-gray-400 text-sm font-bold uppercase tracking-wider",children:[y.jsx("a",{href:"#",className:"hover:text-white hover:drop-shadow-[0_0_10px_rgba(255,255,255,0.5)] transition-all",children:"Discord"}),y.jsx("a",{href:"#",className:"hover:text-white hover:drop-shadow-[0_0_10px_rgba(255,255,255,0.5)] transition-all",children:"Tebex Store"}),y.jsx("a",{href:"#",className:"hover:text-white hover:drop-shadow-[0_0_10px_rgba(255,255,255,0.5)] transition-all",children:"Rules"}),y.jsx("a",{href:"#",className:"hover:text-white hover:drop-shadow-[0_0_10px_rgba(255,255,255,0.5)] transition-all",children:"Ban Appeal"})]}),y.jsxs("div",{className:"flex flex-col items-center gap-4",children:[y.jsx("div",{className:"px-4 py-1.5 rounded-full bg-white/5 border border-white/10 text-[10px] font-bold uppercase tracking-widest text-gray-400 hover:text-white hover:border-white/20 transition-all cursor-default",children:"Created by Vexel Studios"}),y.jsxs("p",{className:"text-gray-600 text-xs tracking-wide",children:[" ",new Date().getFullYear()," Rush Hour Roleplay. All rights reserved."]}),y.jsx("p",{className:"text-gray-700 text-[10px] uppercase tracking-widest",children:"Not affiliated with Rockstar Games"})]})]})]}),Kz=["Management","Head of Administration","Developer","Staff"],Of=[{label:"Message",value:"MessageSquare",icon:bl},{label:"Book",value:"BookOpen",icon:_c},{label:"Heart",value:"Heart",icon:BA},{label:"Warning",value:"AlertTriangle",icon:Jd},{label:"Shield",value:"Shield",icon:xl},{label:"Users",value:"Users",icon:wl},{label:"Gavel",value:"Gavel",icon:Z0},{label:"Car",value:"car",icon:jA},{label:"Briefcase",value:"briefcase",icon:wl},{label:"Zap",value:"zap",icon:hl},{label:"Radio",value:"radio",icon:FA},{label:"Bank",value:"bank",icon:VA},{label:"Crown",value:"crown",icon:zA}],Yz=()=>{var Pi,nr;const[t,e]=D.useState("overview"),n=Nd(),[s,a]=D.useState([]),[l,c]=D.useState([]),[f,m]=D.useState([]),[p,v]=D.useState([]),[_,w]=D.useState([]),[S,N]=D.useState({displayName:"",photoURL:""}),[M,O]=D.useState(null),[B,G]=D.useState(!1),[F,oe]=D.useState(null),[re,ce]=D.useState(!1),[C,A]=D.useState(null),[I,P]=D.useState(null),[k,z]=D.useState({}),[V,Qe]=D.useState(null),[ut,J]=D.useState(null),[ae,de]=D.useState(!1),[Te,Pe]=D.useState({videoUrl:"",videoTitle:"",isVisible:!1}),[L,te]=D.useState(!1);D.useEffect(()=>{const Y=async()=>{try{wn.currentUser&&N({displayName:wn.currentUser.displayName||"",photoURL:wn.currentUser.photoURL||""});const le=await Us(ci(Mt,"server_rules"));c(le.docs.map(wt=>({id:wt.id,...wt.data()})));const xe=await Us(ci(Mt,"rp_guidelines"));m(xe.docs.map(wt=>({id:wt.id,...wt.data()})));const Se=await Us(ci(Mt,"server_features"));w(Se.docs.map(wt=>({id:wt.id,...wt.data()})));const $e=await Us(ci(Mt,"staff_members"));a($e.docs.map(wt=>({id:wt.id,...wt.data()})));const so=await Us(ci(Mt,"gallery_items"));v(so.docs.map(wt=>({id:wt.id,...wt.data()})));const Wt=await pA(rs(Mt,"site_settings","hero"));Wt.exists()&&Pe(Wt.data())}catch(le){console.error("Error fetching data:",le)}};wn.currentUser&&Y()},[wn.currentUser]),D.useEffect(()=>{wn.currentUser||n("/")},[n]);const he=async()=>{await wn.signOut(),n("/")},me=()=>{n("/")},Ee=async(Y,le)=>{const xe=m6(x6,le),Se=await f6(xe,Y);return await d6(Se.ref)},Me=async()=>{if(!confirm("This will populate default server data. Existing duplicates might be created. Continue?"))return;const Y=[{category:"General",title:"Respect & Toxicity",description:"Treat everyone with respect. Toxicity, harassment, and hate speech are strictly prohibited."},{category:"Combat",title:"No RDM (Random Deathmatch)",description:"Attacking another player without a valid roleplay reason is forbidden."}],le=[{title:"Custom Vehicles",description:"Over 300+ custom imported vehicles with realistic handling files, custom sounds, and modifications.",icon:"car"},{title:"Player Economy",description:"A deeply immersive, player-driven economy. Own businesses, manage stock, set prices, and dominate the market.",icon:"bank"},{title:"Whitelisted Jobs",description:"Join the LSPD, EMS, or DOJ. Rise through the ranks with realistic SOPs and progression systems.",icon:"briefcase"},{title:"Optimized Core",description:"Experience silky smooth gameplay with our custom-built core, ensuring high FPS and low latency.",icon:"zap"},{title:"Immersive Audio",description:"High fidelity 3D voice chat with radio filters, phone integration, and spatially accurate sound.",icon:"radio"},{title:"Active Community",description:"Daily events, friendly staff, and a welcoming community dedicated to serious roleplay.",icon:"users"}];try{if(l.length===0){const xe=ci(Mt,"server_rules");for(const Se of Y)await Tg(xe,Se)}if(_.length===0){const xe=ci(Mt,"server_features");for(const Se of le)await Tg(xe,Se)}alert("Data seeding complete! Refreshing..."),window.location.reload()}catch(xe){console.error("Error seeding data:",xe),alert("Failed to seed data. Check console.")}},Ce=(Y,le)=>{A(Y),P(le||null),z(le||{}),Qe(null),J(null),ce(!0)},_t=()=>{ce(!1),A(null),P(null),z({}),Qe(null),J(null)},ht=async Y=>{Y.preventDefault(),de(!0);try{let le={...k};if(C==="gallery"&&V){const Se=await Ee(V,`gallery/${Date.now()}_${V.name}`);le.imageUrl=Se}if(C==="staff"&&V){const Se=await Ee(V,`staff/${Date.now()}_${V.name}`);le.avatarUrl=Se}const xe=C==="rule"?"server_rules":C==="guideline"?"rp_guidelines":C==="feature"?"server_features":C==="staff"?"staff_members":C==="gallery"?"gallery_items":null;if(xe)if(I)await ij(rs(Mt,xe,I.id),le),C==="rule"&&c(Se=>Se.map($e=>$e.id===I.id?{...le,id:$e.id}:$e)),C==="guideline"&&m(Se=>Se.map($e=>$e.id===I.id?{...le,id:$e.id}:$e)),C==="feature"&&w(Se=>Se.map($e=>$e.id===I.id?{...le,id:$e.id}:$e)),C==="staff"&&a(Se=>Se.map($e=>$e.id===I.id?{...le,id:$e.id}:$e)),C==="gallery"&&v(Se=>Se.map($e=>$e.id===I.id?{...le,id:$e.id}:$e));else{const Se=await Tg(ci(Mt,xe),le);C==="rule"&&c($e=>[...$e,{...le,id:Se.id}]),C==="guideline"&&m($e=>[...$e,{...le,id:Se.id}]),C==="feature"&&w($e=>[...$e,{...le,id:Se.id}]),C==="staff"&&a($e=>[...$e,{...le,id:Se.id}]),C==="gallery"&&v($e=>[...$e,{...le,id:Se.id}])}_t()}catch(le){console.error("Error saving item:",le),alert("Failed to save item. See console for details.")}finally{de(!1)}},On=async(Y,le)=>{if(confirm("Are you sure you want to delete this item?"))try{Y==="rule"?(await zu(rs(Mt,"server_rules",le)),c(xe=>xe.filter(Se=>Se.id!==le))):Y==="guideline"?(await zu(rs(Mt,"rp_guidelines",le)),m(xe=>xe.filter(Se=>Se.id!==le))):Y==="feature"?(await zu(rs(Mt,"server_features",le)),w(xe=>xe.filter(Se=>Se.id!==le))):Y==="staff"?(await zu(rs(Mt,"staff_members",le)),a(xe=>xe.filter(Se=>Se.id!==le))):Y==="gallery"&&(await zu(rs(Mt,"gallery_items",le)),v(xe=>xe.filter(Se=>Se.id!==le)))}catch(xe){console.error("Error deleting item:",xe),alert("Failed to delete item.")}},Zs=async Y=>{if(Y.preventDefault(),!!wn.currentUser){G(!0);try{let le=S.photoURL;M&&(le=await Ee(M,`profiles/${wn.currentUser.uid}_${Date.now()}`)),await _3(wn.currentUser,{displayName:S.displayName,photoURL:le}),N(xe=>({...xe,photoURL:le})),alert("Profile updated successfully!"),O(null),oe(null)}catch(le){console.error("Error updating profile:",le),alert("Failed to update profile.")}finally{G(!1)}}},er=Y=>{if(Y.target.files&&Y.target.files[0]){const le=Y.target.files[0];O(le),oe(URL.createObjectURL(le))}},vs=Y=>{if(Y.target.files&&Y.target.files[0]){const le=Y.target.files[0];Qe(le),J(URL.createObjectURL(le))}},Qn=async Y=>{Y.preventDefault(),te(!0);try{await nj(rs(Mt,"site_settings","hero"),Te),alert("Hero settings saved successfully!")}catch(le){console.error("Error saving hero settings:",le),alert("Failed to save settings.")}finally{te(!1)}},tr=[{id:"overview",label:"Overview",icon:y.jsx(Q6,{size:20})},{id:"settings",label:"Site Settings",icon:y.jsx(Jw,{size:20})},{id:"profile",label:"My Profile",icon:y.jsx(bc,{size:20})},{id:"features",label:"Features",icon:y.jsx(hl,{size:20})},{id:"staff",label:"Staff Team",icon:y.jsx(wl,{size:20})},{id:"rules",label:"Server Rules",icon:y.jsx(_c,{size:20})},{id:"guidelines",label:"RP Guidelines",icon:y.jsx(Qw,{size:20})},{id:"gallery",label:"Gallery",icon:y.jsx(Ag,{size:20})}];return y.jsxs("div",{className:"min-h-screen bg-rush-950 flex font-sans text-white bg-[url('https://www.transparenttextures.com/patterns/carbon-fibre.png')]",children:[y.jsxs("aside",{className:"w-80 bg-rush-900/90 backdrop-blur-xl border-r border-white/5 flex flex-col fixed h-full z-30 shadow-2xl",children:[y.jsxs("div",{className:"p-8 border-b border-white/5 flex items-center gap-3",children:[y.jsx("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-neon-pink to-purple-600 flex items-center justify-center shadow-lg shadow-neon-pink/20",children:y.jsx(xl,{className:"text-white",size:24})}),y.jsxs("div",{children:[y.jsx("h1",{className:"font-display font-bold text-2xl tracking-wide text-white leading-none",children:"RUSH HOUR"}),y.jsx("span",{className:"text-neon-cyan text-xs font-bold uppercase tracking-[0.2em]",children:"Admin Panel"})]})]}),y.jsxs("nav",{className:"flex-1 p-4 space-y-2 overflow-y-auto custom-scrollbar",children:[y.jsx("div",{className:"text-xs font-bold uppercase tracking-widest text-gray-500 px-4 py-2 mt-4 mb-2",children:"Menu"}),tr.map(Y=>y.jsxs("button",{onClick:()=>e(Y.id),className:`w-full flex items-center justify-between px-4 py-3.5 rounded-xl transition-all duration-300 group relative overflow-hidden ${t===Y.id?"bg-white/5 text-white shadow-inner":"text-gray-400 hover:text-white hover:bg-white/5"}`,children:[y.jsxs("div",{className:"flex items-center gap-3 relative z-10",children:[y.jsx("span",{className:`${t===Y.id?"text-neon-pink":"text-gray-500 group-hover:text-white transition-colors"}`,children:Y.icon}),y.jsx("span",{className:"font-medium tracking-wide",children:Y.label})]}),t===Y.id&&y.jsx(De.div,{layoutId:"activeTabIndicator",className:"w-1 h-6 bg-neon-pink rounded-full absolute left-0 top-1/2 -translate-y-1/2"}),t===Y.id&&y.jsx(Yw,{size:16,className:"text-gray-500"})]},Y.id))]}),y.jsxs("div",{className:"p-4 border-t border-white/5 space-y-2",children:[y.jsxs("button",{onClick:me,className:"w-full flex items-center gap-3 px-4 py-3.5 rounded-xl text-gray-400 hover:bg-white/5 hover:text-white transition-all group",children:[y.jsx($6,{size:20,className:"group-hover:-translate-x-1 transition-transform"}),y.jsx("span",{className:"font-bold tracking-wide text-sm",children:"Return to Website"})]}),y.jsxs("button",{onClick:he,className:"w-full flex items-center gap-3 px-4 py-3.5 rounded-xl text-red-400 hover:bg-red-500/10 hover:text-red-300 transition-all border border-transparent hover:border-red-500/20 group",children:[y.jsx(xy,{size:20,className:"group-hover:-translate-x-1 transition-transform"}),y.jsx("span",{className:"font-bold tracking-wide text-sm",children:"Sign Out"})]})]})]}),y.jsxs("main",{className:"flex-1 ml-80 relative overflow-hidden flex flex-col min-h-screen",children:[y.jsxs("header",{className:"h-20 bg-rush-900/50 backdrop-blur-md border-b border-white/5 flex items-center justify-between px-8 sticky top-0 z-20",children:[y.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[y.jsx("span",{className:"hover:text-white cursor-pointer transition-colors",onClick:()=>e("overview"),children:"Admin"}),y.jsx(Yw,{size:14}),y.jsx("span",{className:"text-white font-medium capitalize",children:(Pi=tr.find(Y=>Y.id===t))==null?void 0:Pi.label})]}),y.jsx("div",{className:"flex items-center gap-6",children:y.jsxs("div",{className:"flex items-center gap-3 pl-2",children:[y.jsxs("div",{className:"text-right hidden sm:block",children:[y.jsx("p",{className:"text-sm font-bold text-white leading-tight",children:S.displayName||"Admin User"}),y.jsx("p",{className:"text-xs text-neon-cyan font-medium",children:"Logged In"})]}),y.jsx("div",{className:"w-10 h-10 rounded-full border-2 border-white/10 overflow-hidden relative",children:y.jsx("img",{src:S.photoURL||"https://via.placeholder.com/150",alt:"Profile",className:"w-full h-full object-cover"})})]})})]}),y.jsxs("div",{className:"flex-1 p-8 md:p-12 overflow-y-auto relative",children:[y.jsx("div",{className:"absolute top-0 right-0 w-[500px] h-[500px] bg-neon-cyan/5 blur-[150px] rounded-full pointer-events-none"}),y.jsx("div",{className:"absolute bottom-0 left-0 w-[500px] h-[500px] bg-neon-pink/5 blur-[150px] rounded-full pointer-events-none"}),y.jsx("div",{className:"max-w-7xl mx-auto relative z-10",children:y.jsx(Ws,{mode:"wait",children:y.jsxs(De.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},children:[t==="overview"&&y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"mb-8",children:[y.jsxs("h2",{className:"text-3xl font-display font-bold text-white mb-2",children:["Welcome Back, ",S.displayName.split(" ")[0]||"Admin"]}),y.jsx("p",{className:"text-gray-400",children:"Here's what's happening in your city today."})]}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[{label:"Total Features",value:_.length,icon:hl,color:"text-orange-400",bg:"bg-orange-400/10",border:"border-orange-400/20"},{label:"Active Rules",value:l.length,icon:_c,color:"text-neon-cyan",bg:"bg-neon-cyan/10",border:"border-neon-cyan/20"},{label:"Guidelines",value:f.length,icon:Qw,color:"text-purple-400",bg:"bg-purple-400/10",border:"border-purple-400/20"},{label:"Gallery Items",value:p.length,icon:Ag,color:"text-yellow-400",bg:"bg-yellow-400/10",border:"border-yellow-400/20"}].map((Y,le)=>y.jsxs("div",{className:`bg-rush-900/60 backdrop-blur border ${Y.border} p-6 rounded-2xl relative overflow-hidden group hover:bg-white/5 transition-all`,children:[y.jsxs("div",{className:"flex justify-between items-start mb-4",children:[y.jsx("div",{className:`w-12 h-12 rounded-xl ${Y.bg} ${Y.color} flex items-center justify-center`,children:y.jsx(Y.icon,{size:24})}),y.jsx("span",{className:"text-xs font-bold uppercase tracking-wider text-gray-500 bg-black/20 px-2 py-1 rounded-lg",children:"Live"})]}),y.jsx("p",{className:"text-4xl font-display font-bold text-white mb-1",children:Y.value}),y.jsx("p",{className:"text-sm text-gray-400 font-medium",children:Y.label})]},le))}),y.jsxs("div",{className:"bg-gradient-to-r from-rush-900/80 to-rush-800/80 backdrop-blur border border-white/10 rounded-2xl p-8 flex items-center justify-between",children:[y.jsxs("div",{children:[y.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Quick Actions"}),y.jsx("p",{className:"text-gray-400 text-sm max-w-lg",children:"Need to reset the server data efficiently? Use the seeder below to populate default rules and guidelines."})]}),y.jsxs("button",{onClick:Me,className:"px-6 py-3 bg-white hover:bg-gray-200 border border-transparent rounded-xl text-black transition-all text-sm font-bold uppercase tracking-wider flex items-center gap-2 shadow-xl shadow-white/5",children:[y.jsx(Jw,{size:18})," Populate Default Data"]})]})]}),t==="features"&&y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{className:"flex justify-between items-end",children:[y.jsxs("div",{children:[y.jsx("h3",{className:"text-2xl font-bold text-white",children:"Server Features"}),y.jsx("p",{className:"text-gray-400 text-sm",children:"Manage the features displayed on the main page."})]}),y.jsxs("button",{onClick:()=>Ce("feature"),className:"flex items-center gap-2 px-6 py-3 bg-white hover:bg-gray-200 text-black font-bold uppercase tracking-wider rounded-xl transition-colors shadow-lg shadow-white/10",children:[y.jsx(Jo,{size:18})," Add Feature"]})]}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:_.map(Y=>{var xe;const le=((xe=Of.find(Se=>Se.value===Y.icon))==null?void 0:xe.icon)||hl;return y.jsxs("div",{className:"bg-rush-900/60 backdrop-blur border border-white/10 p-6 rounded-2xl hover:border-white/20 transition-all group relative overflow-hidden",children:[y.jsx("div",{className:"absolute top-0 right-0 p-6 opacity-5 group-hover:opacity-10 group-hover:scale-110 transition-all",children:y.jsx(le,{size:100})}),y.jsxs("div",{className:"flex justify-between items-start mb-4 relative z-10",children:[y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-rush-800 to-black border border-white/10 text-neon-cyan flex items-center justify-center shadow-lg",children:y.jsx(le,{size:24})}),y.jsx("h3",{className:"text-xl font-bold text-white trim",children:Y.title})]}),y.jsxs("div",{className:"flex gap-2",children:[y.jsx("button",{onClick:()=>Ce("feature",Y),className:"p-2 bg-white/5 rounded-lg hover:bg-white/10 text-gray-300 hover:text-white transition-colors",children:y.jsx(Wo,{size:16})}),y.jsx("button",{onClick:()=>On("feature",Y.id),className:"p-2 bg-white/5 rounded-lg hover:bg-white/10 text-gray-300 hover:text-red-400 transition-colors",children:y.jsx(Fu,{size:16})})]})]}),y.jsx("p",{className:"text-gray-400 text-sm leading-relaxed relative z-10",children:Y.description})]},Y.id)})})]}),t==="settings"&&y.jsx("div",{className:"max-w-3xl mx-auto",children:y.jsxs("div",{className:"bg-rush-900/60 border border-white/10 p-8 md:p-12 rounded-3xl backdrop-blur-md",children:[y.jsxs("div",{className:"mb-8",children:[y.jsx("h3",{className:"text-3xl font-bold text-white mb-2",children:"Hero Section Settings"}),y.jsx("p",{className:"text-gray-400",children:"Manage the main video display on your landing page. Can be hidden if not relevant."})]}),y.jsxs("form",{onSubmit:Qn,className:"space-y-8",children:[y.jsxs("div",{className:"bg-black/20 p-6 rounded-2xl border border-white/5 space-y-6",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{children:[y.jsx("h4",{className:"text-white font-bold text-lg",children:"Video Visibility"}),y.jsx("p",{className:"text-xs text-gray-500",children:"Show or hide the video on the main page."})]}),y.jsx("button",{type:"button",onClick:()=>Pe(Y=>({...Y,isVisible:!Y.isVisible})),className:`w-14 h-8 rounded-full transition-colors relative ${Te.isVisible?"bg-neon-cyan":"bg-gray-700"}`,children:y.jsx("div",{className:`absolute top-1 w-6 h-6 rounded-full bg-white transition-transform ${Te.isVisible?"left-7":"left-1"}`})})]}),y.jsx("div",{className:`transition-opacity duration-300 ${Te.isVisible?"opacity-100":"opacity-50 pointer-events-none"}`,children:y.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[y.jsxs("div",{children:[y.jsx("label",{className:"text-gray-400 text-xs font-bold uppercase mb-2 block ml-1",children:"YouTube Video URL"}),y.jsx("input",{className:"w-full bg-black/40 border border-white/10 rounded-xl p-4 text-white focus:border-neon-cyan outline-none transition-all font-mono text-sm",value:Te.videoUrl,onChange:Y=>Pe({...Te,videoUrl:Y.target.value}),placeholder:"https://www.youtube.com/watch?v=..."})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-gray-400 text-xs font-bold uppercase mb-2 block ml-1",children:"Video Title / Caption"}),y.jsx("input",{className:"w-full bg-black/40 border border-white/10 rounded-xl p-4 text-white focus:border-neon-cyan outline-none transition-all",value:Te.videoTitle,onChange:Y=>Pe({...Te,videoTitle:Y.target.value}),placeholder:"e.g. Official Server Trailer v3.0"})]})]})})]}),y.jsx("div",{className:"flex justify-end pt-4 border-t border-white/5",children:y.jsxs("button",{type:"submit",disabled:L,className:"px-8 py-3 bg-white text-black font-bold uppercase tracking-wider rounded-xl hover:bg-gray-200 transition-all shadow-lg flex items-center gap-2 disabled:opacity-50",children:[L?y.jsx("div",{className:"w-4 h-4 border-2 border-black/30 border-t-black rounded-full animate-spin"}):y.jsx(Ww,{size:18}),y.jsx("span",{children:L?"Saving...":"Save Configuration"})]})})]})]})}),t==="profile"&&y.jsx("div",{className:"max-w-3xl mx-auto",children:y.jsxs("div",{className:"bg-rush-900/60 border border-white/10 p-8 md:p-12 rounded-3xl relative overflow-hidden",children:[y.jsx("div",{className:"absolute top-0 left-0 w-full h-32 bg-gradient-to-r from-neon-pink/20 to-purple-600/20"}),y.jsxs("div",{className:"relative flex flex-col md:flex-row gap-8 items-start",children:[y.jsxs("div",{className:"relative group",children:[y.jsxs("div",{className:"w-32 h-32 rounded-3xl overflow-hidden border-4 border-rush-900 shadow-2xl relative",children:[y.jsx("img",{src:F||S.photoURL||"https://via.placeholder.com/150",alt:"Profile",className:"w-full h-full object-cover"}),y.jsxs("label",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 flex items-center justify-center cursor-pointer transition-opacity",children:[y.jsx(OA,{className:"text-white",size:32}),y.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:er})]})]}),y.jsx("div",{className:"absolute -bottom-2 -right-2 w-8 h-8 bg-green-500 rounded-full border-4 border-rush-900 flex items-center justify-center",children:y.jsx(PA,{size:14,className:"text-black font-bold"})})]}),y.jsxs("div",{className:"flex-1 w-full",children:[y.jsxs("div",{className:"flex justify-between items-start mb-6",children:[y.jsxs("div",{children:[y.jsx("h3",{className:"text-3xl font-bold text-white mb-1",children:S.displayName||"Admin User"}),y.jsx("p",{className:"text-neon-cyan text-sm font-bold uppercase tracking-wider",children:"Super Administrator"})]}),y.jsx("span",{className:"bg-green-500/10 text-green-400 px-3 py-1 rounded-full text-xs font-bold uppercase border border-green-500/20",children:"Active Session"})]}),y.jsxs("form",{onSubmit:Zs,className:"space-y-6",children:[y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[y.jsxs("div",{children:[y.jsx("label",{className:"text-gray-400 text-xs font-bold uppercase mb-2 block ml-1",children:"Display Name"}),y.jsx("input",{className:"w-full bg-black/40 border border-white/10 rounded-xl p-4 text-white focus:border-neon-pink outline-none transition-all focus:bg-black/60",value:S.displayName,onChange:Y=>N({...S,displayName:Y.target.value}),placeholder:"Enter your display name"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-gray-400 text-xs font-bold uppercase mb-2 block ml-1",children:"Email Address"}),y.jsx("input",{className:"w-full bg-black/40 border border-white/10 rounded-xl p-4 text-gray-500 cursor-not-allowed",value:((nr=wn.currentUser)==null?void 0:nr.email)||"",disabled:!0})]})]}),y.jsxs("div",{className:"pt-6 border-t border-white/5 flex items-center justify-between",children:[y.jsx("p",{className:"text-xs text-gray-500",children:"Last login: Just now"}),y.jsxs("button",{type:"submit",disabled:B,className:"px-8 py-3 bg-white text-black font-bold uppercase tracking-wider rounded-xl hover:bg-gray-200 transition-all shadow-lg flex items-center gap-2 disabled:opacity-50",children:[B?y.jsx("div",{className:"w-4 h-4 border-2 border-black/30 border-t-black rounded-full animate-spin"}):y.jsx(Ww,{size:18}),y.jsx("span",{children:B?"Saving...":"Save Changes"})]})]})]})]})]})]})}),t==="staff"&&y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{className:"flex justify-between items-end",children:[y.jsxs("div",{children:[y.jsx("h3",{className:"text-2xl font-bold text-white",children:"Staff Management"}),y.jsx("p",{className:"text-gray-400 text-sm",children:"Manage staff profiles and permissions."})]}),y.jsxs("button",{onClick:()=>Ce("staff"),className:"flex items-center gap-2 px-6 py-3 bg-neon-pink hover:bg-neon-pink/90 text-black font-bold uppercase tracking-wider rounded-xl transition-colors shadow-lg shadow-neon-pink/20",children:[y.jsx(Jo,{size:18})," Add Staff"]})]}),y.jsxs("div",{className:"bg-rush-900/60 border border-white/10 rounded-2xl overflow-hidden backdrop-blur-md",children:[y.jsxs("table",{className:"w-full text-left",children:[y.jsx("thead",{className:"bg-black/20 text-gray-400 text-xs uppercase tracking-widest font-bold border-b border-white/5",children:y.jsxs("tr",{children:[y.jsx("th",{className:"p-5",children:"User"}),y.jsx("th",{className:"p-5",children:"Role"}),y.jsx("th",{className:"p-5",children:"Category"}),y.jsx("th",{className:"p-5",children:"Discord"}),y.jsx("th",{className:"p-5 text-right",children:"Actions"})]})}),y.jsx("tbody",{className:"divide-y divide-white/5",children:s.sort((Y,le)=>(Y.order||99)-(le.order||99)).map(Y=>y.jsxs("tr",{className:"hover:bg-white/5 transition-colors group",children:[y.jsx("td",{className:"p-5",children:y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx("div",{className:"w-12 h-12 rounded-full p-[2px] shadow-lg",style:{background:`linear-gradient(135deg, ${Y.color}, transparent)`},children:y.jsx("img",{src:Y.avatarUrl||"https://via.placeholder.com/100",alt:Y.name,className:"w-full h-full rounded-full object-cover border-2 border-rush-900"})}),y.jsxs("div",{children:[y.jsx("span",{className:"font-bold text-white block",children:Y.name}),Y.bio&&y.jsx("span",{className:"text-xs text-gray-500 line-clamp-1 max-w-[200px]",children:Y.bio})]})]})}),y.jsx("td",{className:"p-5",children:y.jsx("span",{className:"text-xs uppercase tracking-wider font-bold px-3 py-1.5 rounded-lg bg-black/30 border",style:{color:Y.color,borderColor:`${Y.color}40`},children:Y.role})}),y.jsx("td",{className:"p-5 text-gray-400 text-sm",children:Y.category||"Management"}),y.jsx("td",{className:"p-5 text-gray-500 text-sm font-mono",children:Y.discord||"-"}),y.jsxs("td",{className:"p-5 text-right space-x-2",children:[y.jsx("button",{onClick:()=>Ce("staff",Y),className:"p-2 bg-white/5 rounded-lg hover:bg-white/10 text-gray-400 hover:text-white transition-colors",children:y.jsx(Wo,{size:16})}),y.jsx("button",{onClick:()=>On("staff",Y.id),className:"p-2 bg-white/5 rounded-lg hover:bg-white/10 text-gray-400 hover:text-red-400 transition-colors",children:y.jsx(Fu,{size:16})})]})]},Y.id))})]}),s.length===0&&y.jsxs("div",{className:"text-center py-12 text-gray-500",children:[y.jsx(wl,{className:"mx-auto mb-3 opacity-50",size:40}),y.jsx("p",{children:'No staff members yet. Click "Add Staff" to get started.'})]})]})]}),t==="guidelines"&&y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{className:"flex justify-between items-end",children:[y.jsxs("div",{children:[y.jsx("h3",{className:"text-2xl font-bold text-white",children:"RP Guidelines"}),y.jsx("p",{className:"text-gray-400 text-sm",children:"Set the standards for roleplay quality."})]}),y.jsxs("button",{onClick:()=>Ce("guideline"),className:"flex items-center gap-2 px-6 py-3 bg-neon-cyan hover:bg-neon-cyan/90 text-black font-bold uppercase tracking-wider rounded-xl transition-colors shadow-lg shadow-neon-cyan/20",children:[y.jsx(Jo,{size:18})," Add Guideline"]})]}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:f.map(Y=>{var xe;const le=((xe=Of.find(Se=>Se.value===Y.icon))==null?void 0:xe.icon)||bl;return y.jsxs("div",{className:"bg-rush-900/60 backdrop-blur border border-white/10 p-6 rounded-2xl hover:border-white/20 transition-all group relative overflow-hidden",children:[y.jsx("div",{className:"absolute top-0 right-0 p-6 opacity-5 group-hover:opacity-10 group-hover:scale-110 transition-all",children:y.jsx(le,{size:100})}),y.jsxs("div",{className:"flex justify-between items-start mb-4 relative z-10",children:[y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-rush-800 to-black border border-white/10 text-neon-cyan flex items-center justify-center shadow-lg",children:y.jsx(le,{size:24})}),y.jsx("h3",{className:"text-xl font-bold text-white",children:Y.title})]}),y.jsxs("div",{className:"flex gap-2",children:[y.jsx("button",{onClick:()=>Ce("guideline",Y),className:"p-2 bg-white/5 rounded-lg hover:bg-white/10 text-gray-300 hover:text-white transition-colors",children:y.jsx(Wo,{size:16})}),y.jsx("button",{onClick:()=>On("guideline",Y.id),className:"p-2 bg-white/5 rounded-lg hover:bg-white/10 text-gray-300 hover:text-red-400 transition-colors",children:y.jsx(Fu,{size:16})})]})]}),y.jsx("p",{className:"text-gray-400 text-sm leading-relaxed relative z-10",children:Y.text})]},Y.id)})})]}),t==="rules"&&y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{className:"flex justify-between items-end",children:[y.jsxs("div",{children:[y.jsx("h3",{className:"text-2xl font-bold text-white",children:"Server Rules"}),y.jsx("p",{className:"text-gray-400 text-sm",children:"Define non-negotiable server laws."})]}),y.jsxs("button",{onClick:()=>Ce("rule"),className:"flex items-center gap-2 px-6 py-3 bg-neon-pink hover:bg-neon-pink/90 text-black font-bold uppercase tracking-wider rounded-xl transition-colors shadow-lg shadow-neon-pink/20",children:[y.jsx(Jo,{size:18})," Add Rule"]})]}),y.jsx("div",{className:"grid gap-4",children:l.map(Y=>y.jsxs("div",{className:"bg-rush-900/60 backdrop-blur border border-white/10 p-6 rounded-2xl hover:bg-white/5 transition-all flex justify-between items-start group",children:[y.jsxs("div",{children:[y.jsx("span",{className:"text-xs font-bold uppercase tracking-widest text-neon-pink mb-2 block bg-neon-pink/10 w-fit px-2 py-1 rounded",children:Y.category}),y.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:Y.title}),y.jsx("p",{className:"text-gray-400 text-sm max-w-2xl",children:Y.description})]}),y.jsxs("div",{className:"flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[y.jsx("button",{onClick:()=>Ce("rule",Y),className:"p-2 bg-white/5 rounded-lg hover:bg-white/10 text-gray-300 hover:text-white transition-colors",children:y.jsx(Wo,{size:16})}),y.jsx("button",{onClick:()=>On("rule",Y.id),className:"p-2 bg-white/5 rounded-lg hover:bg-white/10 text-gray-300 hover:text-red-400 transition-colors",children:y.jsx(Fu,{size:16})})]})]},Y.id))})]}),t==="gallery"&&y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{className:"flex justify-between items-end",children:[y.jsxs("div",{children:[y.jsx("h3",{className:"text-2xl font-bold text-white",children:"Media Gallery"}),y.jsx("p",{className:"text-gray-400 text-sm",children:"Curate showcase images."})]}),y.jsxs("button",{onClick:()=>Ce("gallery"),className:"flex items-center gap-2 px-6 py-3 bg-white hover:bg-gray-200 text-black font-bold uppercase tracking-wider rounded-xl transition-colors shadow-lg shadow-white/10",children:[y.jsx(Jo,{size:18})," Add Photo"]})]}),y.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:p.map(Y=>y.jsxs("div",{className:"group relative aspect-video bg-black rounded-2xl overflow-hidden border border-white/10 shadow-xl",children:[y.jsx("img",{src:Y.imageUrl,alt:Y.title,className:"w-full h-full object-cover opacity-80 group-hover:opacity-100 group-hover:scale-105 transition-all duration-700"}),y.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/90 via-black/20 to-transparent",children:y.jsxs("div",{className:"absolute bottom-0 left-0 p-4 w-full",children:[y.jsx("h4",{className:"text-white font-bold truncate",children:Y.title}),y.jsxs("p",{className:"text-xs text-gray-400 flex items-center gap-1 mt-1",children:[y.jsx(Ag,{size:12})," ",Y.photographer]})]})}),y.jsxs("div",{className:"absolute top-2 right-2 flex gap-2 opacity-0 group-hover:opacity-100 transition-all translate-y-2 group-hover:translate-y-0",children:[y.jsx("button",{onClick:()=>Ce("gallery",Y),className:"p-2 bg-black/60 backdrop-blur rounded-lg hover:bg-white hover:text-black text-white transition-colors",children:y.jsx(Wo,{size:14})}),y.jsx("button",{onClick:()=>On("gallery",Y.id),className:"p-2 bg-black/60 backdrop-blur rounded-lg hover:bg-red-500 hover:text-white text-white transition-colors",children:y.jsx(Fu,{size:14})})]})]},Y.id))})]})]},t)})})]})]}),y.jsx(Ws,{children:re&&y.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm p-4",children:y.jsxs(De.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-rush-900 border border-white/10 rounded-3xl p-8 w-full max-w-lg shadow-2xl relative overflow-hidden",children:[y.jsx("div",{className:"absolute top-0 left-0 w-full h-2 bg-gradient-to-r from-neon-pink to-purple-600"}),y.jsx("button",{onClick:_t,className:"absolute top-6 right-6 text-gray-500 hover:text-white transition-colors",children:y.jsx(cl,{size:24})}),y.jsxs("h3",{className:"text-2xl font-bold text-white mb-1 uppercase tracking-wide",children:[I?"Edit":"Add"," ",C==="feature"?"Feature":C==="staff"?"Staff":C==="rule"?"Rule":C==="guideline"?"Guideline":"Photo"]}),y.jsx("p",{className:"text-gray-400 text-sm mb-8",children:"Fill in the details below."}),y.jsxs("form",{onSubmit:ht,className:"space-y-5",children:[C==="feature"&&y.jsxs(y.Fragment,{children:[y.jsxs("div",{children:[y.jsx("label",{className:"text-gray-400 text-xs font-bold uppercase mb-2 block ml-1",children:"Title"}),y.jsx("input",{className:"w-full bg-black/40 border border-white/10 rounded-xl p-3.5 text-white focus:border-neon-pink outline-none",value:k.title||"",onChange:Y=>z({...k,title:Y.target.value}),required:!0,placeholder:"Feature Title"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-gray-400 text-xs font-bold uppercase mb-2 block ml-1",children:"Description"}),y.jsx("textarea",{className:"w-full bg-black/40 border border-white/10 rounded-xl p-3.5 text-white focus:border-neon-pink outline-none min-h-[100px]",value:k.description||"",onChange:Y=>z({...k,description:Y.target.value}),required:!0,placeholder:"Feature details..."})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-gray-400 text-xs font-bold uppercase mb-2 block ml-1",children:"Icon"}),y.jsx("div",{className:"grid grid-cols-7 gap-2",children:Of.map(Y=>y.jsx("button",{type:"button",onClick:()=>z({...k,icon:Y.value}),className:`p-2 rounded-lg flex items-center justify-center border transition-all ${k.icon===Y.value?"bg-neon-pink text-black border-neon-pink":"bg-black/40 border-white/10 text-gray-400 hover:text-white"}`,title:Y.label,children:y.jsx(Y.icon,{size:20})},Y.value))})]})]}),C==="staff"&&y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[y.jsxs("div",{children:[y.jsx("label",{className:"text-gray-400 text-xs font-bold uppercase mb-2 block ml-1",children:"Name"}),y.jsx("input",{className:"w-full bg-black/40 border border-white/10 rounded-xl p-3.5 text-white focus:border-neon-pink outline-none transition-all",value:k.name||"",onChange:Y=>z({...k,name:Y.target.value}),required:!0,placeholder:"Username"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-gray-400 text-xs font-bold uppercase mb-2 block ml-1",children:"Category"}),y.jsxs("select",{className:"w-full bg-black/40 border border-white/10 rounded-xl p-3.5 text-white focus:border-neon-pink outline-none transition-all appearance-none cursor-pointer",value:k.category||"",onChange:Y=>z({...k,category:Y.target.value}),children:[y.jsx("option",{value:"",disabled:!0,children:"Select Category"}),Kz.map(Y=>y.jsx("option",{value:Y,className:"bg-rush-900 text-white",children:Y},Y))]})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-gray-400 text-xs font-bold uppercase mb-2 block ml-1",children:"Avatar Image"}),y.jsxs("div",{className:"space-y-3",children:[y.jsx("div",{className:"flex items-center gap-4",children:y.jsxs("label",{className:"flex-1 cursor-pointer bg-black/40 border border-white/10 border-dashed rounded-xl p-6 hover:border-white/30 transition-colors flex flex-col items-center justify-center text-gray-500 hover:text-white",children:[y.jsx(Zw,{size:24,className:"mb-2"}),y.jsx("span",{className:"text-xs font-bold uppercase",children:"Click to Upload Avatar"}),y.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:vs})]})}),ut&&y.jsxs("div",{className:"relative h-32 w-32 mx-auto rounded-full overflow-hidden border border-white/10",children:[y.jsx("img",{src:ut,className:"w-full h-full object-cover",alt:"Preview"}),y.jsx("button",{type:"button",onClick:()=>{Qe(null),J(null)},className:"absolute top-2 right-2 p-1 bg-black/50 rounded-full text-white hover:bg-red-500",children:y.jsx(cl,{size:14})})]}),!V&&y.jsx("input",{className:"w-full bg-black/40 border border-white/10 rounded-xl p-3.5 text-white focus:border-neon-pink outline-none",value:k.avatarUrl||"",onChange:Y=>z({...k,avatarUrl:Y.target.value}),placeholder:"Or paste URL..."})]})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[y.jsxs("div",{children:[y.jsx("label",{className:"text-gray-400 text-xs font-bold uppercase mb-2 block ml-1",children:"Order Priority"}),y.jsx("input",{type:"number",className:"w-full bg-black/40 border border-white/10 rounded-xl p-3.5 text-white focus:border-neon-pink outline-none transition-all",value:k.order||0,onChange:Y=>z({...k,order:parseInt(Y.target.value)||0}),placeholder:"1 (Highest)"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-gray-400 text-xs font-bold uppercase mb-2 block ml-1",children:"Discord Username"}),y.jsx("input",{className:"w-full bg-black/40 border border-white/10 rounded-xl p-3.5 text-white focus:border-neon-pink outline-none transition-all",value:k.discord||"",onChange:Y=>z({...k,discord:Y.target.value}),placeholder:"username"})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-gray-400 text-xs font-bold uppercase mb-2 block ml-1",children:"Bio"}),y.jsx("textarea",{className:"w-full bg-black/40 border border-white/10 rounded-xl p-3.5 text-white focus:border-neon-pink outline-none min-h-[100px] transition-all",value:k.bio||"",onChange:Y=>z({...k,bio:Y.target.value}),placeholder:"Short bio or description..."})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-gray-400 text-xs font-bold uppercase mb-2 block ml-1",children:"Name Color"}),y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx("input",{type:"color",className:"w-16 h-12 bg-transparent border border-white/10 rounded-xl cursor-pointer p-1",value:k.color||"#06b6d4",onChange:Y=>z({...k,color:Y.target.value})}),y.jsx("span",{className:"text-sm text-gray-400",children:k.color||"#06b6d4"})]})]})]}),C==="guideline"&&y.jsxs(y.Fragment,{children:[y.jsxs("div",{children:[y.jsx("label",{className:"text-gray-400 text-xs font-bold uppercase mb-2 block ml-1",children:"Title"}),y.jsx("input",{className:"w-full bg-black/40 border border-white/10 rounded-xl p-3.5 text-white focus:border-neon-pink outline-none",value:k.title||"",onChange:Y=>z({...k,title:Y.target.value}),required:!0,placeholder:"Stay In Character"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-gray-400 text-xs font-bold uppercase mb-2 block ml-1",children:"Description"}),y.jsx("textarea",{className:"w-full bg-black/40 border border-white/10 rounded-xl p-3.5 text-white focus:border-neon-pink outline-none min-h-[100px]",value:k.text||"",onChange:Y=>z({...k,text:Y.target.value}),required:!0,placeholder:"Guideline details..."})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-gray-400 text-xs font-bold uppercase mb-2 block ml-1",children:"Icon"}),y.jsx("div",{className:"grid grid-cols-7 gap-2",children:Of.map(Y=>y.jsx("button",{type:"button",onClick:()=>z({...k,icon:Y.value}),className:`p-2 rounded-lg flex items-center justify-center border transition-all ${k.icon===Y.value?"bg-neon-pink text-black border-neon-pink":"bg-black/40 border-white/10 text-gray-400 hover:text-white"}`,children:y.jsx(Y.icon,{size:20})},Y.value))})]})]}),C==="rule"&&y.jsxs(y.Fragment,{children:[y.jsxs("div",{children:[y.jsx("label",{className:"text-gray-400 text-xs font-bold uppercase mb-2 block ml-1",children:"Title"}),y.jsx("input",{className:"w-full bg-black/40 border border-white/10 rounded-xl p-3.5 text-white focus:border-neon-cyan outline-none",value:k.title||"",onChange:Y=>z({...k,title:Y.target.value}),required:!0,placeholder:"Rule 1: No RDM"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-gray-400 text-xs font-bold uppercase mb-2 block ml-1",children:"Description"}),y.jsx("textarea",{className:"w-full bg-black/40 border border-white/10 rounded-xl p-3.5 text-white focus:border-neon-cyan outline-none min-h-[100px]",value:k.description||"",onChange:Y=>z({...k,description:Y.target.value}),required:!0,placeholder:"Rule details..."})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-gray-400 text-xs font-bold uppercase mb-2 block ml-1",children:"Category"}),y.jsx("input",{className:"w-full bg-black/40 border border-white/10 rounded-xl p-3.5 text-white focus:border-neon-cyan outline-none",value:k.category||"",onChange:Y=>z({...k,category:Y.target.value}),required:!0,placeholder:"General, Combat, etc."})]})]}),C==="gallery"&&y.jsxs(y.Fragment,{children:[y.jsxs("div",{children:[y.jsx("label",{className:"text-gray-400 text-xs font-bold uppercase mb-2 block ml-1",children:"Title"}),y.jsx("input",{className:"w-full bg-black/40 border border-white/10 rounded-xl p-3.5 text-white focus:border-rush-500 outline-none",value:k.title||"",onChange:Y=>z({...k,title:Y.target.value}),required:!0,placeholder:"Photo Title"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-gray-400 text-xs font-bold uppercase mb-2 block ml-1",children:"Image Source"}),y.jsxs("div",{className:"space-y-3",children:[y.jsx("div",{className:"flex items-center gap-4",children:y.jsxs("label",{className:"flex-1 cursor-pointer bg-black/40 border border-white/10 border-dashed rounded-xl p-6 hover:border-white/30 transition-colors flex flex-col items-center justify-center text-gray-500 hover:text-white",children:[y.jsx(Zw,{size:24,className:"mb-2"}),y.jsx("span",{className:"text-xs font-bold uppercase",children:"Click to Upload"}),y.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:vs})]})}),ut&&y.jsxs("div",{className:"relative h-32 rounded-xl overflow-hidden border border-white/10",children:[y.jsx("img",{src:ut,className:"w-full h-full object-cover",alt:"Preview"}),y.jsx("button",{type:"button",onClick:()=>{Qe(null),J(null)},className:"absolute top-2 right-2 p-1 bg-black/50 rounded-full text-white hover:bg-red-500",children:y.jsx(cl,{size:14})})]}),!V&&y.jsxs("div",{className:"relative",children:[y.jsx("div",{className:"absolute inset-0 flex items-center",children:y.jsx("div",{className:"w-full border-t border-white/10"})}),y.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:y.jsx("span",{className:"bg-rush-900 px-2 text-gray-500",children:"Or use URL"})})]}),!V&&y.jsx("input",{className:"w-full bg-black/40 border border-white/10 rounded-xl p-3.5 text-white focus:border-rush-500 outline-none",value:k.imageUrl||"",onChange:Y=>z({...k,imageUrl:Y.target.value}),placeholder:"https://..."})]})]}),y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"text-gray-400 text-xs font-bold uppercase mb-2 block ml-1",children:"Location"}),y.jsx("input",{className:"w-full bg-black/40 border border-white/10 rounded-xl p-3.5 text-white focus:border-rush-500 outline-none",value:k.location||"",onChange:Y=>z({...k,location:Y.target.value})})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-gray-400 text-xs font-bold uppercase mb-2 block ml-1",children:"Photographer"}),y.jsx("input",{className:"w-full bg-black/40 border border-white/10 rounded-xl p-3.5 text-white focus:border-rush-500 outline-none",value:k.photographer||"",onChange:Y=>z({...k,photographer:Y.target.value})})]})]})]}),y.jsxs("div",{className:"flex justify-end gap-3 mt-8 pt-6 border-t border-white/5",children:[y.jsx("button",{type:"button",onClick:_t,className:"px-6 py-3 text-gray-400 hover:text-white font-bold uppercase tracking-wide text-sm rounded-xl hover:bg-white/5 transition-all",children:"Cancel"}),y.jsxs("button",{type:"submit",disabled:ae,className:"px-8 py-3 bg-white text-black font-bold uppercase tracking-wide text-sm rounded-xl hover:bg-gray-200 transition-colors shadow-lg flex items-center gap-2",children:[ae&&y.jsx("div",{className:"w-4 h-4 border-2 border-black/30 border-t-black rounded-full animate-spin"}),ae?"Uploading...":"Save Changes"]})]})]})]})})})]})},Qz=()=>{const{scrollYProgress:t}=NC(),e=jz(t,{stiffness:100,damping:30,restDelta:.001});return y.jsx(De.div,{className:"fixed top-0 left-0 right-0 h-1.5 bg-gradient-to-r from-neon-pink via-purple-500 to-neon-cyan origin-left z-[100]",style:{scaleX:e}})},Xz=()=>{const[t,e]=D.useState(!1);D.useEffect(()=>{const s=()=>{window.scrollY>300?e(!0):e(!1)};return window.addEventListener("scroll",s),()=>window.removeEventListener("scroll",s)},[]);const n=()=>{window.scrollTo({top:0,behavior:"smooth"})};return y.jsx(Ws,{children:t&&y.jsx(De.button,{initial:{opacity:0,scale:.5,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.5,y:20},whileHover:{scale:1.1,y:-5},whileTap:{scale:.9},onClick:n,className:"fixed bottom-8 right-8 z-40 p-4 bg-rush-600 hover:bg-neon-pink text-white rounded-full shadow-[0_0_20px_rgba(217,70,239,0.3)] hover:shadow-[0_0_30px_rgba(217,70,239,0.6)] transition-all border border-white/20",children:y.jsx(UA,{size:24})})})},Wz=()=>{const[t,e]=D.useState([]);return D.useEffect(()=>{const n=s=>{const a={x:s.clientX,y:s.clientY,id:Date.now()};e(l=>[...l.slice(-20),a])};return window.addEventListener("mousemove",n),()=>window.removeEventListener("mousemove",n)},[]),D.useEffect(()=>{const n=setInterval(()=>{e(s=>s.filter(a=>Date.now()-a.id<500))},50);return()=>clearInterval(n)},[]),y.jsx("div",{className:"pointer-events-none fixed inset-0 z-[60] overflow-hidden",children:t.map((n,s)=>y.jsx(De.div,{initial:{opacity:.4,scale:1},animate:{opacity:0,scale:0},transition:{duration:.5,ease:"easeOut"},className:"absolute w-4 h-4 bg-neon-cyan/40 rounded-full blur-[4px]",style:{left:n.x,top:n.y,transform:"translate(-50%, -50%)"}},n.id))})},Jz=({isOpen:t,onClose:e,onGoogleLogin:n,onDemoLogin:s})=>{const[a,l]=D.useState(""),[c,f]=D.useState(""),[m,p]=D.useState(""),[v,_]=D.useState(!1),w=async S=>{S.preventDefault(),_(!0),p(""),await new Promise(N=>setTimeout(N,1e3)),a==="admin"&&c==="admin"?(s(),e()):(p('Invalid credentials. Try "admin" / "admin" for demo.'),_(!1))};return y.jsx(Ws,{children:t&&y.jsxs("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4",children:[y.jsx(De.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e,className:"absolute inset-0 bg-black/80 backdrop-blur-sm"}),y.jsxs(De.div,{initial:{scale:.95,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.95,opacity:0,y:20},className:"relative w-full max-w-md bg-rush-900 border border-white/10 rounded-3xl p-8 shadow-2xl overflow-hidden",children:[y.jsx("div",{className:"absolute top-0 left-0 w-full h-2 bg-gradient-to-r from-neon-pink to-neon-cyan"}),y.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-neon-cyan/10 blur-[50px] rounded-full pointer-events-none"}),y.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-400 hover:text-white transition-colors",children:y.jsx(cl,{size:20})}),y.jsxs("div",{className:"text-center mb-8",children:[y.jsx("img",{src:kv,alt:"Rush Hour RP",className:"h-16 mx-auto mb-4 drop-shadow-[0_0_15px_rgba(217,70,239,0.3)]"}),y.jsx("h2",{className:"text-2xl font-bold text-white font-display",children:"Welcome Back"}),y.jsx("p",{className:"text-gray-400 text-sm",children:"Sign in to access the control panel."})]}),y.jsxs("form",{onSubmit:w,className:"space-y-4 mb-6",children:[y.jsxs("div",{className:"space-y-2",children:[y.jsx("label",{className:"text-xs font-bold uppercase text-gray-500 ml-1",children:"Username / Email"}),y.jsxs("div",{className:"relative",children:[y.jsx(bc,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500",size:18}),y.jsx("input",{type:"text",value:a,onChange:S=>l(S.target.value),className:"w-full bg-black/30 border border-white/10 rounded-xl py-3 pl-12 pr-4 text-white placeholder-gray-600 focus:border-neon-cyan outline-none transition-all",placeholder:"Enter username"})]})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsx("label",{className:"text-xs font-bold uppercase text-gray-500 ml-1",children:"Password"}),y.jsxs("div",{className:"relative",children:[y.jsx(tP,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500",size:18}),y.jsx("input",{type:"password",value:c,onChange:S=>f(S.target.value),className:"w-full bg-black/30 border border-white/10 rounded-xl py-3 pl-12 pr-4 text-white placeholder-gray-600 focus:border-neon-cyan outline-none transition-all",placeholder:"Enter password"})]})]}),m&&y.jsxs(De.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"flex items-center gap-2 text-red-400 text-xs bg-red-400/10 p-3 rounded-lg border border-red-400/20",children:[y.jsx(L6,{size:14}),m]}),y.jsx("button",{type:"submit",disabled:v,className:"w-full py-3 bg-neon-cyan text-black font-bold uppercase tracking-wider rounded-xl hover:bg-neon-cyan/90 transition-all shadow-lg shadow-neon-cyan/20 flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:v?y.jsx("div",{className:"w-5 h-5 border-2 border-black/30 border-t-black rounded-full animate-spin"}):y.jsxs(y.Fragment,{children:[y.jsx(by,{size:18})," Sign In"]})})]}),y.jsxs("div",{className:"relative flex items-center gap-4 py-4 mb-4",children:[y.jsx("div",{className:"flex-grow h-px bg-white/10"}),y.jsx("span",{className:"text-xs text-gray-500 font-bold uppercase",children:"Or continue with"}),y.jsx("div",{className:"flex-grow h-px bg-white/10"})]}),y.jsxs("button",{type:"button",onClick:n,className:"w-full py-3 bg-white text-black font-bold uppercase tracking-wider rounded-xl hover:bg-gray-200 transition-all flex items-center justify-center gap-2 group",children:[y.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[y.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),y.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),y.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),y.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Google"]}),y.jsxs("p",{className:"text-center text-xs text-gray-500 mt-4",children:["Demo Credentials: ",y.jsx("b",{children:"admin"})," / ",y.jsx("b",{children:"admin"})]})]})]})})},Zz=({user:t,isAdmin:e,onLogin:n,onLogout:s})=>y.jsxs(y.Fragment,{children:[y.jsx(Pz,{onLogin:n,onLogout:s,user:t}),y.jsx(Qz,{}),y.jsx(Xz,{}),y.jsx(Wz,{}),y.jsxs("main",{children:[y.jsx(Lz,{}),y.jsx(zz,{}),y.jsx(Fz,{isAdmin:e}),y.jsx(Hz,{isAdmin:e}),y.jsx(Gz,{})]}),y.jsx($z,{})]});function e7(){const[t,e]=D.useState(null),[n,s]=D.useState(!1),[a,l]=D.useState(!0),[c,f]=D.useState(!1);D.useEffect(()=>{const w=w3(wn,S=>{e(S),s(!!S),l(!1)});return()=>w()},[]);const m=()=>{f(!0)},p=async()=>{try{await H3(wn,b6),f(!1)}catch(w){console.error("Login failed",w),alert("Login failed. Check console.")}},v=async()=>{try{await m3(wn),f(!1)}catch(w){console.error("Demo login failed",w),alert("Demo login failed. Check console.")}},_=async()=>{try{await T3(wn)}catch(w){console.error("Logout failed",w)}};return a?y.jsx("div",{className:"min-h-screen bg-rush-950 flex items-center justify-center text-white",children:"Loading..."}):y.jsx(BD,{children:y.jsxs("div",{className:"min-h-screen bg-rush-950 font-sans selection:bg-neon-pink selection:text-white",children:[y.jsx(Jz,{isOpen:c,onClose:()=>f(!1),onGoogleLogin:p,onDemoLogin:v}),y.jsxs(yD,{children:[y.jsx($g,{path:"/",element:y.jsx(Zz,{user:t,isAdmin:n,onLogin:m,onLogout:_})}),y.jsx($g,{path:"/admin",element:t?y.jsx(Yz,{}):y.jsx(pD,{to:"/"})})]})]})})}const kC=document.getElementById("root");if(!kC)throw new Error("Could not find root element to mount to");const t7=_I.createRoot(kC);t7.render(y.jsx(qg.StrictMode,{children:y.jsx(e7,{})}));
