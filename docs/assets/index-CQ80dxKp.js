(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function TE(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var tg={exports:{}},Ou={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W1;function lI(){if(W1)return Ou;W1=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var f in a)f!=="key"&&(l[f]=a[f])}else l=a;return a=l.ref,{$$typeof:t,type:s,key:c,ref:a!==void 0?a:null,props:l}}return Ou.Fragment=e,Ou.jsx=n,Ou.jsxs=n,Ou}var J1;function uI(){return J1||(J1=1,tg.exports=lI()),tg.exports}var y=uI(),ng={exports:{}},Ie={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z1;function cI(){if(Z1)return Ie;Z1=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),w=Symbol.iterator;function S(L){return L===null||typeof L!="object"?null:(L=w&&L[w]||L["@@iterator"],typeof L=="function"?L:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,O={};function B(L,te,he){this.props=L,this.context=te,this.refs=O,this.updater=he||N}B.prototype.isReactComponent={},B.prototype.setState=function(L,te){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,te,"setState")},B.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function G(){}G.prototype=B.prototype;function F(L,te,he){this.props=L,this.context=te,this.refs=O,this.updater=he||N}var oe=F.prototype=new G;oe.constructor=F,M(oe,B.prototype),oe.isPureReactComponent=!0;var re=Array.isArray;function ce(){}var C={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function I(L,te,he){var me=he.ref;return{$$typeof:t,type:L,key:te,ref:me!==void 0?me:null,props:he}}function P(L,te){return I(L.type,te,L.props)}function k(L){return typeof L=="object"&&L!==null&&L.$$typeof===t}function z(L){var te={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(he){return te[he]})}var V=/\/+/g;function Qe(L,te){return typeof L=="object"&&L!==null&&L.key!=null?z(""+L.key):te.toString(36)}function ut(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(ce,ce):(L.status="pending",L.then(function(te){L.status==="pending"&&(L.status="fulfilled",L.value=te)},function(te){L.status==="pending"&&(L.status="rejected",L.reason=te)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function J(L,te,he,me,Ee){var ke=typeof L;(ke==="undefined"||ke==="boolean")&&(L=null);var Ce=!1;if(L===null)Ce=!0;else switch(ke){case"bigint":case"string":case"number":Ce=!0;break;case"object":switch(L.$$typeof){case t:case e:Ce=!0;break;case v:return Ce=L._init,J(Ce(L._payload),te,he,me,Ee)}}if(Ce)return Ee=Ee(L),Ce=me===""?"."+Qe(L,0):me,re(Ee)?(he="",Ce!=null&&(he=Ce.replace(V,"$&/")+"/"),J(Ee,te,he,"",function(On){return On})):Ee!=null&&(k(Ee)&&(Ee=P(Ee,he+(Ee.key==null||L&&L.key===Ee.key?"":(""+Ee.key).replace(V,"$&/")+"/")+Ce)),te.push(Ee)),1;Ce=0;var _t=me===""?".":me+":";if(re(L))for(var ht=0;ht<L.length;ht++)me=L[ht],ke=_t+Qe(me,ht),Ce+=J(me,te,he,ke,Ee);else if(ht=S(L),typeof ht=="function")for(L=ht.call(L),ht=0;!(me=L.next()).done;)me=me.value,ke=_t+Qe(me,ht++),Ce+=J(me,te,he,ke,Ee);else if(ke==="object"){if(typeof L.then=="function")return J(ut(L),te,he,me,Ee);throw te=String(L),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return Ce}function ae(L,te,he){if(L==null)return L;var me=[],Ee=0;return J(L,me,"","",function(ke){return te.call(he,ke,Ee++)}),me}function de(L){if(L._status===-1){var te=L._result;te=te(),te.then(function(he){(L._status===0||L._status===-1)&&(L._status=1,L._result=he)},function(he){(L._status===0||L._status===-1)&&(L._status=2,L._result=he)}),L._status===-1&&(L._status=0,L._result=te)}if(L._status===1)return L._result.default;throw L._result}var Te=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)},Oe={map:ae,forEach:function(L,te,he){ae(L,function(){te.apply(this,arguments)},he)},count:function(L){var te=0;return ae(L,function(){te++}),te},toArray:function(L){return ae(L,function(te){return te})||[]},only:function(L){if(!k(L))throw Error("React.Children.only expected to receive a single React element child.");return L}};return Ie.Activity=_,Ie.Children=Oe,Ie.Component=B,Ie.Fragment=n,Ie.Profiler=a,Ie.PureComponent=F,Ie.StrictMode=s,Ie.Suspense=m,Ie.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Ie.__COMPILER_RUNTIME={__proto__:null,c:function(L){return C.H.useMemoCache(L)}},Ie.cache=function(L){return function(){return L.apply(null,arguments)}},Ie.cacheSignal=function(){return null},Ie.cloneElement=function(L,te,he){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var me=M({},L.props),Ee=L.key;if(te!=null)for(ke in te.key!==void 0&&(Ee=""+te.key),te)!A.call(te,ke)||ke==="key"||ke==="__self"||ke==="__source"||ke==="ref"&&te.ref===void 0||(me[ke]=te[ke]);var ke=arguments.length-2;if(ke===1)me.children=he;else if(1<ke){for(var Ce=Array(ke),_t=0;_t<ke;_t++)Ce[_t]=arguments[_t+2];me.children=Ce}return I(L.type,Ee,me)},Ie.createContext=function(L){return L={$$typeof:c,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:l,_context:L},L},Ie.createElement=function(L,te,he){var me,Ee={},ke=null;if(te!=null)for(me in te.key!==void 0&&(ke=""+te.key),te)A.call(te,me)&&me!=="key"&&me!=="__self"&&me!=="__source"&&(Ee[me]=te[me]);var Ce=arguments.length-2;if(Ce===1)Ee.children=he;else if(1<Ce){for(var _t=Array(Ce),ht=0;ht<Ce;ht++)_t[ht]=arguments[ht+2];Ee.children=_t}if(L&&L.defaultProps)for(me in Ce=L.defaultProps,Ce)Ee[me]===void 0&&(Ee[me]=Ce[me]);return I(L,ke,Ee)},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function(L){return{$$typeof:f,render:L}},Ie.isValidElement=k,Ie.lazy=function(L){return{$$typeof:v,_payload:{_status:-1,_result:L},_init:de}},Ie.memo=function(L,te){return{$$typeof:p,type:L,compare:te===void 0?null:te}},Ie.startTransition=function(L){var te=C.T,he={};C.T=he;try{var me=L(),Ee=C.S;Ee!==null&&Ee(he,me),typeof me=="object"&&me!==null&&typeof me.then=="function"&&me.then(ce,Te)}catch(ke){Te(ke)}finally{te!==null&&he.types!==null&&(te.types=he.types),C.T=te}},Ie.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Ie.use=function(L){return C.H.use(L)},Ie.useActionState=function(L,te,he){return C.H.useActionState(L,te,he)},Ie.useCallback=function(L,te){return C.H.useCallback(L,te)},Ie.useContext=function(L){return C.H.useContext(L)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function(L,te){return C.H.useDeferredValue(L,te)},Ie.useEffect=function(L,te){return C.H.useEffect(L,te)},Ie.useEffectEvent=function(L){return C.H.useEffectEvent(L)},Ie.useId=function(){return C.H.useId()},Ie.useImperativeHandle=function(L,te,he){return C.H.useImperativeHandle(L,te,he)},Ie.useInsertionEffect=function(L,te){return C.H.useInsertionEffect(L,te)},Ie.useLayoutEffect=function(L,te){return C.H.useLayoutEffect(L,te)},Ie.useMemo=function(L,te){return C.H.useMemo(L,te)},Ie.useOptimistic=function(L,te){return C.H.useOptimistic(L,te)},Ie.useReducer=function(L,te,he){return C.H.useReducer(L,te,he)},Ie.useRef=function(L){return C.H.useRef(L)},Ie.useState=function(L){return C.H.useState(L)},Ie.useSyncExternalStore=function(L,te,he){return C.H.useSyncExternalStore(L,te,he)},Ie.useTransition=function(){return C.H.useTransition()},Ie.version="19.2.3",Ie}var ex;function Hy(){return ex||(ex=1,ng.exports=cI()),ng.exports}var D=Hy();const Hg=TE(D);var ig={exports:{}},ju={},sg={exports:{}},rg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tx;function hI(){return tx||(tx=1,(function(t){function e(J,ae){var de=J.length;J.push(ae);e:for(;0<de;){var Te=de-1>>>1,Oe=J[Te];if(0<a(Oe,ae))J[Te]=ae,J[de]=Oe,de=Te;else break e}}function n(J){return J.length===0?null:J[0]}function s(J){if(J.length===0)return null;var ae=J[0],de=J.pop();if(de!==ae){J[0]=de;e:for(var Te=0,Oe=J.length,L=Oe>>>1;Te<L;){var te=2*(Te+1)-1,he=J[te],me=te+1,Ee=J[me];if(0>a(he,de))me<Oe&&0>a(Ee,he)?(J[Te]=Ee,J[me]=de,Te=me):(J[Te]=he,J[te]=de,Te=te);else if(me<Oe&&0>a(Ee,de))J[Te]=Ee,J[me]=de,Te=me;else break e}}return ae}function a(J,ae){var de=J.sortIndex-ae.sortIndex;return de!==0?de:J.id-ae.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,f=c.now();t.unstable_now=function(){return c.now()-f}}var m=[],p=[],v=1,_=null,w=3,S=!1,N=!1,M=!1,O=!1,B=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;function oe(J){for(var ae=n(p);ae!==null;){if(ae.callback===null)s(p);else if(ae.startTime<=J)s(p),ae.sortIndex=ae.expirationTime,e(m,ae);else break;ae=n(p)}}function re(J){if(M=!1,oe(J),!N)if(n(m)!==null)N=!0,ce||(ce=!0,z());else{var ae=n(p);ae!==null&&ut(re,ae.startTime-J)}}var ce=!1,C=-1,A=5,I=-1;function P(){return O?!0:!(t.unstable_now()-I<A)}function k(){if(O=!1,ce){var J=t.unstable_now();I=J;var ae=!0;try{e:{N=!1,M&&(M=!1,G(C),C=-1),S=!0;var de=w;try{t:{for(oe(J),_=n(m);_!==null&&!(_.expirationTime>J&&P());){var Te=_.callback;if(typeof Te=="function"){_.callback=null,w=_.priorityLevel;var Oe=Te(_.expirationTime<=J);if(J=t.unstable_now(),typeof Oe=="function"){_.callback=Oe,oe(J),ae=!0;break t}_===n(m)&&s(m),oe(J)}else s(m);_=n(m)}if(_!==null)ae=!0;else{var L=n(p);L!==null&&ut(re,L.startTime-J),ae=!1}}break e}finally{_=null,w=de,S=!1}ae=void 0}}finally{ae?z():ce=!1}}}var z;if(typeof F=="function")z=function(){F(k)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,Qe=V.port2;V.port1.onmessage=k,z=function(){Qe.postMessage(null)}}else z=function(){B(k,0)};function ut(J,ae){C=B(function(){J(t.unstable_now())},ae)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(J){J.callback=null},t.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<J?Math.floor(1e3/J):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_next=function(J){switch(w){case 1:case 2:case 3:var ae=3;break;default:ae=w}var de=w;w=ae;try{return J()}finally{w=de}},t.unstable_requestPaint=function(){O=!0},t.unstable_runWithPriority=function(J,ae){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var de=w;w=J;try{return ae()}finally{w=de}},t.unstable_scheduleCallback=function(J,ae,de){var Te=t.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?Te+de:Te):de=Te,J){case 1:var Oe=-1;break;case 2:Oe=250;break;case 5:Oe=1073741823;break;case 4:Oe=1e4;break;default:Oe=5e3}return Oe=de+Oe,J={id:v++,callback:ae,priorityLevel:J,startTime:de,expirationTime:Oe,sortIndex:-1},de>Te?(J.sortIndex=de,e(p,J),n(m)===null&&J===n(p)&&(M?(G(C),C=-1):M=!0,ut(re,de-Te))):(J.sortIndex=Oe,e(m,J),N||S||(N=!0,ce||(ce=!0,z()))),J},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(J){var ae=w;return function(){var de=w;w=ae;try{return J.apply(this,arguments)}finally{w=de}}}})(rg)),rg}var nx;function fI(){return nx||(nx=1,sg.exports=hI()),sg.exports}var ag={exports:{}},mn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ix;function dI(){if(ix)return mn;ix=1;var t=Hy();function e(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,p,v){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:_==null?null:""+_,children:m,containerInfo:p,implementation:v}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return mn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,mn.createPortal=function(m,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(m,p,null,v)},mn.flushSync=function(m){var p=c.T,v=s.p;try{if(c.T=null,s.p=2,m)return m()}finally{c.T=p,s.p=v,s.d.f()}},mn.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(m,p))},mn.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},mn.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var v=p.as,_=f(v,p.crossOrigin),w=typeof p.integrity=="string"?p.integrity:void 0,S=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?s.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:_,integrity:w,fetchPriority:S}):v==="script"&&s.d.X(m,{crossOrigin:_,integrity:w,fetchPriority:S,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},mn.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=f(p.as,p.crossOrigin);s.d.M(m,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(m)},mn.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,_=f(v,p.crossOrigin);s.d.L(m,v,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},mn.preloadModule=function(m,p){if(typeof m=="string")if(p){var v=f(p.as,p.crossOrigin);s.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(m)},mn.requestFormReset=function(m){s.d.r(m)},mn.unstable_batchedUpdates=function(m,p){return m(p)},mn.useFormState=function(m,p,v){return c.H.useFormState(m,p,v)},mn.useFormStatus=function(){return c.H.useHostTransitionStatus()},mn.version="19.2.3",mn}var sx;function mI(){if(sx)return ag.exports;sx=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),ag.exports=dI(),ag.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rx;function pI(){if(rx)return ju;rx=1;var t=fI(),e=Hy(),n=mI();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var r=i,o=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(o=r.return),i=r.return;while(i)}return r.tag===3?o:null}function c(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function f(i){if(i.tag===31){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function m(i){if(l(i)!==i)throw Error(s(188))}function p(i){var r=i.alternate;if(!r){if(r=l(i),r===null)throw Error(s(188));return r!==i?null:i}for(var o=i,u=r;;){var d=o.return;if(d===null)break;var g=d.alternate;if(g===null){if(u=d.return,u!==null){o=u;continue}break}if(d.child===g.child){for(g=d.child;g;){if(g===o)return m(d),i;if(g===u)return m(d),r;g=g.sibling}throw Error(s(188))}if(o.return!==u.return)o=d,u=g;else{for(var x=!1,E=d.child;E;){if(E===o){x=!0,o=d,u=g;break}if(E===u){x=!0,u=d,o=g;break}E=E.sibling}if(!x){for(E=g.child;E;){if(E===o){x=!0,o=g,u=d;break}if(E===u){x=!0,u=g,o=d;break}E=E.sibling}if(!x)throw Error(s(189))}}if(o.alternate!==u)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?i:r}function v(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=v(i),r!==null)return r;i=i.sibling}return null}var _=Object.assign,w=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),G=Symbol.for("react.consumer"),F=Symbol.for("react.context"),oe=Symbol.for("react.forward_ref"),re=Symbol.for("react.suspense"),ce=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function z(i){return i===null||typeof i!="object"?null:(i=k&&i[k]||i["@@iterator"],typeof i=="function"?i:null)}var V=Symbol.for("react.client.reference");function Qe(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===V?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case M:return"Fragment";case B:return"Profiler";case O:return"StrictMode";case re:return"Suspense";case ce:return"SuspenseList";case I:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case N:return"Portal";case F:return i.displayName||"Context";case G:return(i._context.displayName||"Context")+".Consumer";case oe:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case C:return r=i.displayName||null,r!==null?r:Qe(i.type)||"Memo";case A:r=i._payload,i=i._init;try{return Qe(i(r))}catch{}}return null}var ut=Array.isArray,J=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},Te=[],Oe=-1;function L(i){return{current:i}}function te(i){0>Oe||(i.current=Te[Oe],Te[Oe]=null,Oe--)}function he(i,r){Oe++,Te[Oe]=i.current,i.current=r}var me=L(null),Ee=L(null),ke=L(null),Ce=L(null);function _t(i,r){switch(he(ke,r),he(Ee,i),he(me,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?b1(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=b1(r),i=x1(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}te(me),he(me,i)}function ht(){te(me),te(Ee),te(ke)}function On(i){i.memoizedState!==null&&he(Ce,i);var r=me.current,o=x1(r,i.type);r!==o&&(he(Ee,i),he(me,o))}function Js(i){Ee.current===i&&(te(me),te(Ee)),Ce.current===i&&(te(Ce),Du._currentValue=de)}var Zs,vs;function Yn(i){if(Zs===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);Zs=r&&r[1]||"",vs=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Zs+i+vs}var er=!1;function Pi(i,r){if(!i||er)return"";er=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var ne=function(){throw Error()};if(Object.defineProperty(ne.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ne,[])}catch(W){var Q=W}Reflect.construct(i,[],ne)}else{try{ne.call()}catch(W){Q=W}i.call(ne.prototype)}}else{try{throw Error()}catch(W){Q=W}(ne=i())&&typeof ne.catch=="function"&&ne.catch(function(){})}}catch(W){if(W&&Q&&typeof W.stack=="string")return[W.stack,Q.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),x=g[0],E=g[1];if(x&&E){var j=x.split(`
`),K=E.split(`
`);for(d=u=0;u<j.length&&!j[u].includes("DetermineComponentFrameRoot");)u++;for(;d<K.length&&!K[d].includes("DetermineComponentFrameRoot");)d++;if(u===j.length||d===K.length)for(u=j.length-1,d=K.length-1;1<=u&&0<=d&&j[u]!==K[d];)d--;for(;1<=u&&0<=d;u--,d--)if(j[u]!==K[d]){if(u!==1||d!==1)do if(u--,d--,0>d||j[u]!==K[d]){var Z=`
`+j[u].replace(" at new "," at ");return i.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",i.displayName)),Z}while(1<=u&&0<=d);break}}}finally{er=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?Yn(o):""}function tr(i,r){switch(i.tag){case 26:case 27:case 5:return Yn(i.type);case 16:return Yn("Lazy");case 13:return i.child!==r&&r!==null?Yn("Suspense Fallback"):Yn("Suspense");case 19:return Yn("SuspenseList");case 0:case 15:return Pi(i.type,!1);case 11:return Pi(i.type.render,!1);case 1:return Pi(i.type,!0);case 31:return Yn("Activity");default:return""}}function Y(i){try{var r="",o=null;do r+=tr(i,o),o=i,i=i.return;while(i);return r}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var le=Object.prototype.hasOwnProperty,xe=t.unstable_scheduleCallback,Se=t.unstable_cancelCallback,$e=t.unstable_shouldYield,io=t.unstable_requestPaint,Wt=t.unstable_now,wt=t.unstable_getCurrentPriorityLevel,Vl=t.unstable_ImmediatePriority,Ol=t.unstable_UserBlockingPriority,nr=t.unstable_NormalPriority,sm=t.unstable_LowPriority,qc=t.unstable_IdlePriority,Gc=t.log,$c=t.unstable_setDisableYieldValue,pi=null,rn=null;function Qn(i){if(typeof Gc=="function"&&$c(i),rn&&typeof rn.setStrictMode=="function")try{rn.setStrictMode(pi,i)}catch{}}var Nt=Math.clz32?Math.clz32:Yc,Kc=Math.log,so=Math.LN2;function Yc(i){return i>>>=0,i===0?32:31-(Kc(i)/so|0)|0}var Li=256,oa=262144,jt=4194304;function Ui(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function zi(i,r,o){var u=i.pendingLanes;if(u===0)return 0;var d=0,g=i.suspendedLanes,x=i.pingedLanes;i=i.warmLanes;var E=u&134217727;return E!==0?(u=E&~g,u!==0?d=Ui(u):(x&=E,x!==0?d=Ui(x):o||(o=E&~i,o!==0&&(d=Ui(o))))):(E=u&~g,E!==0?d=Ui(E):x!==0?d=Ui(x):o||(o=u&~i,o!==0&&(d=Ui(o)))),d===0?0:r!==0&&r!==d&&(r&g)===0&&(g=d&-d,o=r&-r,g>=o||g===32&&(o&4194048)!==0)?r:d}function gi(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function rm(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qc(){var i=jt;return jt<<=1,(jt&62914560)===0&&(jt=4194304),i}function Bi(i){for(var r=[],o=0;31>o;o++)r.push(i);return r}function la(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function am(i,r,o,u,d,g){var x=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var E=i.entanglements,j=i.expirationTimes,K=i.hiddenUpdates;for(o=x&~o;0<o;){var Z=31-Nt(o),ne=1<<Z;E[Z]=0,j[Z]=-1;var Q=K[Z];if(Q!==null)for(K[Z]=null,Z=0;Z<Q.length;Z++){var W=Q[Z];W!==null&&(W.lane&=-536870913)}o&=~ne}u!==0&&ua(i,u,0),g!==0&&d===0&&i.tag!==0&&(i.suspendedLanes|=g&~(x&~r))}function ua(i,r,o){i.pendingLanes|=r,i.suspendedLanes&=~r;var u=31-Nt(r);i.entangledLanes|=r,i.entanglements[u]=i.entanglements[u]|1073741824|o&261930}function jl(i,r){var o=i.entangledLanes|=r;for(i=i.entanglements;o;){var u=31-Nt(o),d=1<<u;d&r|i[u]&r&&(i[u]|=r),o&=~d}}function Pl(i,r){var o=r&-r;return o=(o&42)!==0?1:ca(o),(o&(i.suspendedLanes|r))!==0?0:o}function ca(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function _s(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Xc(){var i=ae.p;return i!==0?i:(i=window.event,i===void 0?32:q1(i.type))}function yi(i,r){var o=ae.p;try{return ae.p=i,r()}finally{ae.p=o}}var vi=Math.random().toString(36).slice(2),Pt="__reactFiber$"+vi,Jt="__reactProps$"+vi,Fi="__reactContainer$"+vi,ro="__reactEvents$"+vi,om="__reactListeners$"+vi,Wc="__reactHandles$"+vi,Jc="__reactResources$"+vi,Hi="__reactMarker$"+vi;function ao(i){delete i[Pt],delete i[Jt],delete i[ro],delete i[om],delete i[Wc]}function qi(i){var r=i[Pt];if(r)return r;for(var o=i.parentNode;o;){if(r=o[Fi]||o[Pt]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(i=C1(i);i!==null;){if(o=i[Pt])return o;i=C1(i)}return r}i=o,o=i.parentNode}return null}function Xn(i){if(i=i[Pt]||i[Fi]){var r=i.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return i}return null}function jn(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function Gi(i){var r=i[Jc];return r||(r=i[Jc]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Lt(i){i[Hi]=!0}var Ll=new Set,Ul={};function $i(i,r){Ki(i,r),Ki(i+"Capture",r)}function Ki(i,r){for(Ul[i]=r,i=0;i<r.length;i++)Ll.add(r[i])}var zl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Bl={},Fl={};function Zc(i){return le.call(Fl,i)?!0:le.call(Bl,i)?!1:zl.test(i)?Fl[i]=!0:(Bl[i]=!0,!1)}function oo(i,r,o){if(Zc(r))if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+o)}}function Pn(i,r,o){if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+o)}}function Ut(i,r,o,u){if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(r,o,""+u)}}function Zt(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function ir(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Hl(i,r,o){var u=Object.getOwnPropertyDescriptor(i.constructor.prototype,r);if(!i.hasOwnProperty(r)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var d=u.get,g=u.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return d.call(this)},set:function(x){o=""+x,g.call(this,x)}}),Object.defineProperty(i,r,{enumerable:u.enumerable}),{getValue:function(){return o},setValue:function(x){o=""+x},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function nt(i){if(!i._valueTracker){var r=ir(i)?"checked":"value";i._valueTracker=Hl(i,r,""+i[r])}}function ha(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return i&&(u=ir(i)?i.checked?"true":"false":i.value),i=u,i!==o?(r.setValue(i),!0):!1}function Yi(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var fa=/[\n"\\]/g;function En(i){return i.replace(fa,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function lo(i,r,o,u,d,g,x,E){i.name="",x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?i.type=x:i.removeAttribute("type"),r!=null?x==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+Zt(r)):i.value!==""+Zt(r)&&(i.value=""+Zt(r)):x!=="submit"&&x!=="reset"||i.removeAttribute("value"),r!=null?ql(i,x,Zt(r)):o!=null?ql(i,x,Zt(o)):u!=null&&i.removeAttribute("value"),d==null&&g!=null&&(i.defaultChecked=!!g),d!=null&&(i.checked=d&&typeof d!="function"&&typeof d!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?i.name=""+Zt(E):i.removeAttribute("name")}function eh(i,r,o,u,d,g,x,E){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(i.type=g),r!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||r!=null)){nt(i);return}o=o!=null?""+Zt(o):"",r=r!=null?""+Zt(r):o,E||r===i.value||(i.value=r),i.defaultValue=r}u=u??d,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=E?i.checked:!!u,i.defaultChecked=!!u,x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(i.name=x),nt(i)}function ql(i,r,o){r==="number"&&Yi(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function sr(i,r,o,u){if(i=i.options,r){r={};for(var d=0;d<o.length;d++)r["$"+o[d]]=!0;for(o=0;o<i.length;o++)d=r.hasOwnProperty("$"+i[o].value),i[o].selected!==d&&(i[o].selected=d),d&&u&&(i[o].defaultSelected=!0)}else{for(o=""+Zt(o),r=null,d=0;d<i.length;d++){if(i[d].value===o){i[d].selected=!0,u&&(i[d].defaultSelected=!0);return}r!==null||i[d].disabled||(r=i[d])}r!==null&&(r.selected=!0)}}function th(i,r,o){if(r!=null&&(r=""+Zt(r),r!==i.value&&(i.value=r),o==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=o!=null?""+Zt(o):""}function rr(i,r,o,u){if(r==null){if(u!=null){if(o!=null)throw Error(s(92));if(ut(u)){if(1<u.length)throw Error(s(93));u=u[0]}o=u}o==null&&(o=""),r=o}o=Zt(r),i.defaultValue=o,u=i.textContent,u===o&&u!==""&&u!==null&&(i.value=u),nt(i)}function Sn(i,r){if(r){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=r;return}}i.textContent=r}var nh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Gl(i,r,o){var u=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":u?i.setProperty(r,o):typeof o!="number"||o===0||nh.has(r)?r==="float"?i.cssFloat=o:i[r]=(""+o).trim():i[r]=o+"px"}function $l(i,r,o){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var d in r)u=r[d],r.hasOwnProperty(d)&&o[d]!==u&&Gl(i,d,u)}else for(var g in r)r.hasOwnProperty(g)&&Gl(i,g,r[g])}function uo(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ih=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ar=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function co(i){return ar.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function _i(){}var Kl=null;function Wn(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var or=null,Qi=null;function da(i){var r=Xn(i);if(r&&(i=r.stateNode)){var o=i[Jt]||null;e:switch(i=r.stateNode,r.type){case"input":if(lo(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+En(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==i&&u.form===i.form){var d=u[Jt]||null;if(!d)throw Error(s(90));lo(u,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(r=0;r<o.length;r++)u=o[r],u.form===i.form&&ha(u)}break e;case"textarea":th(i,o.value,o.defaultValue);break e;case"select":r=o.value,r!=null&&sr(i,!!o.multiple,r,!1)}}}var ho=!1;function lr(i,r,o){if(ho)return i(r,o);ho=!0;try{var u=i(r);return u}finally{if(ho=!1,(or!==null||Qi!==null)&&(Xh(),or&&(r=or,i=Qi,Qi=or=null,da(r),i)))for(r=0;r<i.length;r++)da(i[r])}}function bi(i,r){var o=i.stateNode;if(o===null)return null;var u=o[Jt]||null;if(u===null)return null;o=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break e;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(s(231,r,typeof o));return o}var Jn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ma=!1;if(Jn)try{var rt={};Object.defineProperty(rt,"passive",{get:function(){ma=!0}}),window.addEventListener("test",rt,rt),window.removeEventListener("test",rt,rt)}catch{ma=!1}var Xi=null,Yl=null,pa=null;function Ql(){if(pa)return pa;var i,r=Yl,o=r.length,u,d="value"in Xi?Xi.value:Xi.textContent,g=d.length;for(i=0;i<o&&r[i]===d[i];i++);var x=o-i;for(u=1;u<=x&&r[o-u]===d[g-u];u++);return pa=d.slice(i,1<u?1-u:void 0)}function ga(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function bs(){return!0}function xi(){return!1}function an(i){function r(o,u,d,g,x){this._reactName=o,this._targetInst=d,this.type=u,this.nativeEvent=g,this.target=x,this.currentTarget=null;for(var E in i)i.hasOwnProperty(E)&&(o=i[E],this[E]=o?o(g):g[E]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?bs:xi,this.isPropagationStopped=xi,this}return _(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=bs)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=bs)},persist:function(){},isPersistent:bs}),r}var xs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wi=an(xs),ur=_({},xs,{view:0,detail:0}),Xl=an(ur),cr,fo,Ji,mo=_({},ur,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hr,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Ji&&(Ji&&i.type==="mousemove"?(cr=i.screenX-Ji.screenX,fo=i.screenY-Ji.screenY):fo=cr=0,Ji=i),cr)},movementY:function(i){return"movementY"in i?i.movementY:fo}}),Wl=an(mo),ya=_({},mo,{dataTransfer:0}),sh=an(ya),rh=_({},ur,{relatedTarget:0}),va=an(rh),Jl=_({},xs,{animationName:0,elapsedTime:0,pseudoElement:0}),ah=an(Jl),po=_({},xs,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),oh=an(po),lh=_({},xs,{data:0}),Zi=an(lh),uh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ch={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fh(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=hh[i])?!!r[i]:!1}function hr(){return fh}var _n=_({},ur,{key:function(i){if(i.key){var r=uh[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=ga(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?ch[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hr,charCode:function(i){return i.type==="keypress"?ga(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?ga(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),dh=an(_n),mh=_({},mo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ws=an(mh),h=_({},ur,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hr}),b=an(h),T=_({},xs,{propertyName:0,elapsedTime:0,pseudoElement:0}),R=an(T),q=_({},mo,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),X=an(q),ue=_({},xs,{newState:0,oldState:0}),Me=an(ue),It=[9,13,27,32],Je=Jn&&"CompositionEvent"in window,gt=null;Jn&&"documentMode"in document&&(gt=document.documentMode);var Zn=Jn&&"TextEvent"in window&&!gt,es=Jn&&(!Je||gt&&8<gt&&11>=gt),wi=" ",Ti=!1;function _a(i,r){switch(i){case"keyup":return It.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function go(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var yo=!1;function kC(i,r){switch(i){case"compositionend":return go(r);case"keypress":return r.which!==32?null:(Ti=!0,wi);case"textInput":return i=r.data,i===wi&&Ti?null:i;default:return null}}function MC(i,r){if(yo)return i==="compositionend"||!Je&&_a(i,r)?(i=Ql(),pa=Yl=Xi=null,yo=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return es&&r.locale!=="ko"?null:r.data;default:return null}}var VC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dv(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!VC[i.type]:r==="textarea"}function kv(i,r,o,u){or?Qi?Qi.push(u):Qi=[u]:or=u,r=sf(r,"onChange"),0<r.length&&(o=new Wi("onChange","change",null,o,u),i.push({event:o,listeners:r}))}var Zl=null,eu=null;function OC(i){m1(i,0)}function ph(i){var r=jn(i);if(ha(r))return i}function Mv(i,r){if(i==="change")return r}var Vv=!1;if(Jn){var lm;if(Jn){var um="oninput"in document;if(!um){var Ov=document.createElement("div");Ov.setAttribute("oninput","return;"),um=typeof Ov.oninput=="function"}lm=um}else lm=!1;Vv=lm&&(!document.documentMode||9<document.documentMode)}function jv(){Zl&&(Zl.detachEvent("onpropertychange",Pv),eu=Zl=null)}function Pv(i){if(i.propertyName==="value"&&ph(eu)){var r=[];kv(r,eu,i,Wn(i)),lr(OC,r)}}function jC(i,r,o){i==="focusin"?(jv(),Zl=r,eu=o,Zl.attachEvent("onpropertychange",Pv)):i==="focusout"&&jv()}function PC(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return ph(eu)}function LC(i,r){if(i==="click")return ph(r)}function UC(i,r){if(i==="input"||i==="change")return ph(r)}function zC(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var Ln=typeof Object.is=="function"?Object.is:zC;function tu(i,r){if(Ln(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var o=Object.keys(i),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var d=o[u];if(!le.call(r,d)||!Ln(i[d],r[d]))return!1}return!0}function Lv(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Uv(i,r){var o=Lv(i);i=0;for(var u;o;){if(o.nodeType===3){if(u=i+o.textContent.length,i<=r&&u>=r)return{node:o,offset:r-i};i=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Lv(o)}}function zv(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?zv(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function Bv(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=Yi(i.document);r instanceof i.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)i=r.contentWindow;else break;r=Yi(i.document)}return r}function cm(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var BC=Jn&&"documentMode"in document&&11>=document.documentMode,vo=null,hm=null,nu=null,fm=!1;function Fv(i,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;fm||vo==null||vo!==Yi(u)||(u=vo,"selectionStart"in u&&cm(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),nu&&tu(nu,u)||(nu=u,u=sf(hm,"onSelect"),0<u.length&&(r=new Wi("onSelect","select",null,r,o),i.push({event:r,listeners:u}),r.target=vo)))}function ba(i,r){var o={};return o[i.toLowerCase()]=r.toLowerCase(),o["Webkit"+i]="webkit"+r,o["Moz"+i]="moz"+r,o}var _o={animationend:ba("Animation","AnimationEnd"),animationiteration:ba("Animation","AnimationIteration"),animationstart:ba("Animation","AnimationStart"),transitionrun:ba("Transition","TransitionRun"),transitionstart:ba("Transition","TransitionStart"),transitioncancel:ba("Transition","TransitionCancel"),transitionend:ba("Transition","TransitionEnd")},dm={},Hv={};Jn&&(Hv=document.createElement("div").style,"AnimationEvent"in window||(delete _o.animationend.animation,delete _o.animationiteration.animation,delete _o.animationstart.animation),"TransitionEvent"in window||delete _o.transitionend.transition);function xa(i){if(dm[i])return dm[i];if(!_o[i])return i;var r=_o[i],o;for(o in r)if(r.hasOwnProperty(o)&&o in Hv)return dm[i]=r[o];return i}var qv=xa("animationend"),Gv=xa("animationiteration"),$v=xa("animationstart"),FC=xa("transitionrun"),HC=xa("transitionstart"),qC=xa("transitioncancel"),Kv=xa("transitionend"),Yv=new Map,mm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");mm.push("scrollEnd");function Ei(i,r){Yv.set(i,r),$i(r,[i])}var gh=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},ei=[],bo=0,pm=0;function yh(){for(var i=bo,r=pm=bo=0;r<i;){var o=ei[r];ei[r++]=null;var u=ei[r];ei[r++]=null;var d=ei[r];ei[r++]=null;var g=ei[r];if(ei[r++]=null,u!==null&&d!==null){var x=u.pending;x===null?d.next=d:(d.next=x.next,x.next=d),u.pending=d}g!==0&&Qv(o,d,g)}}function vh(i,r,o,u){ei[bo++]=i,ei[bo++]=r,ei[bo++]=o,ei[bo++]=u,pm|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function gm(i,r,o,u){return vh(i,r,o,u),_h(i)}function wa(i,r){return vh(i,null,null,r),_h(i)}function Qv(i,r,o){i.lanes|=o;var u=i.alternate;u!==null&&(u.lanes|=o);for(var d=!1,g=i.return;g!==null;)g.childLanes|=o,u=g.alternate,u!==null&&(u.childLanes|=o),g.tag===22&&(i=g.stateNode,i===null||i._visibility&1||(d=!0)),i=g,g=g.return;return i.tag===3?(g=i.stateNode,d&&r!==null&&(d=31-Nt(o),i=g.hiddenUpdates,u=i[d],u===null?i[d]=[r]:u.push(r),r.lane=o|536870912),g):null}function _h(i){if(50<Eu)throw Eu=0,Sp=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var xo={};function GC(i,r,o,u){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Un(i,r,o,u){return new GC(i,r,o,u)}function ym(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Ts(i,r){var o=i.alternate;return o===null?(o=Un(i.tag,r,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=r,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,r=i.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function Xv(i,r){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,r=o.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function bh(i,r,o,u,d,g){var x=0;if(u=i,typeof i=="function")ym(i)&&(x=1);else if(typeof i=="string")x=XN(i,o,me.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case I:return i=Un(31,o,r,d),i.elementType=I,i.lanes=g,i;case M:return Ta(o.children,d,g,r);case O:x=8,d|=24;break;case B:return i=Un(12,o,r,d|2),i.elementType=B,i.lanes=g,i;case re:return i=Un(13,o,r,d),i.elementType=re,i.lanes=g,i;case ce:return i=Un(19,o,r,d),i.elementType=ce,i.lanes=g,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case F:x=10;break e;case G:x=9;break e;case oe:x=11;break e;case C:x=14;break e;case A:x=16,u=null;break e}x=29,o=Error(s(130,i===null?"null":typeof i,"")),u=null}return r=Un(x,o,r,d),r.elementType=i,r.type=u,r.lanes=g,r}function Ta(i,r,o,u){return i=Un(7,i,u,r),i.lanes=o,i}function vm(i,r,o){return i=Un(6,i,null,r),i.lanes=o,i}function Wv(i){var r=Un(18,null,null,0);return r.stateNode=i,r}function _m(i,r,o){return r=Un(4,i.children!==null?i.children:[],i.key,r),r.lanes=o,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var Jv=new WeakMap;function ti(i,r){if(typeof i=="object"&&i!==null){var o=Jv.get(i);return o!==void 0?o:(r={value:i,source:r,stack:Y(r)},Jv.set(i,r),r)}return{value:i,source:r,stack:Y(r)}}var wo=[],To=0,xh=null,iu=0,ni=[],ii=0,fr=null,ts=1,ns="";function Es(i,r){wo[To++]=iu,wo[To++]=xh,xh=i,iu=r}function Zv(i,r,o){ni[ii++]=ts,ni[ii++]=ns,ni[ii++]=fr,fr=i;var u=ts;i=ns;var d=32-Nt(u)-1;u&=~(1<<d),o+=1;var g=32-Nt(r)+d;if(30<g){var x=d-d%5;g=(u&(1<<x)-1).toString(32),u>>=x,d-=x,ts=1<<32-Nt(r)+d|o<<d|u,ns=g+i}else ts=1<<g|o<<d|u,ns=i}function bm(i){i.return!==null&&(Es(i,1),Zv(i,1,0))}function xm(i){for(;i===xh;)xh=wo[--To],wo[To]=null,iu=wo[--To],wo[To]=null;for(;i===fr;)fr=ni[--ii],ni[ii]=null,ns=ni[--ii],ni[ii]=null,ts=ni[--ii],ni[ii]=null}function e_(i,r){ni[ii++]=ts,ni[ii++]=ns,ni[ii++]=fr,ts=r.id,ns=r.overflow,fr=i}var on=null,dt=null,Ke=!1,dr=null,si=!1,wm=Error(s(519));function mr(i){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw su(ti(r,i)),wm}function t_(i){var r=i.stateNode,o=i.type,u=i.memoizedProps;switch(r[Pt]=i,r[Jt]=u,o){case"dialog":ze("cancel",r),ze("close",r);break;case"iframe":case"object":case"embed":ze("load",r);break;case"video":case"audio":for(o=0;o<Au.length;o++)ze(Au[o],r);break;case"source":ze("error",r);break;case"img":case"image":case"link":ze("error",r),ze("load",r);break;case"details":ze("toggle",r);break;case"input":ze("invalid",r),eh(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":ze("invalid",r);break;case"textarea":ze("invalid",r),rr(r,u.value,u.defaultValue,u.children)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||u.suppressHydrationWarning===!0||v1(r.textContent,o)?(u.popover!=null&&(ze("beforetoggle",r),ze("toggle",r)),u.onScroll!=null&&ze("scroll",r),u.onScrollEnd!=null&&ze("scrollend",r),u.onClick!=null&&(r.onclick=_i),r=!0):r=!1,r||mr(i,!0)}function n_(i){for(on=i.return;on;)switch(on.tag){case 5:case 31:case 13:si=!1;return;case 27:case 3:si=!0;return;default:on=on.return}}function Eo(i){if(i!==on)return!1;if(!Ke)return n_(i),Ke=!0,!1;var r=i.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||zp(i.type,i.memoizedProps)),o=!o),o&&dt&&mr(i),n_(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));dt=R1(i)}else if(r===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));dt=R1(i)}else r===27?(r=dt,Cr(i.type)?(i=Gp,Gp=null,dt=i):dt=r):dt=on?ai(i.stateNode.nextSibling):null;return!0}function Ea(){dt=on=null,Ke=!1}function Tm(){var i=dr;return i!==null&&(Nn===null?Nn=i:Nn.push.apply(Nn,i),dr=null),i}function su(i){dr===null?dr=[i]:dr.push(i)}var Em=L(null),Sa=null,Ss=null;function pr(i,r,o){he(Em,r._currentValue),r._currentValue=o}function As(i){i._currentValue=Em.current,te(Em)}function Sm(i,r,o){for(;i!==null;){var u=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),i===o)break;i=i.return}}function Am(i,r,o,u){var d=i.child;for(d!==null&&(d.return=i);d!==null;){var g=d.dependencies;if(g!==null){var x=d.child;g=g.firstContext;e:for(;g!==null;){var E=g;g=d;for(var j=0;j<r.length;j++)if(E.context===r[j]){g.lanes|=o,E=g.alternate,E!==null&&(E.lanes|=o),Sm(g.return,o,i),u||(x=null);break e}g=E.next}}else if(d.tag===18){if(x=d.return,x===null)throw Error(s(341));x.lanes|=o,g=x.alternate,g!==null&&(g.lanes|=o),Sm(x,o,i),x=null}else x=d.child;if(x!==null)x.return=d;else for(x=d;x!==null;){if(x===i){x=null;break}if(d=x.sibling,d!==null){d.return=x.return,x=d;break}x=x.return}d=x}}function So(i,r,o,u){i=null;for(var d=r,g=!1;d!==null;){if(!g){if((d.flags&524288)!==0)g=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var x=d.alternate;if(x===null)throw Error(s(387));if(x=x.memoizedProps,x!==null){var E=d.type;Ln(d.pendingProps.value,x.value)||(i!==null?i.push(E):i=[E])}}else if(d===Ce.current){if(x=d.alternate,x===null)throw Error(s(387));x.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(i!==null?i.push(Du):i=[Du])}d=d.return}i!==null&&Am(r,i,o,u),r.flags|=262144}function wh(i){for(i=i.firstContext;i!==null;){if(!Ln(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Aa(i){Sa=i,Ss=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function ln(i){return i_(Sa,i)}function Th(i,r){return Sa===null&&Aa(i),i_(i,r)}function i_(i,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},Ss===null){if(i===null)throw Error(s(308));Ss=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else Ss=Ss.next=r;return o}var $C=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(o,u){i.push(u)}};this.abort=function(){r.aborted=!0,i.forEach(function(o){return o()})}},KC=t.unstable_scheduleCallback,YC=t.unstable_NormalPriority,zt={$$typeof:F,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Rm(){return{controller:new $C,data:new Map,refCount:0}}function ru(i){i.refCount--,i.refCount===0&&KC(YC,function(){i.controller.abort()})}var au=null,Cm=0,Ao=0,Ro=null;function QC(i,r){if(au===null){var o=au=[];Cm=0,Ao=Dp(),Ro={status:"pending",value:void 0,then:function(u){o.push(u)}}}return Cm++,r.then(s_,s_),r}function s_(){if(--Cm===0&&au!==null){Ro!==null&&(Ro.status="fulfilled");var i=au;au=null,Ao=0,Ro=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function XC(i,r){var o=[],u={status:"pending",value:null,reason:null,then:function(d){o.push(d)}};return i.then(function(){u.status="fulfilled",u.value=r;for(var d=0;d<o.length;d++)(0,o[d])(r)},function(d){for(u.status="rejected",u.reason=d,d=0;d<o.length;d++)(0,o[d])(void 0)}),u}var r_=J.S;J.S=function(i,r){Fb=Wt(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&QC(i,r),r_!==null&&r_(i,r)};var Ra=L(null);function Nm(){var i=Ra.current;return i!==null?i:ct.pooledCache}function Eh(i,r){r===null?he(Ra,Ra.current):he(Ra,r.pool)}function a_(){var i=Nm();return i===null?null:{parent:zt._currentValue,pool:i}}var Co=Error(s(460)),Im=Error(s(474)),Sh=Error(s(542)),Ah={then:function(){}};function o_(i){return i=i.status,i==="fulfilled"||i==="rejected"}function l_(i,r,o){switch(o=i[o],o===void 0?i.push(r):o!==r&&(r.then(_i,_i),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,c_(i),i;default:if(typeof r.status=="string")r.then(_i,_i);else{if(i=ct,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(u){if(r.status==="pending"){var d=r;d.status="fulfilled",d.value=u}},function(u){if(r.status==="pending"){var d=r;d.status="rejected",d.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,c_(i),i}throw Na=r,Co}}function Ca(i){try{var r=i._init;return r(i._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Na=o,Co):o}}var Na=null;function u_(){if(Na===null)throw Error(s(459));var i=Na;return Na=null,i}function c_(i){if(i===Co||i===Sh)throw Error(s(483))}var No=null,ou=0;function Rh(i){var r=ou;return ou+=1,No===null&&(No=[]),l_(No,i,r)}function lu(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function Ch(i,r){throw r.$$typeof===w?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function h_(i){function r(H,U){if(i){var $=H.deletions;$===null?(H.deletions=[U],H.flags|=16):$.push(U)}}function o(H,U){if(!i)return null;for(;U!==null;)r(H,U),U=U.sibling;return null}function u(H){for(var U=new Map;H!==null;)H.key!==null?U.set(H.key,H):U.set(H.index,H),H=H.sibling;return U}function d(H,U){return H=Ts(H,U),H.index=0,H.sibling=null,H}function g(H,U,$){return H.index=$,i?($=H.alternate,$!==null?($=$.index,$<U?(H.flags|=67108866,U):$):(H.flags|=67108866,U)):(H.flags|=1048576,U)}function x(H){return i&&H.alternate===null&&(H.flags|=67108866),H}function E(H,U,$,ee){return U===null||U.tag!==6?(U=vm($,H.mode,ee),U.return=H,U):(U=d(U,$),U.return=H,U)}function j(H,U,$,ee){var _e=$.type;return _e===M?Z(H,U,$.props.children,ee,$.key):U!==null&&(U.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===A&&Ca(_e)===U.type)?(U=d(U,$.props),lu(U,$),U.return=H,U):(U=bh($.type,$.key,$.props,null,H.mode,ee),lu(U,$),U.return=H,U)}function K(H,U,$,ee){return U===null||U.tag!==4||U.stateNode.containerInfo!==$.containerInfo||U.stateNode.implementation!==$.implementation?(U=_m($,H.mode,ee),U.return=H,U):(U=d(U,$.children||[]),U.return=H,U)}function Z(H,U,$,ee,_e){return U===null||U.tag!==7?(U=Ta($,H.mode,ee,_e),U.return=H,U):(U=d(U,$),U.return=H,U)}function ne(H,U,$){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=vm(""+U,H.mode,$),U.return=H,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case S:return $=bh(U.type,U.key,U.props,null,H.mode,$),lu($,U),$.return=H,$;case N:return U=_m(U,H.mode,$),U.return=H,U;case A:return U=Ca(U),ne(H,U,$)}if(ut(U)||z(U))return U=Ta(U,H.mode,$,null),U.return=H,U;if(typeof U.then=="function")return ne(H,Rh(U),$);if(U.$$typeof===F)return ne(H,Th(H,U),$);Ch(H,U)}return null}function Q(H,U,$,ee){var _e=U!==null?U.key:null;if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return _e!==null?null:E(H,U,""+$,ee);if(typeof $=="object"&&$!==null){switch($.$$typeof){case S:return $.key===_e?j(H,U,$,ee):null;case N:return $.key===_e?K(H,U,$,ee):null;case A:return $=Ca($),Q(H,U,$,ee)}if(ut($)||z($))return _e!==null?null:Z(H,U,$,ee,null);if(typeof $.then=="function")return Q(H,U,Rh($),ee);if($.$$typeof===F)return Q(H,U,Th(H,$),ee);Ch(H,$)}return null}function W(H,U,$,ee,_e){if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return H=H.get($)||null,E(U,H,""+ee,_e);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case S:return H=H.get(ee.key===null?$:ee.key)||null,j(U,H,ee,_e);case N:return H=H.get(ee.key===null?$:ee.key)||null,K(U,H,ee,_e);case A:return ee=Ca(ee),W(H,U,$,ee,_e)}if(ut(ee)||z(ee))return H=H.get($)||null,Z(U,H,ee,_e,null);if(typeof ee.then=="function")return W(H,U,$,Rh(ee),_e);if(ee.$$typeof===F)return W(H,U,$,Th(U,ee),_e);Ch(U,ee)}return null}function ye(H,U,$,ee){for(var _e=null,Xe=null,ve=U,je=U=0,Fe=null;ve!==null&&je<$.length;je++){ve.index>je?(Fe=ve,ve=null):Fe=ve.sibling;var We=Q(H,ve,$[je],ee);if(We===null){ve===null&&(ve=Fe);break}i&&ve&&We.alternate===null&&r(H,ve),U=g(We,U,je),Xe===null?_e=We:Xe.sibling=We,Xe=We,ve=Fe}if(je===$.length)return o(H,ve),Ke&&Es(H,je),_e;if(ve===null){for(;je<$.length;je++)ve=ne(H,$[je],ee),ve!==null&&(U=g(ve,U,je),Xe===null?_e=ve:Xe.sibling=ve,Xe=ve);return Ke&&Es(H,je),_e}for(ve=u(ve);je<$.length;je++)Fe=W(ve,H,je,$[je],ee),Fe!==null&&(i&&Fe.alternate!==null&&ve.delete(Fe.key===null?je:Fe.key),U=g(Fe,U,je),Xe===null?_e=Fe:Xe.sibling=Fe,Xe=Fe);return i&&ve.forEach(function(Mr){return r(H,Mr)}),Ke&&Es(H,je),_e}function we(H,U,$,ee){if($==null)throw Error(s(151));for(var _e=null,Xe=null,ve=U,je=U=0,Fe=null,We=$.next();ve!==null&&!We.done;je++,We=$.next()){ve.index>je?(Fe=ve,ve=null):Fe=ve.sibling;var Mr=Q(H,ve,We.value,ee);if(Mr===null){ve===null&&(ve=Fe);break}i&&ve&&Mr.alternate===null&&r(H,ve),U=g(Mr,U,je),Xe===null?_e=Mr:Xe.sibling=Mr,Xe=Mr,ve=Fe}if(We.done)return o(H,ve),Ke&&Es(H,je),_e;if(ve===null){for(;!We.done;je++,We=$.next())We=ne(H,We.value,ee),We!==null&&(U=g(We,U,je),Xe===null?_e=We:Xe.sibling=We,Xe=We);return Ke&&Es(H,je),_e}for(ve=u(ve);!We.done;je++,We=$.next())We=W(ve,H,je,We.value,ee),We!==null&&(i&&We.alternate!==null&&ve.delete(We.key===null?je:We.key),U=g(We,U,je),Xe===null?_e=We:Xe.sibling=We,Xe=We);return i&&ve.forEach(function(oI){return r(H,oI)}),Ke&&Es(H,je),_e}function lt(H,U,$,ee){if(typeof $=="object"&&$!==null&&$.type===M&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case S:e:{for(var _e=$.key;U!==null;){if(U.key===_e){if(_e=$.type,_e===M){if(U.tag===7){o(H,U.sibling),ee=d(U,$.props.children),ee.return=H,H=ee;break e}}else if(U.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===A&&Ca(_e)===U.type){o(H,U.sibling),ee=d(U,$.props),lu(ee,$),ee.return=H,H=ee;break e}o(H,U);break}else r(H,U);U=U.sibling}$.type===M?(ee=Ta($.props.children,H.mode,ee,$.key),ee.return=H,H=ee):(ee=bh($.type,$.key,$.props,null,H.mode,ee),lu(ee,$),ee.return=H,H=ee)}return x(H);case N:e:{for(_e=$.key;U!==null;){if(U.key===_e)if(U.tag===4&&U.stateNode.containerInfo===$.containerInfo&&U.stateNode.implementation===$.implementation){o(H,U.sibling),ee=d(U,$.children||[]),ee.return=H,H=ee;break e}else{o(H,U);break}else r(H,U);U=U.sibling}ee=_m($,H.mode,ee),ee.return=H,H=ee}return x(H);case A:return $=Ca($),lt(H,U,$,ee)}if(ut($))return ye(H,U,$,ee);if(z($)){if(_e=z($),typeof _e!="function")throw Error(s(150));return $=_e.call($),we(H,U,$,ee)}if(typeof $.then=="function")return lt(H,U,Rh($),ee);if($.$$typeof===F)return lt(H,U,Th(H,$),ee);Ch(H,$)}return typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint"?($=""+$,U!==null&&U.tag===6?(o(H,U.sibling),ee=d(U,$),ee.return=H,H=ee):(o(H,U),ee=vm($,H.mode,ee),ee.return=H,H=ee),x(H)):o(H,U)}return function(H,U,$,ee){try{ou=0;var _e=lt(H,U,$,ee);return No=null,_e}catch(ve){if(ve===Co||ve===Sh)throw ve;var Xe=Un(29,ve,null,H.mode);return Xe.lanes=ee,Xe.return=H,Xe}finally{}}}var Ia=h_(!0),f_=h_(!1),gr=!1;function Dm(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function km(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function yr(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function vr(i,r,o){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,(Ze&2)!==0){var d=u.pending;return d===null?r.next=r:(r.next=d.next,d.next=r),u.pending=r,r=_h(i),Qv(i,null,o),r}return vh(i,u,r,o),_h(i)}function uu(i,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var u=r.lanes;u&=i.pendingLanes,o|=u,r.lanes=o,jl(i,o)}}function Mm(i,r){var o=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var d=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var x={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?d=g=x:g=g.next=x,o=o.next}while(o!==null);g===null?d=g=r:g=g.next=r}else d=g=r;o={baseState:u.baseState,firstBaseUpdate:d,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=r:i.next=r,o.lastBaseUpdate=r}var Vm=!1;function cu(){if(Vm){var i=Ro;if(i!==null)throw i}}function hu(i,r,o,u){Vm=!1;var d=i.updateQueue;gr=!1;var g=d.firstBaseUpdate,x=d.lastBaseUpdate,E=d.shared.pending;if(E!==null){d.shared.pending=null;var j=E,K=j.next;j.next=null,x===null?g=K:x.next=K,x=j;var Z=i.alternate;Z!==null&&(Z=Z.updateQueue,E=Z.lastBaseUpdate,E!==x&&(E===null?Z.firstBaseUpdate=K:E.next=K,Z.lastBaseUpdate=j))}if(g!==null){var ne=d.baseState;x=0,Z=K=j=null,E=g;do{var Q=E.lane&-536870913,W=Q!==E.lane;if(W?(Be&Q)===Q:(u&Q)===Q){Q!==0&&Q===Ao&&(Vm=!0),Z!==null&&(Z=Z.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var ye=i,we=E;Q=r;var lt=o;switch(we.tag){case 1:if(ye=we.payload,typeof ye=="function"){ne=ye.call(lt,ne,Q);break e}ne=ye;break e;case 3:ye.flags=ye.flags&-65537|128;case 0:if(ye=we.payload,Q=typeof ye=="function"?ye.call(lt,ne,Q):ye,Q==null)break e;ne=_({},ne,Q);break e;case 2:gr=!0}}Q=E.callback,Q!==null&&(i.flags|=64,W&&(i.flags|=8192),W=d.callbacks,W===null?d.callbacks=[Q]:W.push(Q))}else W={lane:Q,tag:E.tag,payload:E.payload,callback:E.callback,next:null},Z===null?(K=Z=W,j=ne):Z=Z.next=W,x|=Q;if(E=E.next,E===null){if(E=d.shared.pending,E===null)break;W=E,E=W.next,W.next=null,d.lastBaseUpdate=W,d.shared.pending=null}}while(!0);Z===null&&(j=ne),d.baseState=j,d.firstBaseUpdate=K,d.lastBaseUpdate=Z,g===null&&(d.shared.lanes=0),Tr|=x,i.lanes=x,i.memoizedState=ne}}function d_(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function m_(i,r){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)d_(o[i],r)}var Io=L(null),Nh=L(0);function p_(i,r){i=Os,he(Nh,i),he(Io,r),Os=i|r.baseLanes}function Om(){he(Nh,Os),he(Io,Io.current)}function jm(){Os=Nh.current,te(Io),te(Nh)}var zn=L(null),ri=null;function _r(i){var r=i.alternate;he(Dt,Dt.current&1),he(zn,i),ri===null&&(r===null||Io.current!==null||r.memoizedState!==null)&&(ri=i)}function Pm(i){he(Dt,Dt.current),he(zn,i),ri===null&&(ri=i)}function g_(i){i.tag===22?(he(Dt,Dt.current),he(zn,i),ri===null&&(ri=i)):br()}function br(){he(Dt,Dt.current),he(zn,zn.current)}function Bn(i){te(zn),ri===i&&(ri=null),te(Dt)}var Dt=L(0);function Ih(i){for(var r=i;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Hp(o)||qp(o)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Rs=0,Ve=null,at=null,Bt=null,Dh=!1,Do=!1,Da=!1,kh=0,fu=0,ko=null,WC=0;function Tt(){throw Error(s(321))}function Lm(i,r){if(r===null)return!1;for(var o=0;o<r.length&&o<i.length;o++)if(!Ln(i[o],r[o]))return!1;return!0}function Um(i,r,o,u,d,g){return Rs=g,Ve=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,J.H=i===null||i.memoizedState===null?Z_:ep,Da=!1,g=o(u,d),Da=!1,Do&&(g=v_(r,o,u,d)),y_(i),g}function y_(i){J.H=pu;var r=at!==null&&at.next!==null;if(Rs=0,Bt=at=Ve=null,Dh=!1,fu=0,ko=null,r)throw Error(s(300));i===null||Ft||(i=i.dependencies,i!==null&&wh(i)&&(Ft=!0))}function v_(i,r,o,u){Ve=i;var d=0;do{if(Do&&(ko=null),fu=0,Do=!1,25<=d)throw Error(s(301));if(d+=1,Bt=at=null,i.updateQueue!=null){var g=i.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}J.H=eb,g=r(o,u)}while(Do);return g}function JC(){var i=J.H,r=i.useState()[0];return r=typeof r.then=="function"?du(r):r,i=i.useState()[0],(at!==null?at.memoizedState:null)!==i&&(Ve.flags|=1024),r}function zm(){var i=kh!==0;return kh=0,i}function Bm(i,r,o){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~o}function Fm(i){if(Dh){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Dh=!1}Rs=0,Bt=at=Ve=null,Do=!1,fu=kh=0,ko=null}function bn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Bt===null?Ve.memoizedState=Bt=i:Bt=Bt.next=i,Bt}function kt(){if(at===null){var i=Ve.alternate;i=i!==null?i.memoizedState:null}else i=at.next;var r=Bt===null?Ve.memoizedState:Bt.next;if(r!==null)Bt=r,at=i;else{if(i===null)throw Ve.alternate===null?Error(s(467)):Error(s(310));at=i,i={memoizedState:at.memoizedState,baseState:at.baseState,baseQueue:at.baseQueue,queue:at.queue,next:null},Bt===null?Ve.memoizedState=Bt=i:Bt=Bt.next=i}return Bt}function Mh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function du(i){var r=fu;return fu+=1,ko===null&&(ko=[]),i=l_(ko,i,r),r=Ve,(Bt===null?r.memoizedState:Bt.next)===null&&(r=r.alternate,J.H=r===null||r.memoizedState===null?Z_:ep),i}function Vh(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return du(i);if(i.$$typeof===F)return ln(i)}throw Error(s(438,String(i)))}function Hm(i){var r=null,o=Ve.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var u=Ve.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(d){return d.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=Mh(),Ve.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(i),u=0;u<i;u++)o[u]=P;return r.index++,o}function Cs(i,r){return typeof r=="function"?r(i):r}function Oh(i){var r=kt();return qm(r,at,i)}function qm(i,r,o){var u=i.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=o;var d=i.baseQueue,g=u.pending;if(g!==null){if(d!==null){var x=d.next;d.next=g.next,g.next=x}r.baseQueue=d=g,u.pending=null}if(g=i.baseState,d===null)i.memoizedState=g;else{r=d.next;var E=x=null,j=null,K=r,Z=!1;do{var ne=K.lane&-536870913;if(ne!==K.lane?(Be&ne)===ne:(Rs&ne)===ne){var Q=K.revertLane;if(Q===0)j!==null&&(j=j.next={lane:0,revertLane:0,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),ne===Ao&&(Z=!0);else if((Rs&Q)===Q){K=K.next,Q===Ao&&(Z=!0);continue}else ne={lane:0,revertLane:K.revertLane,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},j===null?(E=j=ne,x=g):j=j.next=ne,Ve.lanes|=Q,Tr|=Q;ne=K.action,Da&&o(g,ne),g=K.hasEagerState?K.eagerState:o(g,ne)}else Q={lane:ne,revertLane:K.revertLane,gesture:K.gesture,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},j===null?(E=j=Q,x=g):j=j.next=Q,Ve.lanes|=ne,Tr|=ne;K=K.next}while(K!==null&&K!==r);if(j===null?x=g:j.next=E,!Ln(g,i.memoizedState)&&(Ft=!0,Z&&(o=Ro,o!==null)))throw o;i.memoizedState=g,i.baseState=x,i.baseQueue=j,u.lastRenderedState=g}return d===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function Gm(i){var r=kt(),o=r.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=i;var u=o.dispatch,d=o.pending,g=r.memoizedState;if(d!==null){o.pending=null;var x=d=d.next;do g=i(g,x.action),x=x.next;while(x!==d);Ln(g,r.memoizedState)||(Ft=!0),r.memoizedState=g,r.baseQueue===null&&(r.baseState=g),o.lastRenderedState=g}return[g,u]}function __(i,r,o){var u=Ve,d=kt(),g=Ke;if(g){if(o===void 0)throw Error(s(407));o=o()}else o=r();var x=!Ln((at||d).memoizedState,o);if(x&&(d.memoizedState=o,Ft=!0),d=d.queue,Ym(w_.bind(null,u,d,i),[i]),d.getSnapshot!==r||x||Bt!==null&&Bt.memoizedState.tag&1){if(u.flags|=2048,Mo(9,{destroy:void 0},x_.bind(null,u,d,o,r),null),ct===null)throw Error(s(349));g||(Rs&127)!==0||b_(u,r,o)}return o}function b_(i,r,o){i.flags|=16384,i={getSnapshot:r,value:o},r=Ve.updateQueue,r===null?(r=Mh(),Ve.updateQueue=r,r.stores=[i]):(o=r.stores,o===null?r.stores=[i]:o.push(i))}function x_(i,r,o,u){r.value=o,r.getSnapshot=u,T_(r)&&E_(i)}function w_(i,r,o){return o(function(){T_(r)&&E_(i)})}function T_(i){var r=i.getSnapshot;i=i.value;try{var o=r();return!Ln(i,o)}catch{return!0}}function E_(i){var r=wa(i,2);r!==null&&In(r,i,2)}function $m(i){var r=bn();if(typeof i=="function"){var o=i;if(i=o(),Da){Qn(!0);try{o()}finally{Qn(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cs,lastRenderedState:i},r}function S_(i,r,o,u){return i.baseState=o,qm(i,at,typeof u=="function"?u:Cs)}function ZC(i,r,o,u,d){if(Lh(i))throw Error(s(485));if(i=r.action,i!==null){var g={payload:d,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(x){g.listeners.push(x)}};J.T!==null?o(!0):g.isTransition=!1,u(g),o=r.pending,o===null?(g.next=r.pending=g,A_(r,g)):(g.next=o.next,r.pending=o.next=g)}}function A_(i,r){var o=r.action,u=r.payload,d=i.state;if(r.isTransition){var g=J.T,x={};J.T=x;try{var E=o(d,u),j=J.S;j!==null&&j(x,E),R_(i,r,E)}catch(K){Km(i,r,K)}finally{g!==null&&x.types!==null&&(g.types=x.types),J.T=g}}else try{g=o(d,u),R_(i,r,g)}catch(K){Km(i,r,K)}}function R_(i,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){C_(i,r,u)},function(u){return Km(i,r,u)}):C_(i,r,o)}function C_(i,r,o){r.status="fulfilled",r.value=o,N_(r),i.state=o,r=i.pending,r!==null&&(o=r.next,o===r?i.pending=null:(o=o.next,r.next=o,A_(i,o)))}function Km(i,r,o){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=o,N_(r),r=r.next;while(r!==u)}i.action=null}function N_(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function I_(i,r){return r}function D_(i,r){if(Ke){var o=ct.formState;if(o!==null){e:{var u=Ve;if(Ke){if(dt){t:{for(var d=dt,g=si;d.nodeType!==8;){if(!g){d=null;break t}if(d=ai(d.nextSibling),d===null){d=null;break t}}g=d.data,d=g==="F!"||g==="F"?d:null}if(d){dt=ai(d.nextSibling),u=d.data==="F!";break e}}mr(u)}u=!1}u&&(r=o[0])}}return o=bn(),o.memoizedState=o.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:I_,lastRenderedState:r},o.queue=u,o=X_.bind(null,Ve,u),u.dispatch=o,u=$m(!1),g=Zm.bind(null,Ve,!1,u.queue),u=bn(),d={state:r,dispatch:null,action:i,pending:null},u.queue=d,o=ZC.bind(null,Ve,d,g,o),d.dispatch=o,u.memoizedState=i,[r,o,!1]}function k_(i){var r=kt();return M_(r,at,i)}function M_(i,r,o){if(r=qm(i,r,I_)[0],i=Oh(Cs)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=du(r)}catch(x){throw x===Co?Sh:x}else u=r;r=kt();var d=r.queue,g=d.dispatch;return o!==r.memoizedState&&(Ve.flags|=2048,Mo(9,{destroy:void 0},eN.bind(null,d,o),null)),[u,g,i]}function eN(i,r){i.action=r}function V_(i){var r=kt(),o=at;if(o!==null)return M_(r,o,i);kt(),r=r.memoizedState,o=kt();var u=o.queue.dispatch;return o.memoizedState=i,[r,u,!1]}function Mo(i,r,o,u){return i={tag:i,create:o,deps:u,inst:r,next:null},r=Ve.updateQueue,r===null&&(r=Mh(),Ve.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=i.next=i:(u=o.next,o.next=i,i.next=u,r.lastEffect=i),i}function O_(){return kt().memoizedState}function jh(i,r,o,u){var d=bn();Ve.flags|=i,d.memoizedState=Mo(1|r,{destroy:void 0},o,u===void 0?null:u)}function Ph(i,r,o,u){var d=kt();u=u===void 0?null:u;var g=d.memoizedState.inst;at!==null&&u!==null&&Lm(u,at.memoizedState.deps)?d.memoizedState=Mo(r,g,o,u):(Ve.flags|=i,d.memoizedState=Mo(1|r,g,o,u))}function j_(i,r){jh(8390656,8,i,r)}function Ym(i,r){Ph(2048,8,i,r)}function tN(i){Ve.flags|=4;var r=Ve.updateQueue;if(r===null)r=Mh(),Ve.updateQueue=r,r.events=[i];else{var o=r.events;o===null?r.events=[i]:o.push(i)}}function P_(i){var r=kt().memoizedState;return tN({ref:r,nextImpl:i}),function(){if((Ze&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function L_(i,r){return Ph(4,2,i,r)}function U_(i,r){return Ph(4,4,i,r)}function z_(i,r){if(typeof r=="function"){i=i();var o=r(i);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function B_(i,r,o){o=o!=null?o.concat([i]):null,Ph(4,4,z_.bind(null,r,i),o)}function Qm(){}function F_(i,r){var o=kt();r=r===void 0?null:r;var u=o.memoizedState;return r!==null&&Lm(r,u[1])?u[0]:(o.memoizedState=[i,r],i)}function H_(i,r){var o=kt();r=r===void 0?null:r;var u=o.memoizedState;if(r!==null&&Lm(r,u[1]))return u[0];if(u=i(),Da){Qn(!0);try{i()}finally{Qn(!1)}}return o.memoizedState=[u,r],u}function Xm(i,r,o){return o===void 0||(Rs&1073741824)!==0&&(Be&261930)===0?i.memoizedState=r:(i.memoizedState=o,i=qb(),Ve.lanes|=i,Tr|=i,o)}function q_(i,r,o,u){return Ln(o,r)?o:Io.current!==null?(i=Xm(i,o,u),Ln(i,r)||(Ft=!0),i):(Rs&42)===0||(Rs&1073741824)!==0&&(Be&261930)===0?(Ft=!0,i.memoizedState=o):(i=qb(),Ve.lanes|=i,Tr|=i,r)}function G_(i,r,o,u,d){var g=ae.p;ae.p=g!==0&&8>g?g:8;var x=J.T,E={};J.T=E,Zm(i,!1,r,o);try{var j=d(),K=J.S;if(K!==null&&K(E,j),j!==null&&typeof j=="object"&&typeof j.then=="function"){var Z=XC(j,u);mu(i,r,Z,qn(i))}else mu(i,r,u,qn(i))}catch(ne){mu(i,r,{then:function(){},status:"rejected",reason:ne},qn())}finally{ae.p=g,x!==null&&E.types!==null&&(x.types=E.types),J.T=x}}function nN(){}function Wm(i,r,o,u){if(i.tag!==5)throw Error(s(476));var d=$_(i).queue;G_(i,d,r,de,o===null?nN:function(){return K_(i),o(u)})}function $_(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cs,lastRenderedState:de},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cs,lastRenderedState:o},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function K_(i){var r=$_(i);r.next===null&&(r=i.alternate.memoizedState),mu(i,r.next.queue,{},qn())}function Jm(){return ln(Du)}function Y_(){return kt().memoizedState}function Q_(){return kt().memoizedState}function iN(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var o=qn();i=yr(o);var u=vr(r,i,o);u!==null&&(In(u,r,o),uu(u,r,o)),r={cache:Rm()},i.payload=r;return}r=r.return}}function sN(i,r,o){var u=qn();o={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Lh(i)?W_(r,o):(o=gm(i,r,o,u),o!==null&&(In(o,i,u),J_(o,r,u)))}function X_(i,r,o){var u=qn();mu(i,r,o,u)}function mu(i,r,o,u){var d={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Lh(i))W_(r,d);else{var g=i.alternate;if(i.lanes===0&&(g===null||g.lanes===0)&&(g=r.lastRenderedReducer,g!==null))try{var x=r.lastRenderedState,E=g(x,o);if(d.hasEagerState=!0,d.eagerState=E,Ln(E,x))return vh(i,r,d,0),ct===null&&yh(),!1}catch{}finally{}if(o=gm(i,r,d,u),o!==null)return In(o,i,u),J_(o,r,u),!0}return!1}function Zm(i,r,o,u){if(u={lane:2,revertLane:Dp(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Lh(i)){if(r)throw Error(s(479))}else r=gm(i,o,u,2),r!==null&&In(r,i,2)}function Lh(i){var r=i.alternate;return i===Ve||r!==null&&r===Ve}function W_(i,r){Do=Dh=!0;var o=i.pending;o===null?r.next=r:(r.next=o.next,o.next=r),i.pending=r}function J_(i,r,o){if((o&4194048)!==0){var u=r.lanes;u&=i.pendingLanes,o|=u,r.lanes=o,jl(i,o)}}var pu={readContext:ln,use:Vh,useCallback:Tt,useContext:Tt,useEffect:Tt,useImperativeHandle:Tt,useLayoutEffect:Tt,useInsertionEffect:Tt,useMemo:Tt,useReducer:Tt,useRef:Tt,useState:Tt,useDebugValue:Tt,useDeferredValue:Tt,useTransition:Tt,useSyncExternalStore:Tt,useId:Tt,useHostTransitionStatus:Tt,useFormState:Tt,useActionState:Tt,useOptimistic:Tt,useMemoCache:Tt,useCacheRefresh:Tt};pu.useEffectEvent=Tt;var Z_={readContext:ln,use:Vh,useCallback:function(i,r){return bn().memoizedState=[i,r===void 0?null:r],i},useContext:ln,useEffect:j_,useImperativeHandle:function(i,r,o){o=o!=null?o.concat([i]):null,jh(4194308,4,z_.bind(null,r,i),o)},useLayoutEffect:function(i,r){return jh(4194308,4,i,r)},useInsertionEffect:function(i,r){jh(4,2,i,r)},useMemo:function(i,r){var o=bn();r=r===void 0?null:r;var u=i();if(Da){Qn(!0);try{i()}finally{Qn(!1)}}return o.memoizedState=[u,r],u},useReducer:function(i,r,o){var u=bn();if(o!==void 0){var d=o(r);if(Da){Qn(!0);try{o(r)}finally{Qn(!1)}}}else d=r;return u.memoizedState=u.baseState=d,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:d},u.queue=i,i=i.dispatch=sN.bind(null,Ve,i),[u.memoizedState,i]},useRef:function(i){var r=bn();return i={current:i},r.memoizedState=i},useState:function(i){i=$m(i);var r=i.queue,o=X_.bind(null,Ve,r);return r.dispatch=o,[i.memoizedState,o]},useDebugValue:Qm,useDeferredValue:function(i,r){var o=bn();return Xm(o,i,r)},useTransition:function(){var i=$m(!1);return i=G_.bind(null,Ve,i.queue,!0,!1),bn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,o){var u=Ve,d=bn();if(Ke){if(o===void 0)throw Error(s(407));o=o()}else{if(o=r(),ct===null)throw Error(s(349));(Be&127)!==0||b_(u,r,o)}d.memoizedState=o;var g={value:o,getSnapshot:r};return d.queue=g,j_(w_.bind(null,u,g,i),[i]),u.flags|=2048,Mo(9,{destroy:void 0},x_.bind(null,u,g,o,r),null),o},useId:function(){var i=bn(),r=ct.identifierPrefix;if(Ke){var o=ns,u=ts;o=(u&~(1<<32-Nt(u)-1)).toString(32)+o,r="_"+r+"R_"+o,o=kh++,0<o&&(r+="H"+o.toString(32)),r+="_"}else o=WC++,r="_"+r+"r_"+o.toString(32)+"_";return i.memoizedState=r},useHostTransitionStatus:Jm,useFormState:D_,useActionState:D_,useOptimistic:function(i){var r=bn();r.memoizedState=r.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=Zm.bind(null,Ve,!0,o),o.dispatch=r,[i,r]},useMemoCache:Hm,useCacheRefresh:function(){return bn().memoizedState=iN.bind(null,Ve)},useEffectEvent:function(i){var r=bn(),o={impl:i};return r.memoizedState=o,function(){if((Ze&2)!==0)throw Error(s(440));return o.impl.apply(void 0,arguments)}}},ep={readContext:ln,use:Vh,useCallback:F_,useContext:ln,useEffect:Ym,useImperativeHandle:B_,useInsertionEffect:L_,useLayoutEffect:U_,useMemo:H_,useReducer:Oh,useRef:O_,useState:function(){return Oh(Cs)},useDebugValue:Qm,useDeferredValue:function(i,r){var o=kt();return q_(o,at.memoizedState,i,r)},useTransition:function(){var i=Oh(Cs)[0],r=kt().memoizedState;return[typeof i=="boolean"?i:du(i),r]},useSyncExternalStore:__,useId:Y_,useHostTransitionStatus:Jm,useFormState:k_,useActionState:k_,useOptimistic:function(i,r){var o=kt();return S_(o,at,i,r)},useMemoCache:Hm,useCacheRefresh:Q_};ep.useEffectEvent=P_;var eb={readContext:ln,use:Vh,useCallback:F_,useContext:ln,useEffect:Ym,useImperativeHandle:B_,useInsertionEffect:L_,useLayoutEffect:U_,useMemo:H_,useReducer:Gm,useRef:O_,useState:function(){return Gm(Cs)},useDebugValue:Qm,useDeferredValue:function(i,r){var o=kt();return at===null?Xm(o,i,r):q_(o,at.memoizedState,i,r)},useTransition:function(){var i=Gm(Cs)[0],r=kt().memoizedState;return[typeof i=="boolean"?i:du(i),r]},useSyncExternalStore:__,useId:Y_,useHostTransitionStatus:Jm,useFormState:V_,useActionState:V_,useOptimistic:function(i,r){var o=kt();return at!==null?S_(o,at,i,r):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:Hm,useCacheRefresh:Q_};eb.useEffectEvent=P_;function tp(i,r,o,u){r=i.memoizedState,o=o(u,r),o=o==null?r:_({},r,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var np={enqueueSetState:function(i,r,o){i=i._reactInternals;var u=qn(),d=yr(u);d.payload=r,o!=null&&(d.callback=o),r=vr(i,d,u),r!==null&&(In(r,i,u),uu(r,i,u))},enqueueReplaceState:function(i,r,o){i=i._reactInternals;var u=qn(),d=yr(u);d.tag=1,d.payload=r,o!=null&&(d.callback=o),r=vr(i,d,u),r!==null&&(In(r,i,u),uu(r,i,u))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var o=qn(),u=yr(o);u.tag=2,r!=null&&(u.callback=r),r=vr(i,u,o),r!==null&&(In(r,i,o),uu(r,i,o))}};function tb(i,r,o,u,d,g,x){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,g,x):r.prototype&&r.prototype.isPureReactComponent?!tu(o,u)||!tu(d,g):!0}function nb(i,r,o,u){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==i&&np.enqueueReplaceState(r,r.state,null)}function ka(i,r){var o=r;if("ref"in r){o={};for(var u in r)u!=="ref"&&(o[u]=r[u])}if(i=i.defaultProps){o===r&&(o=_({},o));for(var d in i)o[d]===void 0&&(o[d]=i[d])}return o}function ib(i){gh(i)}function sb(i){console.error(i)}function rb(i){gh(i)}function Uh(i,r){try{var o=i.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function ab(i,r,o){try{var u=i.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function ip(i,r,o){return o=yr(o),o.tag=3,o.payload={element:null},o.callback=function(){Uh(i,r)},o}function ob(i){return i=yr(i),i.tag=3,i}function lb(i,r,o,u){var d=o.type.getDerivedStateFromError;if(typeof d=="function"){var g=u.value;i.payload=function(){return d(g)},i.callback=function(){ab(r,o,u)}}var x=o.stateNode;x!==null&&typeof x.componentDidCatch=="function"&&(i.callback=function(){ab(r,o,u),typeof d!="function"&&(Er===null?Er=new Set([this]):Er.add(this));var E=u.stack;this.componentDidCatch(u.value,{componentStack:E!==null?E:""})})}function rN(i,r,o,u,d){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=o.alternate,r!==null&&So(r,o,d,!0),o=zn.current,o!==null){switch(o.tag){case 31:case 13:return ri===null?Wh():o.alternate===null&&Et===0&&(Et=3),o.flags&=-257,o.flags|=65536,o.lanes=d,u===Ah?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([u]):r.add(u),Cp(i,u,d)),!1;case 22:return o.flags|=65536,u===Ah?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([u]):o.add(u)),Cp(i,u,d)),!1}throw Error(s(435,o.tag))}return Cp(i,u,d),Wh(),!1}if(Ke)return r=zn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=d,u!==wm&&(i=Error(s(422),{cause:u}),su(ti(i,o)))):(u!==wm&&(r=Error(s(423),{cause:u}),su(ti(r,o))),i=i.current.alternate,i.flags|=65536,d&=-d,i.lanes|=d,u=ti(u,o),d=ip(i.stateNode,u,d),Mm(i,d),Et!==4&&(Et=2)),!1;var g=Error(s(520),{cause:u});if(g=ti(g,o),Tu===null?Tu=[g]:Tu.push(g),Et!==4&&(Et=2),r===null)return!0;u=ti(u,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,i=d&-d,o.lanes|=i,i=ip(o.stateNode,u,i),Mm(o,i),!1;case 1:if(r=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Er===null||!Er.has(g))))return o.flags|=65536,d&=-d,o.lanes|=d,d=ob(d),lb(d,i,o,u),Mm(o,d),!1}o=o.return}while(o!==null);return!1}var sp=Error(s(461)),Ft=!1;function un(i,r,o,u){r.child=i===null?f_(r,null,o,u):Ia(r,i.child,o,u)}function ub(i,r,o,u,d){o=o.render;var g=r.ref;if("ref"in u){var x={};for(var E in u)E!=="ref"&&(x[E]=u[E])}else x=u;return Aa(r),u=Um(i,r,o,x,g,d),E=zm(),i!==null&&!Ft?(Bm(i,r,d),Ns(i,r,d)):(Ke&&E&&bm(r),r.flags|=1,un(i,r,u,d),r.child)}function cb(i,r,o,u,d){if(i===null){var g=o.type;return typeof g=="function"&&!ym(g)&&g.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=g,hb(i,r,g,u,d)):(i=bh(o.type,null,u,r,r.mode,d),i.ref=r.ref,i.return=r,r.child=i)}if(g=i.child,!fp(i,d)){var x=g.memoizedProps;if(o=o.compare,o=o!==null?o:tu,o(x,u)&&i.ref===r.ref)return Ns(i,r,d)}return r.flags|=1,i=Ts(g,u),i.ref=r.ref,i.return=r,r.child=i}function hb(i,r,o,u,d){if(i!==null){var g=i.memoizedProps;if(tu(g,u)&&i.ref===r.ref)if(Ft=!1,r.pendingProps=u=g,fp(i,d))(i.flags&131072)!==0&&(Ft=!0);else return r.lanes=i.lanes,Ns(i,r,d)}return rp(i,r,o,u,d)}function fb(i,r,o,u){var d=u.children,g=i!==null?i.memoizedState:null;if(i===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((r.flags&128)!==0){if(g=g!==null?g.baseLanes|o:o,i!==null){for(u=r.child=i.child,d=0;u!==null;)d=d|u.lanes|u.childLanes,u=u.sibling;u=d&~g}else u=0,r.child=null;return db(i,r,g,o,u)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&Eh(r,g!==null?g.cachePool:null),g!==null?p_(r,g):Om(),g_(r);else return u=r.lanes=536870912,db(i,r,g!==null?g.baseLanes|o:o,o,u)}else g!==null?(Eh(r,g.cachePool),p_(r,g),br(),r.memoizedState=null):(i!==null&&Eh(r,null),Om(),br());return un(i,r,d,o),r.child}function gu(i,r){return i!==null&&i.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function db(i,r,o,u,d){var g=Nm();return g=g===null?null:{parent:zt._currentValue,pool:g},r.memoizedState={baseLanes:o,cachePool:g},i!==null&&Eh(r,null),Om(),g_(r),i!==null&&So(i,r,u,!0),r.childLanes=d,null}function zh(i,r){return r=Fh({mode:r.mode,children:r.children},i.mode),r.ref=i.ref,i.child=r,r.return=i,r}function mb(i,r,o){return Ia(r,i.child,null,o),i=zh(r,r.pendingProps),i.flags|=2,Bn(r),r.memoizedState=null,i}function aN(i,r,o){var u=r.pendingProps,d=(r.flags&128)!==0;if(r.flags&=-129,i===null){if(Ke){if(u.mode==="hidden")return i=zh(r,u),r.lanes=536870912,gu(null,i);if(Pm(r),(i=dt)?(i=A1(i,si),i=i!==null&&i.data==="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:fr!==null?{id:ts,overflow:ns}:null,retryLane:536870912,hydrationErrors:null},o=Wv(i),o.return=r,r.child=o,on=r,dt=null)):i=null,i===null)throw mr(r);return r.lanes=536870912,null}return zh(r,u)}var g=i.memoizedState;if(g!==null){var x=g.dehydrated;if(Pm(r),d)if(r.flags&256)r.flags&=-257,r=mb(i,r,o);else if(r.memoizedState!==null)r.child=i.child,r.flags|=128,r=null;else throw Error(s(558));else if(Ft||So(i,r,o,!1),d=(o&i.childLanes)!==0,Ft||d){if(u=ct,u!==null&&(x=Pl(u,o),x!==0&&x!==g.retryLane))throw g.retryLane=x,wa(i,x),In(u,i,x),sp;Wh(),r=mb(i,r,o)}else i=g.treeContext,dt=ai(x.nextSibling),on=r,Ke=!0,dr=null,si=!1,i!==null&&e_(r,i),r=zh(r,u),r.flags|=4096;return r}return i=Ts(i.child,{mode:u.mode,children:u.children}),i.ref=r.ref,r.child=i,i.return=r,i}function Bh(i,r){var o=r.ref;if(o===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(i===null||i.ref!==o)&&(r.flags|=4194816)}}function rp(i,r,o,u,d){return Aa(r),o=Um(i,r,o,u,void 0,d),u=zm(),i!==null&&!Ft?(Bm(i,r,d),Ns(i,r,d)):(Ke&&u&&bm(r),r.flags|=1,un(i,r,o,d),r.child)}function pb(i,r,o,u,d,g){return Aa(r),r.updateQueue=null,o=v_(r,u,o,d),y_(i),u=zm(),i!==null&&!Ft?(Bm(i,r,g),Ns(i,r,g)):(Ke&&u&&bm(r),r.flags|=1,un(i,r,o,g),r.child)}function gb(i,r,o,u,d){if(Aa(r),r.stateNode===null){var g=xo,x=o.contextType;typeof x=="object"&&x!==null&&(g=ln(x)),g=new o(u,g),r.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=np,r.stateNode=g,g._reactInternals=r,g=r.stateNode,g.props=u,g.state=r.memoizedState,g.refs={},Dm(r),x=o.contextType,g.context=typeof x=="object"&&x!==null?ln(x):xo,g.state=r.memoizedState,x=o.getDerivedStateFromProps,typeof x=="function"&&(tp(r,o,x,u),g.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(x=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),x!==g.state&&np.enqueueReplaceState(g,g.state,null),hu(r,u,g,d),cu(),g.state=r.memoizedState),typeof g.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(i===null){g=r.stateNode;var E=r.memoizedProps,j=ka(o,E);g.props=j;var K=g.context,Z=o.contextType;x=xo,typeof Z=="object"&&Z!==null&&(x=ln(Z));var ne=o.getDerivedStateFromProps;Z=typeof ne=="function"||typeof g.getSnapshotBeforeUpdate=="function",E=r.pendingProps!==E,Z||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(E||K!==x)&&nb(r,g,u,x),gr=!1;var Q=r.memoizedState;g.state=Q,hu(r,u,g,d),cu(),K=r.memoizedState,E||Q!==K||gr?(typeof ne=="function"&&(tp(r,o,ne,u),K=r.memoizedState),(j=gr||tb(r,o,j,u,Q,K,x))?(Z||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(r.flags|=4194308)):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=K),g.props=u,g.state=K,g.context=x,u=j):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{g=r.stateNode,km(i,r),x=r.memoizedProps,Z=ka(o,x),g.props=Z,ne=r.pendingProps,Q=g.context,K=o.contextType,j=xo,typeof K=="object"&&K!==null&&(j=ln(K)),E=o.getDerivedStateFromProps,(K=typeof E=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(x!==ne||Q!==j)&&nb(r,g,u,j),gr=!1,Q=r.memoizedState,g.state=Q,hu(r,u,g,d),cu();var W=r.memoizedState;x!==ne||Q!==W||gr||i!==null&&i.dependencies!==null&&wh(i.dependencies)?(typeof E=="function"&&(tp(r,o,E,u),W=r.memoizedState),(Z=gr||tb(r,o,Z,u,Q,W,j)||i!==null&&i.dependencies!==null&&wh(i.dependencies))?(K||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,W,j),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,W,j)),typeof g.componentDidUpdate=="function"&&(r.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof g.componentDidUpdate!="function"||x===i.memoizedProps&&Q===i.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||x===i.memoizedProps&&Q===i.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=W),g.props=u,g.state=W,g.context=j,u=Z):(typeof g.componentDidUpdate!="function"||x===i.memoizedProps&&Q===i.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||x===i.memoizedProps&&Q===i.memoizedState||(r.flags|=1024),u=!1)}return g=u,Bh(i,r),u=(r.flags&128)!==0,g||u?(g=r.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:g.render(),r.flags|=1,i!==null&&u?(r.child=Ia(r,i.child,null,d),r.child=Ia(r,null,o,d)):un(i,r,o,d),r.memoizedState=g.state,i=r.child):i=Ns(i,r,d),i}function yb(i,r,o,u){return Ea(),r.flags|=256,un(i,r,o,u),r.child}var ap={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function op(i){return{baseLanes:i,cachePool:a_()}}function lp(i,r,o){return i=i!==null?i.childLanes&~o:0,r&&(i|=Hn),i}function vb(i,r,o){var u=r.pendingProps,d=!1,g=(r.flags&128)!==0,x;if((x=g)||(x=i!==null&&i.memoizedState===null?!1:(Dt.current&2)!==0),x&&(d=!0,r.flags&=-129),x=(r.flags&32)!==0,r.flags&=-33,i===null){if(Ke){if(d?_r(r):br(),(i=dt)?(i=A1(i,si),i=i!==null&&i.data!=="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:fr!==null?{id:ts,overflow:ns}:null,retryLane:536870912,hydrationErrors:null},o=Wv(i),o.return=r,r.child=o,on=r,dt=null)):i=null,i===null)throw mr(r);return qp(i)?r.lanes=32:r.lanes=536870912,null}var E=u.children;return u=u.fallback,d?(br(),d=r.mode,E=Fh({mode:"hidden",children:E},d),u=Ta(u,d,o,null),E.return=r,u.return=r,E.sibling=u,r.child=E,u=r.child,u.memoizedState=op(o),u.childLanes=lp(i,x,o),r.memoizedState=ap,gu(null,u)):(_r(r),up(r,E))}var j=i.memoizedState;if(j!==null&&(E=j.dehydrated,E!==null)){if(g)r.flags&256?(_r(r),r.flags&=-257,r=cp(i,r,o)):r.memoizedState!==null?(br(),r.child=i.child,r.flags|=128,r=null):(br(),E=u.fallback,d=r.mode,u=Fh({mode:"visible",children:u.children},d),E=Ta(E,d,o,null),E.flags|=2,u.return=r,E.return=r,u.sibling=E,r.child=u,Ia(r,i.child,null,o),u=r.child,u.memoizedState=op(o),u.childLanes=lp(i,x,o),r.memoizedState=ap,r=gu(null,u));else if(_r(r),qp(E)){if(x=E.nextSibling&&E.nextSibling.dataset,x)var K=x.dgst;x=K,u=Error(s(419)),u.stack="",u.digest=x,su({value:u,source:null,stack:null}),r=cp(i,r,o)}else if(Ft||So(i,r,o,!1),x=(o&i.childLanes)!==0,Ft||x){if(x=ct,x!==null&&(u=Pl(x,o),u!==0&&u!==j.retryLane))throw j.retryLane=u,wa(i,u),In(x,i,u),sp;Hp(E)||Wh(),r=cp(i,r,o)}else Hp(E)?(r.flags|=192,r.child=i.child,r=null):(i=j.treeContext,dt=ai(E.nextSibling),on=r,Ke=!0,dr=null,si=!1,i!==null&&e_(r,i),r=up(r,u.children),r.flags|=4096);return r}return d?(br(),E=u.fallback,d=r.mode,j=i.child,K=j.sibling,u=Ts(j,{mode:"hidden",children:u.children}),u.subtreeFlags=j.subtreeFlags&65011712,K!==null?E=Ts(K,E):(E=Ta(E,d,o,null),E.flags|=2),E.return=r,u.return=r,u.sibling=E,r.child=u,gu(null,u),u=r.child,E=i.child.memoizedState,E===null?E=op(o):(d=E.cachePool,d!==null?(j=zt._currentValue,d=d.parent!==j?{parent:j,pool:j}:d):d=a_(),E={baseLanes:E.baseLanes|o,cachePool:d}),u.memoizedState=E,u.childLanes=lp(i,x,o),r.memoizedState=ap,gu(i.child,u)):(_r(r),o=i.child,i=o.sibling,o=Ts(o,{mode:"visible",children:u.children}),o.return=r,o.sibling=null,i!==null&&(x=r.deletions,x===null?(r.deletions=[i],r.flags|=16):x.push(i)),r.child=o,r.memoizedState=null,o)}function up(i,r){return r=Fh({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function Fh(i,r){return i=Un(22,i,null,r),i.lanes=0,i}function cp(i,r,o){return Ia(r,i.child,null,o),i=up(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function _b(i,r,o){i.lanes|=r;var u=i.alternate;u!==null&&(u.lanes|=r),Sm(i.return,r,o)}function hp(i,r,o,u,d,g){var x=i.memoizedState;x===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:d,treeForkCount:g}:(x.isBackwards=r,x.rendering=null,x.renderingStartTime=0,x.last=u,x.tail=o,x.tailMode=d,x.treeForkCount=g)}function bb(i,r,o){var u=r.pendingProps,d=u.revealOrder,g=u.tail;u=u.children;var x=Dt.current,E=(x&2)!==0;if(E?(x=x&1|2,r.flags|=128):x&=1,he(Dt,x),un(i,r,u,o),u=Ke?iu:0,!E&&i!==null&&(i.flags&128)!==0)e:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&_b(i,o,r);else if(i.tag===19)_b(i,o,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(d){case"forwards":for(o=r.child,d=null;o!==null;)i=o.alternate,i!==null&&Ih(i)===null&&(d=o),o=o.sibling;o=d,o===null?(d=r.child,r.child=null):(d=o.sibling,o.sibling=null),hp(r,!1,d,o,g,u);break;case"backwards":case"unstable_legacy-backwards":for(o=null,d=r.child,r.child=null;d!==null;){if(i=d.alternate,i!==null&&Ih(i)===null){r.child=d;break}i=d.sibling,d.sibling=o,o=d,d=i}hp(r,!0,o,null,g,u);break;case"together":hp(r,!1,null,null,void 0,u);break;default:r.memoizedState=null}return r.child}function Ns(i,r,o){if(i!==null&&(r.dependencies=i.dependencies),Tr|=r.lanes,(o&r.childLanes)===0)if(i!==null){if(So(i,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,o=Ts(i,i.pendingProps),r.child=o,o.return=r;i.sibling!==null;)i=i.sibling,o=o.sibling=Ts(i,i.pendingProps),o.return=r;o.sibling=null}return r.child}function fp(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&wh(i)))}function oN(i,r,o){switch(r.tag){case 3:_t(r,r.stateNode.containerInfo),pr(r,zt,i.memoizedState.cache),Ea();break;case 27:case 5:On(r);break;case 4:_t(r,r.stateNode.containerInfo);break;case 10:pr(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,Pm(r),null;break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(_r(r),r.flags|=128,null):(o&r.child.childLanes)!==0?vb(i,r,o):(_r(r),i=Ns(i,r,o),i!==null?i.sibling:null);_r(r);break;case 19:var d=(i.flags&128)!==0;if(u=(o&r.childLanes)!==0,u||(So(i,r,o,!1),u=(o&r.childLanes)!==0),d){if(u)return bb(i,r,o);r.flags|=128}if(d=r.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),he(Dt,Dt.current),u)break;return null;case 22:return r.lanes=0,fb(i,r,o,r.pendingProps);case 24:pr(r,zt,i.memoizedState.cache)}return Ns(i,r,o)}function xb(i,r,o){if(i!==null)if(i.memoizedProps!==r.pendingProps)Ft=!0;else{if(!fp(i,o)&&(r.flags&128)===0)return Ft=!1,oN(i,r,o);Ft=(i.flags&131072)!==0}else Ft=!1,Ke&&(r.flags&1048576)!==0&&Zv(r,iu,r.index);switch(r.lanes=0,r.tag){case 16:e:{var u=r.pendingProps;if(i=Ca(r.elementType),r.type=i,typeof i=="function")ym(i)?(u=ka(i,u),r.tag=1,r=gb(null,r,i,u,o)):(r.tag=0,r=rp(null,r,i,u,o));else{if(i!=null){var d=i.$$typeof;if(d===oe){r.tag=11,r=ub(null,r,i,u,o);break e}else if(d===C){r.tag=14,r=cb(null,r,i,u,o);break e}}throw r=Qe(i)||i,Error(s(306,r,""))}}return r;case 0:return rp(i,r,r.type,r.pendingProps,o);case 1:return u=r.type,d=ka(u,r.pendingProps),gb(i,r,u,d,o);case 3:e:{if(_t(r,r.stateNode.containerInfo),i===null)throw Error(s(387));u=r.pendingProps;var g=r.memoizedState;d=g.element,km(i,r),hu(r,u,null,o);var x=r.memoizedState;if(u=x.cache,pr(r,zt,u),u!==g.cache&&Am(r,[zt],o,!0),cu(),u=x.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:x.cache},r.updateQueue.baseState=g,r.memoizedState=g,r.flags&256){r=yb(i,r,u,o);break e}else if(u!==d){d=ti(Error(s(424)),r),su(d),r=yb(i,r,u,o);break e}else{switch(i=r.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(dt=ai(i.firstChild),on=r,Ke=!0,dr=null,si=!0,o=f_(r,null,u,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Ea(),u===d){r=Ns(i,r,o);break e}un(i,r,u,o)}r=r.child}return r;case 26:return Bh(i,r),i===null?(o=k1(r.type,null,r.pendingProps,null))?r.memoizedState=o:Ke||(o=r.type,i=r.pendingProps,u=rf(ke.current).createElement(o),u[Pt]=r,u[Jt]=i,cn(u,o,i),Lt(u),r.stateNode=u):r.memoizedState=k1(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return On(r),i===null&&Ke&&(u=r.stateNode=N1(r.type,r.pendingProps,ke.current),on=r,si=!0,d=dt,Cr(r.type)?(Gp=d,dt=ai(u.firstChild)):dt=d),un(i,r,r.pendingProps.children,o),Bh(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&Ke&&((d=u=dt)&&(u=PN(u,r.type,r.pendingProps,si),u!==null?(r.stateNode=u,on=r,dt=ai(u.firstChild),si=!1,d=!0):d=!1),d||mr(r)),On(r),d=r.type,g=r.pendingProps,x=i!==null?i.memoizedProps:null,u=g.children,zp(d,g)?u=null:x!==null&&zp(d,x)&&(r.flags|=32),r.memoizedState!==null&&(d=Um(i,r,JC,null,null,o),Du._currentValue=d),Bh(i,r),un(i,r,u,o),r.child;case 6:return i===null&&Ke&&((i=o=dt)&&(o=LN(o,r.pendingProps,si),o!==null?(r.stateNode=o,on=r,dt=null,i=!0):i=!1),i||mr(r)),null;case 13:return vb(i,r,o);case 4:return _t(r,r.stateNode.containerInfo),u=r.pendingProps,i===null?r.child=Ia(r,null,u,o):un(i,r,u,o),r.child;case 11:return ub(i,r,r.type,r.pendingProps,o);case 7:return un(i,r,r.pendingProps,o),r.child;case 8:return un(i,r,r.pendingProps.children,o),r.child;case 12:return un(i,r,r.pendingProps.children,o),r.child;case 10:return u=r.pendingProps,pr(r,r.type,u.value),un(i,r,u.children,o),r.child;case 9:return d=r.type._context,u=r.pendingProps.children,Aa(r),d=ln(d),u=u(d),r.flags|=1,un(i,r,u,o),r.child;case 14:return cb(i,r,r.type,r.pendingProps,o);case 15:return hb(i,r,r.type,r.pendingProps,o);case 19:return bb(i,r,o);case 31:return aN(i,r,o);case 22:return fb(i,r,o,r.pendingProps);case 24:return Aa(r),u=ln(zt),i===null?(d=Nm(),d===null&&(d=ct,g=Rm(),d.pooledCache=g,g.refCount++,g!==null&&(d.pooledCacheLanes|=o),d=g),r.memoizedState={parent:u,cache:d},Dm(r),pr(r,zt,d)):((i.lanes&o)!==0&&(km(i,r),hu(r,null,null,o),cu()),d=i.memoizedState,g=r.memoizedState,d.parent!==u?(d={parent:u,cache:u},r.memoizedState=d,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=d),pr(r,zt,u)):(u=g.cache,pr(r,zt,u),u!==d.cache&&Am(r,[zt],o,!0))),un(i,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function Is(i){i.flags|=4}function dp(i,r,o,u,d){if((r=(i.mode&32)!==0)&&(r=!1),r){if(i.flags|=16777216,(d&335544128)===d)if(i.stateNode.complete)i.flags|=8192;else if(Yb())i.flags|=8192;else throw Na=Ah,Im}else i.flags&=-16777217}function wb(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!P1(r))if(Yb())i.flags|=8192;else throw Na=Ah,Im}function Hh(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?Qc():536870912,i.lanes|=r,Po|=r)}function yu(i,r){if(!Ke)switch(i.tailMode){case"hidden":r=i.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function mt(i){var r=i.alternate!==null&&i.alternate.child===i.child,o=0,u=0;if(r)for(var d=i.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags&65011712,u|=d.flags&65011712,d.return=i,d=d.sibling;else for(d=i.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags,u|=d.flags,d.return=i,d=d.sibling;return i.subtreeFlags|=u,i.childLanes=o,r}function lN(i,r,o){var u=r.pendingProps;switch(xm(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mt(r),null;case 1:return mt(r),null;case 3:return o=r.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),As(zt),ht(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(Eo(r)?Is(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Tm())),mt(r),null;case 26:var d=r.type,g=r.memoizedState;return i===null?(Is(r),g!==null?(mt(r),wb(r,g)):(mt(r),dp(r,d,null,u,o))):g?g!==i.memoizedState?(Is(r),mt(r),wb(r,g)):(mt(r),r.flags&=-16777217):(i=i.memoizedProps,i!==u&&Is(r),mt(r),dp(r,d,i,u,o)),null;case 27:if(Js(r),o=ke.current,d=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==u&&Is(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return mt(r),null}i=me.current,Eo(r)?t_(r):(i=N1(d,u,o),r.stateNode=i,Is(r))}return mt(r),null;case 5:if(Js(r),d=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==u&&Is(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return mt(r),null}if(g=me.current,Eo(r))t_(r);else{var x=rf(ke.current);switch(g){case 1:g=x.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:g=x.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":g=x.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":g=x.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":g=x.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof u.is=="string"?x.createElement("select",{is:u.is}):x.createElement("select"),u.multiple?g.multiple=!0:u.size&&(g.size=u.size);break;default:g=typeof u.is=="string"?x.createElement(d,{is:u.is}):x.createElement(d)}}g[Pt]=r,g[Jt]=u;e:for(x=r.child;x!==null;){if(x.tag===5||x.tag===6)g.appendChild(x.stateNode);else if(x.tag!==4&&x.tag!==27&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===r)break e;for(;x.sibling===null;){if(x.return===null||x.return===r)break e;x=x.return}x.sibling.return=x.return,x=x.sibling}r.stateNode=g;e:switch(cn(g,d,u),d){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&Is(r)}}return mt(r),dp(r,r.type,i===null?null:i.memoizedProps,r.pendingProps,o),null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==u&&Is(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(s(166));if(i=ke.current,Eo(r)){if(i=r.stateNode,o=r.memoizedProps,u=null,d=on,d!==null)switch(d.tag){case 27:case 5:u=d.memoizedProps}i[Pt]=r,i=!!(i.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||v1(i.nodeValue,o)),i||mr(r,!0)}else i=rf(i).createTextNode(u),i[Pt]=r,r.stateNode=i}return mt(r),null;case 31:if(o=r.memoizedState,i===null||i.memoizedState!==null){if(u=Eo(r),o!==null){if(i===null){if(!u)throw Error(s(318));if(i=r.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(557));i[Pt]=r}else Ea(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;mt(r),i=!1}else o=Tm(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=o),i=!0;if(!i)return r.flags&256?(Bn(r),r):(Bn(r),null);if((r.flags&128)!==0)throw Error(s(558))}return mt(r),null;case 13:if(u=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(d=Eo(r),u!==null&&u.dehydrated!==null){if(i===null){if(!d)throw Error(s(318));if(d=r.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(s(317));d[Pt]=r}else Ea(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;mt(r),d=!1}else d=Tm(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=d),d=!0;if(!d)return r.flags&256?(Bn(r),r):(Bn(r),null)}return Bn(r),(r.flags&128)!==0?(r.lanes=o,r):(o=u!==null,i=i!==null&&i.memoizedState!==null,o&&(u=r.child,d=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(d=u.alternate.memoizedState.cachePool.pool),g=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==d&&(u.flags|=2048)),o!==i&&o&&(r.child.flags|=8192),Hh(r,r.updateQueue),mt(r),null);case 4:return ht(),i===null&&Op(r.stateNode.containerInfo),mt(r),null;case 10:return As(r.type),mt(r),null;case 19:if(te(Dt),u=r.memoizedState,u===null)return mt(r),null;if(d=(r.flags&128)!==0,g=u.rendering,g===null)if(d)yu(u,!1);else{if(Et!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(g=Ih(i),g!==null){for(r.flags|=128,yu(u,!1),i=g.updateQueue,r.updateQueue=i,Hh(r,i),r.subtreeFlags=0,i=o,o=r.child;o!==null;)Xv(o,i),o=o.sibling;return he(Dt,Dt.current&1|2),Ke&&Es(r,u.treeForkCount),r.child}i=i.sibling}u.tail!==null&&Wt()>Yh&&(r.flags|=128,d=!0,yu(u,!1),r.lanes=4194304)}else{if(!d)if(i=Ih(g),i!==null){if(r.flags|=128,d=!0,i=i.updateQueue,r.updateQueue=i,Hh(r,i),yu(u,!0),u.tail===null&&u.tailMode==="hidden"&&!g.alternate&&!Ke)return mt(r),null}else 2*Wt()-u.renderingStartTime>Yh&&o!==536870912&&(r.flags|=128,d=!0,yu(u,!1),r.lanes=4194304);u.isBackwards?(g.sibling=r.child,r.child=g):(i=u.last,i!==null?i.sibling=g:r.child=g,u.last=g)}return u.tail!==null?(i=u.tail,u.rendering=i,u.tail=i.sibling,u.renderingStartTime=Wt(),i.sibling=null,o=Dt.current,he(Dt,d?o&1|2:o&1),Ke&&Es(r,u.treeForkCount),i):(mt(r),null);case 22:case 23:return Bn(r),jm(),u=r.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(o&536870912)!==0&&(r.flags&128)===0&&(mt(r),r.subtreeFlags&6&&(r.flags|=8192)):mt(r),o=r.updateQueue,o!==null&&Hh(r,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==o&&(r.flags|=2048),i!==null&&te(Ra),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),As(zt),mt(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function uN(i,r){switch(xm(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return As(zt),ht(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return Js(r),null;case 31:if(r.memoizedState!==null){if(Bn(r),r.alternate===null)throw Error(s(340));Ea()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 13:if(Bn(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Ea()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return te(Dt),null;case 4:return ht(),null;case 10:return As(r.type),null;case 22:case 23:return Bn(r),jm(),i!==null&&te(Ra),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return As(zt),null;case 25:return null;default:return null}}function Tb(i,r){switch(xm(r),r.tag){case 3:As(zt),ht();break;case 26:case 27:case 5:Js(r);break;case 4:ht();break;case 31:r.memoizedState!==null&&Bn(r);break;case 13:Bn(r);break;case 19:te(Dt);break;case 10:As(r.type);break;case 22:case 23:Bn(r),jm(),i!==null&&te(Ra);break;case 24:As(zt)}}function vu(i,r){try{var o=r.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var d=u.next;o=d;do{if((o.tag&i)===i){u=void 0;var g=o.create,x=o.inst;u=g(),x.destroy=u}o=o.next}while(o!==d)}}catch(E){st(r,r.return,E)}}function xr(i,r,o){try{var u=r.updateQueue,d=u!==null?u.lastEffect:null;if(d!==null){var g=d.next;u=g;do{if((u.tag&i)===i){var x=u.inst,E=x.destroy;if(E!==void 0){x.destroy=void 0,d=r;var j=o,K=E;try{K()}catch(Z){st(d,j,Z)}}}u=u.next}while(u!==g)}}catch(Z){st(r,r.return,Z)}}function Eb(i){var r=i.updateQueue;if(r!==null){var o=i.stateNode;try{m_(r,o)}catch(u){st(i,i.return,u)}}}function Sb(i,r,o){o.props=ka(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(u){st(i,r,u)}}function _u(i,r){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var u=i.stateNode;break;case 30:u=i.stateNode;break;default:u=i.stateNode}typeof o=="function"?i.refCleanup=o(u):o.current=u}}catch(d){st(i,r,d)}}function is(i,r){var o=i.ref,u=i.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(d){st(i,r,d)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(d){st(i,r,d)}else o.current=null}function Ab(i){var r=i.type,o=i.memoizedProps,u=i.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(d){st(i,i.return,d)}}function mp(i,r,o){try{var u=i.stateNode;DN(u,i.type,o,r),u[Jt]=r}catch(d){st(i,i.return,d)}}function Rb(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Cr(i.type)||i.tag===4}function pp(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Rb(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Cr(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function gp(i,r,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(i),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=_i));else if(u!==4&&(u===27&&Cr(i.type)&&(o=i.stateNode,r=null),i=i.child,i!==null))for(gp(i,r,o),i=i.sibling;i!==null;)gp(i,r,o),i=i.sibling}function qh(i,r,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?o.insertBefore(i,r):o.appendChild(i);else if(u!==4&&(u===27&&Cr(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(qh(i,r,o),i=i.sibling;i!==null;)qh(i,r,o),i=i.sibling}function Cb(i){var r=i.stateNode,o=i.memoizedProps;try{for(var u=i.type,d=r.attributes;d.length;)r.removeAttributeNode(d[0]);cn(r,u,o),r[Pt]=i,r[Jt]=o}catch(g){st(i,i.return,g)}}var Ds=!1,Ht=!1,yp=!1,Nb=typeof WeakSet=="function"?WeakSet:Set,en=null;function cN(i,r){if(i=i.containerInfo,Lp=ff,i=Bv(i),cm(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else e:{o=(o=i.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var d=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var x=0,E=-1,j=-1,K=0,Z=0,ne=i,Q=null;t:for(;;){for(var W;ne!==o||d!==0&&ne.nodeType!==3||(E=x+d),ne!==g||u!==0&&ne.nodeType!==3||(j=x+u),ne.nodeType===3&&(x+=ne.nodeValue.length),(W=ne.firstChild)!==null;)Q=ne,ne=W;for(;;){if(ne===i)break t;if(Q===o&&++K===d&&(E=x),Q===g&&++Z===u&&(j=x),(W=ne.nextSibling)!==null)break;ne=Q,Q=ne.parentNode}ne=W}o=E===-1||j===-1?null:{start:E,end:j}}else o=null}o=o||{start:0,end:0}}else o=null;for(Up={focusedElem:i,selectionRange:o},ff=!1,en=r;en!==null;)if(r=en,i=r.child,(r.subtreeFlags&1028)!==0&&i!==null)i.return=r,en=i;else for(;en!==null;){switch(r=en,g=r.alternate,i=r.flags,r.tag){case 0:if((i&4)!==0&&(i=r.updateQueue,i=i!==null?i.events:null,i!==null))for(o=0;o<i.length;o++)d=i[o],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&g!==null){i=void 0,o=r,d=g.memoizedProps,g=g.memoizedState,u=o.stateNode;try{var ye=ka(o.type,d);i=u.getSnapshotBeforeUpdate(ye,g),u.__reactInternalSnapshotBeforeUpdate=i}catch(we){st(o,o.return,we)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,o=i.nodeType,o===9)Fp(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Fp(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,en=i;break}en=r.return}}function Ib(i,r,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:Ms(i,o),u&4&&vu(5,o);break;case 1:if(Ms(i,o),u&4)if(i=o.stateNode,r===null)try{i.componentDidMount()}catch(x){st(o,o.return,x)}else{var d=ka(o.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(d,r,i.__reactInternalSnapshotBeforeUpdate)}catch(x){st(o,o.return,x)}}u&64&&Eb(o),u&512&&_u(o,o.return);break;case 3:if(Ms(i,o),u&64&&(i=o.updateQueue,i!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{m_(i,r)}catch(x){st(o,o.return,x)}}break;case 27:r===null&&u&4&&Cb(o);case 26:case 5:Ms(i,o),r===null&&u&4&&Ab(o),u&512&&_u(o,o.return);break;case 12:Ms(i,o);break;case 31:Ms(i,o),u&4&&Mb(i,o);break;case 13:Ms(i,o),u&4&&Vb(i,o),u&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=_N.bind(null,o),UN(i,o))));break;case 22:if(u=o.memoizedState!==null||Ds,!u){r=r!==null&&r.memoizedState!==null||Ht,d=Ds;var g=Ht;Ds=u,(Ht=r)&&!g?Vs(i,o,(o.subtreeFlags&8772)!==0):Ms(i,o),Ds=d,Ht=g}break;case 30:break;default:Ms(i,o)}}function Db(i){var r=i.alternate;r!==null&&(i.alternate=null,Db(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&ao(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var yt=null,An=!1;function ks(i,r,o){for(o=o.child;o!==null;)kb(i,r,o),o=o.sibling}function kb(i,r,o){if(rn&&typeof rn.onCommitFiberUnmount=="function")try{rn.onCommitFiberUnmount(pi,o)}catch{}switch(o.tag){case 26:Ht||is(o,r),ks(i,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Ht||is(o,r);var u=yt,d=An;Cr(o.type)&&(yt=o.stateNode,An=!1),ks(i,r,o),Cu(o.stateNode),yt=u,An=d;break;case 5:Ht||is(o,r);case 6:if(u=yt,d=An,yt=null,ks(i,r,o),yt=u,An=d,yt!==null)if(An)try{(yt.nodeType===9?yt.body:yt.nodeName==="HTML"?yt.ownerDocument.body:yt).removeChild(o.stateNode)}catch(g){st(o,r,g)}else try{yt.removeChild(o.stateNode)}catch(g){st(o,r,g)}break;case 18:yt!==null&&(An?(i=yt,E1(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),Go(i)):E1(yt,o.stateNode));break;case 4:u=yt,d=An,yt=o.stateNode.containerInfo,An=!0,ks(i,r,o),yt=u,An=d;break;case 0:case 11:case 14:case 15:xr(2,o,r),Ht||xr(4,o,r),ks(i,r,o);break;case 1:Ht||(is(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"&&Sb(o,r,u)),ks(i,r,o);break;case 21:ks(i,r,o);break;case 22:Ht=(u=Ht)||o.memoizedState!==null,ks(i,r,o),Ht=u;break;default:ks(i,r,o)}}function Mb(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Go(i)}catch(o){st(r,r.return,o)}}}function Vb(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Go(i)}catch(o){st(r,r.return,o)}}function hN(i){switch(i.tag){case 31:case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new Nb),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new Nb),r;default:throw Error(s(435,i.tag))}}function Gh(i,r){var o=hN(i);r.forEach(function(u){if(!o.has(u)){o.add(u);var d=bN.bind(null,i,u);u.then(d,d)}})}function Rn(i,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var d=o[u],g=i,x=r,E=x;e:for(;E!==null;){switch(E.tag){case 27:if(Cr(E.type)){yt=E.stateNode,An=!1;break e}break;case 5:yt=E.stateNode,An=!1;break e;case 3:case 4:yt=E.stateNode.containerInfo,An=!0;break e}E=E.return}if(yt===null)throw Error(s(160));kb(g,x,d),yt=null,An=!1,g=d.alternate,g!==null&&(g.return=null),d.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)Ob(r,i),r=r.sibling}var Si=null;function Ob(i,r){var o=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Rn(r,i),Cn(i),u&4&&(xr(3,i,i.return),vu(3,i),xr(5,i,i.return));break;case 1:Rn(r,i),Cn(i),u&512&&(Ht||o===null||is(o,o.return)),u&64&&Ds&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var d=Si;if(Rn(r,i),Cn(i),u&512&&(Ht||o===null||is(o,o.return)),u&4){var g=o!==null?o.memoizedState:null;if(u=i.memoizedState,o===null)if(u===null)if(i.stateNode===null){e:{u=i.type,o=i.memoizedProps,d=d.ownerDocument||d;t:switch(u){case"title":g=d.getElementsByTagName("title")[0],(!g||g[Hi]||g[Pt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=d.createElement(u),d.head.insertBefore(g,d.querySelector("head > title"))),cn(g,u,o),g[Pt]=i,Lt(g),u=g;break e;case"link":var x=O1("link","href",d).get(u+(o.href||""));if(x){for(var E=0;E<x.length;E++)if(g=x[E],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){x.splice(E,1);break t}}g=d.createElement(u),cn(g,u,o),d.head.appendChild(g);break;case"meta":if(x=O1("meta","content",d).get(u+(o.content||""))){for(E=0;E<x.length;E++)if(g=x[E],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){x.splice(E,1);break t}}g=d.createElement(u),cn(g,u,o),d.head.appendChild(g);break;default:throw Error(s(468,u))}g[Pt]=i,Lt(g),u=g}i.stateNode=u}else j1(d,i.type,i.stateNode);else i.stateNode=V1(d,u,i.memoizedProps);else g!==u?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,u===null?j1(d,i.type,i.stateNode):V1(d,u,i.memoizedProps)):u===null&&i.stateNode!==null&&mp(i,i.memoizedProps,o.memoizedProps)}break;case 27:Rn(r,i),Cn(i),u&512&&(Ht||o===null||is(o,o.return)),o!==null&&u&4&&mp(i,i.memoizedProps,o.memoizedProps);break;case 5:if(Rn(r,i),Cn(i),u&512&&(Ht||o===null||is(o,o.return)),i.flags&32){d=i.stateNode;try{Sn(d,"")}catch(ye){st(i,i.return,ye)}}u&4&&i.stateNode!=null&&(d=i.memoizedProps,mp(i,d,o!==null?o.memoizedProps:d)),u&1024&&(yp=!0);break;case 6:if(Rn(r,i),Cn(i),u&4){if(i.stateNode===null)throw Error(s(162));u=i.memoizedProps,o=i.stateNode;try{o.nodeValue=u}catch(ye){st(i,i.return,ye)}}break;case 3:if(lf=null,d=Si,Si=af(r.containerInfo),Rn(r,i),Si=d,Cn(i),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Go(r.containerInfo)}catch(ye){st(i,i.return,ye)}yp&&(yp=!1,jb(i));break;case 4:u=Si,Si=af(i.stateNode.containerInfo),Rn(r,i),Cn(i),Si=u;break;case 12:Rn(r,i),Cn(i);break;case 31:Rn(r,i),Cn(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Gh(i,u)));break;case 13:Rn(r,i),Cn(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Kh=Wt()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Gh(i,u)));break;case 22:d=i.memoizedState!==null;var j=o!==null&&o.memoizedState!==null,K=Ds,Z=Ht;if(Ds=K||d,Ht=Z||j,Rn(r,i),Ht=Z,Ds=K,Cn(i),u&8192)e:for(r=i.stateNode,r._visibility=d?r._visibility&-2:r._visibility|1,d&&(o===null||j||Ds||Ht||Ma(i)),o=null,r=i;;){if(r.tag===5||r.tag===26){if(o===null){j=o=r;try{if(g=j.stateNode,d)x=g.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none";else{E=j.stateNode;var ne=j.memoizedProps.style,Q=ne!=null&&ne.hasOwnProperty("display")?ne.display:null;E.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch(ye){st(j,j.return,ye)}}}else if(r.tag===6){if(o===null){j=r;try{j.stateNode.nodeValue=d?"":j.memoizedProps}catch(ye){st(j,j.return,ye)}}}else if(r.tag===18){if(o===null){j=r;try{var W=j.stateNode;d?S1(W,!0):S1(j.stateNode,!1)}catch(ye){st(j,j.return,ye)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=i.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,Gh(i,o))));break;case 19:Rn(r,i),Cn(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Gh(i,u)));break;case 30:break;case 21:break;default:Rn(r,i),Cn(i)}}function Cn(i){var r=i.flags;if(r&2){try{for(var o,u=i.return;u!==null;){if(Rb(u)){o=u;break}u=u.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var d=o.stateNode,g=pp(i);qh(i,g,d);break;case 5:var x=o.stateNode;o.flags&32&&(Sn(x,""),o.flags&=-33);var E=pp(i);qh(i,E,x);break;case 3:case 4:var j=o.stateNode.containerInfo,K=pp(i);gp(i,K,j);break;default:throw Error(s(161))}}catch(Z){st(i,i.return,Z)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function jb(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;jb(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function Ms(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Ib(i,r.alternate,r),r=r.sibling}function Ma(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:xr(4,r,r.return),Ma(r);break;case 1:is(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&Sb(r,r.return,o),Ma(r);break;case 27:Cu(r.stateNode);case 26:case 5:is(r,r.return),Ma(r);break;case 22:r.memoizedState===null&&Ma(r);break;case 30:Ma(r);break;default:Ma(r)}i=i.sibling}}function Vs(i,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,d=i,g=r,x=g.flags;switch(g.tag){case 0:case 11:case 15:Vs(d,g,o),vu(4,g);break;case 1:if(Vs(d,g,o),u=g,d=u.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(K){st(u,u.return,K)}if(u=g,d=u.updateQueue,d!==null){var E=u.stateNode;try{var j=d.shared.hiddenCallbacks;if(j!==null)for(d.shared.hiddenCallbacks=null,d=0;d<j.length;d++)d_(j[d],E)}catch(K){st(u,u.return,K)}}o&&x&64&&Eb(g),_u(g,g.return);break;case 27:Cb(g);case 26:case 5:Vs(d,g,o),o&&u===null&&x&4&&Ab(g),_u(g,g.return);break;case 12:Vs(d,g,o);break;case 31:Vs(d,g,o),o&&x&4&&Mb(d,g);break;case 13:Vs(d,g,o),o&&x&4&&Vb(d,g);break;case 22:g.memoizedState===null&&Vs(d,g,o),_u(g,g.return);break;case 30:break;default:Vs(d,g,o)}r=r.sibling}}function vp(i,r){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&ru(o))}function _p(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&ru(i))}function Ai(i,r,o,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Pb(i,r,o,u),r=r.sibling}function Pb(i,r,o,u){var d=r.flags;switch(r.tag){case 0:case 11:case 15:Ai(i,r,o,u),d&2048&&vu(9,r);break;case 1:Ai(i,r,o,u);break;case 3:Ai(i,r,o,u),d&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&ru(i)));break;case 12:if(d&2048){Ai(i,r,o,u),i=r.stateNode;try{var g=r.memoizedProps,x=g.id,E=g.onPostCommit;typeof E=="function"&&E(x,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(j){st(r,r.return,j)}}else Ai(i,r,o,u);break;case 31:Ai(i,r,o,u);break;case 13:Ai(i,r,o,u);break;case 23:break;case 22:g=r.stateNode,x=r.alternate,r.memoizedState!==null?g._visibility&2?Ai(i,r,o,u):bu(i,r):g._visibility&2?Ai(i,r,o,u):(g._visibility|=2,Vo(i,r,o,u,(r.subtreeFlags&10256)!==0||!1)),d&2048&&vp(x,r);break;case 24:Ai(i,r,o,u),d&2048&&_p(r.alternate,r);break;default:Ai(i,r,o,u)}}function Vo(i,r,o,u,d){for(d=d&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var g=i,x=r,E=o,j=u,K=x.flags;switch(x.tag){case 0:case 11:case 15:Vo(g,x,E,j,d),vu(8,x);break;case 23:break;case 22:var Z=x.stateNode;x.memoizedState!==null?Z._visibility&2?Vo(g,x,E,j,d):bu(g,x):(Z._visibility|=2,Vo(g,x,E,j,d)),d&&K&2048&&vp(x.alternate,x);break;case 24:Vo(g,x,E,j,d),d&&K&2048&&_p(x.alternate,x);break;default:Vo(g,x,E,j,d)}r=r.sibling}}function bu(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=i,u=r,d=u.flags;switch(u.tag){case 22:bu(o,u),d&2048&&vp(u.alternate,u);break;case 24:bu(o,u),d&2048&&_p(u.alternate,u);break;default:bu(o,u)}r=r.sibling}}var xu=8192;function Oo(i,r,o){if(i.subtreeFlags&xu)for(i=i.child;i!==null;)Lb(i,r,o),i=i.sibling}function Lb(i,r,o){switch(i.tag){case 26:Oo(i,r,o),i.flags&xu&&i.memoizedState!==null&&WN(o,Si,i.memoizedState,i.memoizedProps);break;case 5:Oo(i,r,o);break;case 3:case 4:var u=Si;Si=af(i.stateNode.containerInfo),Oo(i,r,o),Si=u;break;case 22:i.memoizedState===null&&(u=i.alternate,u!==null&&u.memoizedState!==null?(u=xu,xu=16777216,Oo(i,r,o),xu=u):Oo(i,r,o));break;default:Oo(i,r,o)}}function Ub(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function wu(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];en=u,Bb(u,i)}Ub(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)zb(i),i=i.sibling}function zb(i){switch(i.tag){case 0:case 11:case 15:wu(i),i.flags&2048&&xr(9,i,i.return);break;case 3:wu(i);break;case 12:wu(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,$h(i)):wu(i);break;default:wu(i)}}function $h(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];en=u,Bb(u,i)}Ub(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:xr(8,r,r.return),$h(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,$h(r));break;default:$h(r)}i=i.sibling}}function Bb(i,r){for(;en!==null;){var o=en;switch(o.tag){case 0:case 11:case 15:xr(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:ru(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,en=u;else e:for(o=i;en!==null;){u=en;var d=u.sibling,g=u.return;if(Db(u),u===o){en=null;break e}if(d!==null){d.return=g,en=d;break e}en=g}}}var fN={getCacheForType:function(i){var r=ln(zt),o=r.data.get(i);return o===void 0&&(o=i(),r.data.set(i,o)),o},cacheSignal:function(){return ln(zt).controller.signal}},dN=typeof WeakMap=="function"?WeakMap:Map,Ze=0,ct=null,Ue=null,Be=0,it=0,Fn=null,wr=!1,jo=!1,bp=!1,Os=0,Et=0,Tr=0,Va=0,xp=0,Hn=0,Po=0,Tu=null,Nn=null,wp=!1,Kh=0,Fb=0,Yh=1/0,Qh=null,Er=null,Yt=0,Sr=null,Lo=null,js=0,Tp=0,Ep=null,Hb=null,Eu=0,Sp=null;function qn(){return(Ze&2)!==0&&Be!==0?Be&-Be:J.T!==null?Dp():Xc()}function qb(){if(Hn===0)if((Be&536870912)===0||Ke){var i=oa;oa<<=1,(oa&3932160)===0&&(oa=262144),Hn=i}else Hn=536870912;return i=zn.current,i!==null&&(i.flags|=32),Hn}function In(i,r,o){(i===ct&&(it===2||it===9)||i.cancelPendingCommit!==null)&&(Uo(i,0),Ar(i,Be,Hn,!1)),la(i,o),((Ze&2)===0||i!==ct)&&(i===ct&&((Ze&2)===0&&(Va|=o),Et===4&&Ar(i,Be,Hn,!1)),ss(i))}function Gb(i,r,o){if((Ze&6)!==0)throw Error(s(327));var u=!o&&(r&127)===0&&(r&i.expiredLanes)===0||gi(i,r),d=u?gN(i,r):Rp(i,r,!0),g=u;do{if(d===0){jo&&!u&&Ar(i,r,0,!1);break}else{if(o=i.current.alternate,g&&!mN(o)){d=Rp(i,r,!1),g=!1;continue}if(d===2){if(g=r,i.errorRecoveryDisabledLanes&g)var x=0;else x=i.pendingLanes&-536870913,x=x!==0?x:x&536870912?536870912:0;if(x!==0){r=x;e:{var E=i;d=Tu;var j=E.current.memoizedState.isDehydrated;if(j&&(Uo(E,x).flags|=256),x=Rp(E,x,!1),x!==2){if(bp&&!j){E.errorRecoveryDisabledLanes|=g,Va|=g,d=4;break e}g=Nn,Nn=d,g!==null&&(Nn===null?Nn=g:Nn.push.apply(Nn,g))}d=x}if(g=!1,d!==2)continue}}if(d===1){Uo(i,0),Ar(i,r,0,!0);break}e:{switch(u=i,g=d,g){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Ar(u,r,Hn,!wr);break e;case 2:Nn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(d=Kh+300-Wt(),10<d)){if(Ar(u,r,Hn,!wr),zi(u,0,!0)!==0)break e;js=r,u.timeoutHandle=w1($b.bind(null,u,o,Nn,Qh,wp,r,Hn,Va,Po,wr,g,"Throttled",-0,0),d);break e}$b(u,o,Nn,Qh,wp,r,Hn,Va,Po,wr,g,null,-0,0)}}break}while(!0);ss(i)}function $b(i,r,o,u,d,g,x,E,j,K,Z,ne,Q,W){if(i.timeoutHandle=-1,ne=r.subtreeFlags,ne&8192||(ne&16785408)===16785408){ne={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:_i},Lb(r,g,ne);var ye=(g&62914560)===g?Kh-Wt():(g&4194048)===g?Fb-Wt():0;if(ye=JN(ne,ye),ye!==null){js=g,i.cancelPendingCommit=ye(e1.bind(null,i,r,g,o,u,d,x,E,j,Z,ne,null,Q,W)),Ar(i,g,x,!K);return}}e1(i,r,g,o,u,d,x,E,j)}function mN(i){for(var r=i;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var d=o[u],g=d.getSnapshot;d=d.value;try{if(!Ln(g(),d))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Ar(i,r,o,u){r&=~xp,r&=~Va,i.suspendedLanes|=r,i.pingedLanes&=~r,u&&(i.warmLanes|=r),u=i.expirationTimes;for(var d=r;0<d;){var g=31-Nt(d),x=1<<g;u[g]=-1,d&=~x}o!==0&&ua(i,o,r)}function Xh(){return(Ze&6)===0?(Su(0),!1):!0}function Ap(){if(Ue!==null){if(it===0)var i=Ue.return;else i=Ue,Ss=Sa=null,Fm(i),No=null,ou=0,i=Ue;for(;i!==null;)Tb(i.alternate,i),i=i.return;Ue=null}}function Uo(i,r){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,VN(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),js=0,Ap(),ct=i,Ue=o=Ts(i.current,null),Be=r,it=0,Fn=null,wr=!1,jo=gi(i,r),bp=!1,Po=Hn=xp=Va=Tr=Et=0,Nn=Tu=null,wp=!1,(r&8)!==0&&(r|=r&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=r;0<u;){var d=31-Nt(u),g=1<<d;r|=i[d],u&=~g}return Os=r,yh(),o}function Kb(i,r){Ve=null,J.H=pu,r===Co||r===Sh?(r=u_(),it=3):r===Im?(r=u_(),it=4):it=r===sp?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Fn=r,Ue===null&&(Et=1,Uh(i,ti(r,i.current)))}function Yb(){var i=zn.current;return i===null?!0:(Be&4194048)===Be?ri===null:(Be&62914560)===Be||(Be&536870912)!==0?i===ri:!1}function Qb(){var i=J.H;return J.H=pu,i===null?pu:i}function Xb(){var i=J.A;return J.A=fN,i}function Wh(){Et=4,wr||(Be&4194048)!==Be&&zn.current!==null||(jo=!0),(Tr&134217727)===0&&(Va&134217727)===0||ct===null||Ar(ct,Be,Hn,!1)}function Rp(i,r,o){var u=Ze;Ze|=2;var d=Qb(),g=Xb();(ct!==i||Be!==r)&&(Qh=null,Uo(i,r)),r=!1;var x=Et;e:do try{if(it!==0&&Ue!==null){var E=Ue,j=Fn;switch(it){case 8:Ap(),x=6;break e;case 3:case 2:case 9:case 6:zn.current===null&&(r=!0);var K=it;if(it=0,Fn=null,zo(i,E,j,K),o&&jo){x=0;break e}break;default:K=it,it=0,Fn=null,zo(i,E,j,K)}}pN(),x=Et;break}catch(Z){Kb(i,Z)}while(!0);return r&&i.shellSuspendCounter++,Ss=Sa=null,Ze=u,J.H=d,J.A=g,Ue===null&&(ct=null,Be=0,yh()),x}function pN(){for(;Ue!==null;)Wb(Ue)}function gN(i,r){var o=Ze;Ze|=2;var u=Qb(),d=Xb();ct!==i||Be!==r?(Qh=null,Yh=Wt()+500,Uo(i,r)):jo=gi(i,r);e:do try{if(it!==0&&Ue!==null){r=Ue;var g=Fn;t:switch(it){case 1:it=0,Fn=null,zo(i,r,g,1);break;case 2:case 9:if(o_(g)){it=0,Fn=null,Jb(r);break}r=function(){it!==2&&it!==9||ct!==i||(it=7),ss(i)},g.then(r,r);break e;case 3:it=7;break e;case 4:it=5;break e;case 7:o_(g)?(it=0,Fn=null,Jb(r)):(it=0,Fn=null,zo(i,r,g,7));break;case 5:var x=null;switch(Ue.tag){case 26:x=Ue.memoizedState;case 5:case 27:var E=Ue;if(x?P1(x):E.stateNode.complete){it=0,Fn=null;var j=E.sibling;if(j!==null)Ue=j;else{var K=E.return;K!==null?(Ue=K,Jh(K)):Ue=null}break t}}it=0,Fn=null,zo(i,r,g,5);break;case 6:it=0,Fn=null,zo(i,r,g,6);break;case 8:Ap(),Et=6;break e;default:throw Error(s(462))}}yN();break}catch(Z){Kb(i,Z)}while(!0);return Ss=Sa=null,J.H=u,J.A=d,Ze=o,Ue!==null?0:(ct=null,Be=0,yh(),Et)}function yN(){for(;Ue!==null&&!$e();)Wb(Ue)}function Wb(i){var r=xb(i.alternate,i,Os);i.memoizedProps=i.pendingProps,r===null?Jh(i):Ue=r}function Jb(i){var r=i,o=r.alternate;switch(r.tag){case 15:case 0:r=pb(o,r,r.pendingProps,r.type,void 0,Be);break;case 11:r=pb(o,r,r.pendingProps,r.type.render,r.ref,Be);break;case 5:Fm(r);default:Tb(o,r),r=Ue=Xv(r,Os),r=xb(o,r,Os)}i.memoizedProps=i.pendingProps,r===null?Jh(i):Ue=r}function zo(i,r,o,u){Ss=Sa=null,Fm(r),No=null,ou=0;var d=r.return;try{if(rN(i,d,r,o,Be)){Et=1,Uh(i,ti(o,i.current)),Ue=null;return}}catch(g){if(d!==null)throw Ue=d,g;Et=1,Uh(i,ti(o,i.current)),Ue=null;return}r.flags&32768?(Ke||u===1?i=!0:jo||(Be&536870912)!==0?i=!1:(wr=i=!0,(u===2||u===9||u===3||u===6)&&(u=zn.current,u!==null&&u.tag===13&&(u.flags|=16384))),Zb(r,i)):Jh(r)}function Jh(i){var r=i;do{if((r.flags&32768)!==0){Zb(r,wr);return}i=r.return;var o=lN(r.alternate,r,Os);if(o!==null){Ue=o;return}if(r=r.sibling,r!==null){Ue=r;return}Ue=r=i}while(r!==null);Et===0&&(Et=5)}function Zb(i,r){do{var o=uN(i.alternate,i);if(o!==null){o.flags&=32767,Ue=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(i=i.sibling,i!==null)){Ue=i;return}Ue=i=o}while(i!==null);Et=6,Ue=null}function e1(i,r,o,u,d,g,x,E,j){i.cancelPendingCommit=null;do Zh();while(Yt!==0);if((Ze&6)!==0)throw Error(s(327));if(r!==null){if(r===i.current)throw Error(s(177));if(g=r.lanes|r.childLanes,g|=pm,am(i,o,g,x,E,j),i===ct&&(Ue=ct=null,Be=0),Lo=r,Sr=i,js=o,Tp=g,Ep=d,Hb=u,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,xN(nr,function(){return r1(),null})):(i.callbackNode=null,i.callbackPriority=0),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=J.T,J.T=null,d=ae.p,ae.p=2,x=Ze,Ze|=4;try{cN(i,r,o)}finally{Ze=x,ae.p=d,J.T=u}}Yt=1,t1(),n1(),i1()}}function t1(){if(Yt===1){Yt=0;var i=Sr,r=Lo,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=J.T,J.T=null;var u=ae.p;ae.p=2;var d=Ze;Ze|=4;try{Ob(r,i);var g=Up,x=Bv(i.containerInfo),E=g.focusedElem,j=g.selectionRange;if(x!==E&&E&&E.ownerDocument&&zv(E.ownerDocument.documentElement,E)){if(j!==null&&cm(E)){var K=j.start,Z=j.end;if(Z===void 0&&(Z=K),"selectionStart"in E)E.selectionStart=K,E.selectionEnd=Math.min(Z,E.value.length);else{var ne=E.ownerDocument||document,Q=ne&&ne.defaultView||window;if(Q.getSelection){var W=Q.getSelection(),ye=E.textContent.length,we=Math.min(j.start,ye),lt=j.end===void 0?we:Math.min(j.end,ye);!W.extend&&we>lt&&(x=lt,lt=we,we=x);var H=Uv(E,we),U=Uv(E,lt);if(H&&U&&(W.rangeCount!==1||W.anchorNode!==H.node||W.anchorOffset!==H.offset||W.focusNode!==U.node||W.focusOffset!==U.offset)){var $=ne.createRange();$.setStart(H.node,H.offset),W.removeAllRanges(),we>lt?(W.addRange($),W.extend(U.node,U.offset)):($.setEnd(U.node,U.offset),W.addRange($))}}}}for(ne=[],W=E;W=W.parentNode;)W.nodeType===1&&ne.push({element:W,left:W.scrollLeft,top:W.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<ne.length;E++){var ee=ne[E];ee.element.scrollLeft=ee.left,ee.element.scrollTop=ee.top}}ff=!!Lp,Up=Lp=null}finally{Ze=d,ae.p=u,J.T=o}}i.current=r,Yt=2}}function n1(){if(Yt===2){Yt=0;var i=Sr,r=Lo,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=J.T,J.T=null;var u=ae.p;ae.p=2;var d=Ze;Ze|=4;try{Ib(i,r.alternate,r)}finally{Ze=d,ae.p=u,J.T=o}}Yt=3}}function i1(){if(Yt===4||Yt===3){Yt=0,io();var i=Sr,r=Lo,o=js,u=Hb;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Yt=5:(Yt=0,Lo=Sr=null,s1(i,i.pendingLanes));var d=i.pendingLanes;if(d===0&&(Er=null),_s(o),r=r.stateNode,rn&&typeof rn.onCommitFiberRoot=="function")try{rn.onCommitFiberRoot(pi,r,void 0,(r.current.flags&128)===128)}catch{}if(u!==null){r=J.T,d=ae.p,ae.p=2,J.T=null;try{for(var g=i.onRecoverableError,x=0;x<u.length;x++){var E=u[x];g(E.value,{componentStack:E.stack})}}finally{J.T=r,ae.p=d}}(js&3)!==0&&Zh(),ss(i),d=i.pendingLanes,(o&261930)!==0&&(d&42)!==0?i===Sp?Eu++:(Eu=0,Sp=i):Eu=0,Su(0)}}function s1(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,ru(r)))}function Zh(){return t1(),n1(),i1(),r1()}function r1(){if(Yt!==5)return!1;var i=Sr,r=Tp;Tp=0;var o=_s(js),u=J.T,d=ae.p;try{ae.p=32>o?32:o,J.T=null,o=Ep,Ep=null;var g=Sr,x=js;if(Yt=0,Lo=Sr=null,js=0,(Ze&6)!==0)throw Error(s(331));var E=Ze;if(Ze|=4,zb(g.current),Pb(g,g.current,x,o),Ze=E,Su(0,!1),rn&&typeof rn.onPostCommitFiberRoot=="function")try{rn.onPostCommitFiberRoot(pi,g)}catch{}return!0}finally{ae.p=d,J.T=u,s1(i,r)}}function a1(i,r,o){r=ti(o,r),r=ip(i.stateNode,r,2),i=vr(i,r,2),i!==null&&(la(i,2),ss(i))}function st(i,r,o){if(i.tag===3)a1(i,i,o);else for(;r!==null;){if(r.tag===3){a1(r,i,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Er===null||!Er.has(u))){i=ti(o,i),o=ob(2),u=vr(r,o,2),u!==null&&(lb(o,u,r,i),la(u,2),ss(u));break}}r=r.return}}function Cp(i,r,o){var u=i.pingCache;if(u===null){u=i.pingCache=new dN;var d=new Set;u.set(r,d)}else d=u.get(r),d===void 0&&(d=new Set,u.set(r,d));d.has(o)||(bp=!0,d.add(o),i=vN.bind(null,i,r,o),r.then(i,i))}function vN(i,r,o){var u=i.pingCache;u!==null&&u.delete(r),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,ct===i&&(Be&o)===o&&(Et===4||Et===3&&(Be&62914560)===Be&&300>Wt()-Kh?(Ze&2)===0&&Uo(i,0):xp|=o,Po===Be&&(Po=0)),ss(i)}function o1(i,r){r===0&&(r=Qc()),i=wa(i,r),i!==null&&(la(i,r),ss(i))}function _N(i){var r=i.memoizedState,o=0;r!==null&&(o=r.retryLane),o1(i,o)}function bN(i,r){var o=0;switch(i.tag){case 31:case 13:var u=i.stateNode,d=i.memoizedState;d!==null&&(o=d.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(r),o1(i,o)}function xN(i,r){return xe(i,r)}var ef=null,Bo=null,Np=!1,tf=!1,Ip=!1,Rr=0;function ss(i){i!==Bo&&i.next===null&&(Bo===null?ef=Bo=i:Bo=Bo.next=i),tf=!0,Np||(Np=!0,TN())}function Su(i,r){if(!Ip&&tf){Ip=!0;do for(var o=!1,u=ef;u!==null;){if(i!==0){var d=u.pendingLanes;if(d===0)var g=0;else{var x=u.suspendedLanes,E=u.pingedLanes;g=(1<<31-Nt(42|i)+1)-1,g&=d&~(x&~E),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,h1(u,g))}else g=Be,g=zi(u,u===ct?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(g&3)===0||gi(u,g)||(o=!0,h1(u,g));u=u.next}while(o);Ip=!1}}function wN(){l1()}function l1(){tf=Np=!1;var i=0;Rr!==0&&MN()&&(i=Rr);for(var r=Wt(),o=null,u=ef;u!==null;){var d=u.next,g=u1(u,r);g===0?(u.next=null,o===null?ef=d:o.next=d,d===null&&(Bo=o)):(o=u,(i!==0||(g&3)!==0)&&(tf=!0)),u=d}Yt!==0&&Yt!==5||Su(i),Rr!==0&&(Rr=0)}function u1(i,r){for(var o=i.suspendedLanes,u=i.pingedLanes,d=i.expirationTimes,g=i.pendingLanes&-62914561;0<g;){var x=31-Nt(g),E=1<<x,j=d[x];j===-1?((E&o)===0||(E&u)!==0)&&(d[x]=rm(E,r)):j<=r&&(i.expiredLanes|=E),g&=~E}if(r=ct,o=Be,o=zi(i,i===r?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u=i.callbackNode,o===0||i===r&&(it===2||it===9)||i.cancelPendingCommit!==null)return u!==null&&u!==null&&Se(u),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||gi(i,o)){if(r=o&-o,r===i.callbackPriority)return r;switch(u!==null&&Se(u),_s(o)){case 2:case 8:o=Ol;break;case 32:o=nr;break;case 268435456:o=qc;break;default:o=nr}return u=c1.bind(null,i),o=xe(o,u),i.callbackPriority=r,i.callbackNode=o,r}return u!==null&&u!==null&&Se(u),i.callbackPriority=2,i.callbackNode=null,2}function c1(i,r){if(Yt!==0&&Yt!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(Zh()&&i.callbackNode!==o)return null;var u=Be;return u=zi(i,i===ct?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u===0?null:(Gb(i,u,r),u1(i,Wt()),i.callbackNode!=null&&i.callbackNode===o?c1.bind(null,i):null)}function h1(i,r){if(Zh())return null;Gb(i,r,!0)}function TN(){ON(function(){(Ze&6)!==0?xe(Vl,wN):l1()})}function Dp(){if(Rr===0){var i=Ao;i===0&&(i=Li,Li<<=1,(Li&261888)===0&&(Li=256)),Rr=i}return Rr}function f1(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:co(""+i)}function d1(i,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,i.id&&o.setAttribute("form",i.id),r.parentNode.insertBefore(o,r),i=new FormData(i),o.parentNode.removeChild(o),i}function EN(i,r,o,u,d){if(r==="submit"&&o&&o.stateNode===d){var g=f1((d[Jt]||null).action),x=u.submitter;x&&(r=(r=x[Jt]||null)?f1(r.formAction):x.getAttribute("formAction"),r!==null&&(g=r,x=null));var E=new Wi("action","action",null,u,d);i.push({event:E,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Rr!==0){var j=x?d1(d,x):new FormData(d);Wm(o,{pending:!0,data:j,method:d.method,action:g},null,j)}}else typeof g=="function"&&(E.preventDefault(),j=x?d1(d,x):new FormData(d),Wm(o,{pending:!0,data:j,method:d.method,action:g},g,j))},currentTarget:d}]})}}for(var kp=0;kp<mm.length;kp++){var Mp=mm[kp],SN=Mp.toLowerCase(),AN=Mp[0].toUpperCase()+Mp.slice(1);Ei(SN,"on"+AN)}Ei(qv,"onAnimationEnd"),Ei(Gv,"onAnimationIteration"),Ei($v,"onAnimationStart"),Ei("dblclick","onDoubleClick"),Ei("focusin","onFocus"),Ei("focusout","onBlur"),Ei(FC,"onTransitionRun"),Ei(HC,"onTransitionStart"),Ei(qC,"onTransitionCancel"),Ei(Kv,"onTransitionEnd"),Ki("onMouseEnter",["mouseout","mouseover"]),Ki("onMouseLeave",["mouseout","mouseover"]),Ki("onPointerEnter",["pointerout","pointerover"]),Ki("onPointerLeave",["pointerout","pointerover"]),$i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),$i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),$i("onBeforeInput",["compositionend","keypress","textInput","paste"]),$i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),$i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),$i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Au="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),RN=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Au));function m1(i,r){r=(r&4)!==0;for(var o=0;o<i.length;o++){var u=i[o],d=u.event;u=u.listeners;e:{var g=void 0;if(r)for(var x=u.length-1;0<=x;x--){var E=u[x],j=E.instance,K=E.currentTarget;if(E=E.listener,j!==g&&d.isPropagationStopped())break e;g=E,d.currentTarget=K;try{g(d)}catch(Z){gh(Z)}d.currentTarget=null,g=j}else for(x=0;x<u.length;x++){if(E=u[x],j=E.instance,K=E.currentTarget,E=E.listener,j!==g&&d.isPropagationStopped())break e;g=E,d.currentTarget=K;try{g(d)}catch(Z){gh(Z)}d.currentTarget=null,g=j}}}}function ze(i,r){var o=r[ro];o===void 0&&(o=r[ro]=new Set);var u=i+"__bubble";o.has(u)||(p1(r,i,2,!1),o.add(u))}function Vp(i,r,o){var u=0;r&&(u|=4),p1(o,i,u,r)}var nf="_reactListening"+Math.random().toString(36).slice(2);function Op(i){if(!i[nf]){i[nf]=!0,Ll.forEach(function(o){o!=="selectionchange"&&(RN.has(o)||Vp(o,!1,i),Vp(o,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[nf]||(r[nf]=!0,Vp("selectionchange",!1,r))}}function p1(i,r,o,u){switch(q1(r)){case 2:var d=tI;break;case 8:d=nI;break;default:d=Xp}o=d.bind(null,r,o,i),d=void 0,!ma||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(d=!0),u?d!==void 0?i.addEventListener(r,o,{capture:!0,passive:d}):i.addEventListener(r,o,!0):d!==void 0?i.addEventListener(r,o,{passive:d}):i.addEventListener(r,o,!1)}function jp(i,r,o,u,d){var g=u;if((r&1)===0&&(r&2)===0&&u!==null)e:for(;;){if(u===null)return;var x=u.tag;if(x===3||x===4){var E=u.stateNode.containerInfo;if(E===d)break;if(x===4)for(x=u.return;x!==null;){var j=x.tag;if((j===3||j===4)&&x.stateNode.containerInfo===d)return;x=x.return}for(;E!==null;){if(x=qi(E),x===null)return;if(j=x.tag,j===5||j===6||j===26||j===27){u=g=x;continue e}E=E.parentNode}}u=u.return}lr(function(){var K=g,Z=Wn(o),ne=[];e:{var Q=Yv.get(i);if(Q!==void 0){var W=Wi,ye=i;switch(i){case"keypress":if(ga(o)===0)break e;case"keydown":case"keyup":W=dh;break;case"focusin":ye="focus",W=va;break;case"focusout":ye="blur",W=va;break;case"beforeblur":case"afterblur":W=va;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=Wl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=sh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=b;break;case qv:case Gv:case $v:W=ah;break;case Kv:W=R;break;case"scroll":case"scrollend":W=Xl;break;case"wheel":W=X;break;case"copy":case"cut":case"paste":W=oh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=ws;break;case"toggle":case"beforetoggle":W=Me}var we=(r&4)!==0,lt=!we&&(i==="scroll"||i==="scrollend"),H=we?Q!==null?Q+"Capture":null:Q;we=[];for(var U=K,$;U!==null;){var ee=U;if($=ee.stateNode,ee=ee.tag,ee!==5&&ee!==26&&ee!==27||$===null||H===null||(ee=bi(U,H),ee!=null&&we.push(Ru(U,ee,$))),lt)break;U=U.return}0<we.length&&(Q=new W(Q,ye,null,o,Z),ne.push({event:Q,listeners:we}))}}if((r&7)===0){e:{if(Q=i==="mouseover"||i==="pointerover",W=i==="mouseout"||i==="pointerout",Q&&o!==Kl&&(ye=o.relatedTarget||o.fromElement)&&(qi(ye)||ye[Fi]))break e;if((W||Q)&&(Q=Z.window===Z?Z:(Q=Z.ownerDocument)?Q.defaultView||Q.parentWindow:window,W?(ye=o.relatedTarget||o.toElement,W=K,ye=ye?qi(ye):null,ye!==null&&(lt=l(ye),we=ye.tag,ye!==lt||we!==5&&we!==27&&we!==6)&&(ye=null)):(W=null,ye=K),W!==ye)){if(we=Wl,ee="onMouseLeave",H="onMouseEnter",U="mouse",(i==="pointerout"||i==="pointerover")&&(we=ws,ee="onPointerLeave",H="onPointerEnter",U="pointer"),lt=W==null?Q:jn(W),$=ye==null?Q:jn(ye),Q=new we(ee,U+"leave",W,o,Z),Q.target=lt,Q.relatedTarget=$,ee=null,qi(Z)===K&&(we=new we(H,U+"enter",ye,o,Z),we.target=$,we.relatedTarget=lt,ee=we),lt=ee,W&&ye)t:{for(we=CN,H=W,U=ye,$=0,ee=H;ee;ee=we(ee))$++;ee=0;for(var _e=U;_e;_e=we(_e))ee++;for(;0<$-ee;)H=we(H),$--;for(;0<ee-$;)U=we(U),ee--;for(;$--;){if(H===U||U!==null&&H===U.alternate){we=H;break t}H=we(H),U=we(U)}we=null}else we=null;W!==null&&g1(ne,Q,W,we,!1),ye!==null&&lt!==null&&g1(ne,lt,ye,we,!0)}}e:{if(Q=K?jn(K):window,W=Q.nodeName&&Q.nodeName.toLowerCase(),W==="select"||W==="input"&&Q.type==="file")var Xe=Mv;else if(Dv(Q))if(Vv)Xe=UC;else{Xe=PC;var ve=jC}else W=Q.nodeName,!W||W.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?K&&uo(K.elementType)&&(Xe=Mv):Xe=LC;if(Xe&&(Xe=Xe(i,K))){kv(ne,Xe,o,Z);break e}ve&&ve(i,Q,K),i==="focusout"&&K&&Q.type==="number"&&K.memoizedProps.value!=null&&ql(Q,"number",Q.value)}switch(ve=K?jn(K):window,i){case"focusin":(Dv(ve)||ve.contentEditable==="true")&&(vo=ve,hm=K,nu=null);break;case"focusout":nu=hm=vo=null;break;case"mousedown":fm=!0;break;case"contextmenu":case"mouseup":case"dragend":fm=!1,Fv(ne,o,Z);break;case"selectionchange":if(BC)break;case"keydown":case"keyup":Fv(ne,o,Z)}var je;if(Je)e:{switch(i){case"compositionstart":var Fe="onCompositionStart";break e;case"compositionend":Fe="onCompositionEnd";break e;case"compositionupdate":Fe="onCompositionUpdate";break e}Fe=void 0}else yo?_a(i,o)&&(Fe="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(Fe="onCompositionStart");Fe&&(es&&o.locale!=="ko"&&(yo||Fe!=="onCompositionStart"?Fe==="onCompositionEnd"&&yo&&(je=Ql()):(Xi=Z,Yl="value"in Xi?Xi.value:Xi.textContent,yo=!0)),ve=sf(K,Fe),0<ve.length&&(Fe=new Zi(Fe,i,null,o,Z),ne.push({event:Fe,listeners:ve}),je?Fe.data=je:(je=go(o),je!==null&&(Fe.data=je)))),(je=Zn?kC(i,o):MC(i,o))&&(Fe=sf(K,"onBeforeInput"),0<Fe.length&&(ve=new Zi("onBeforeInput","beforeinput",null,o,Z),ne.push({event:ve,listeners:Fe}),ve.data=je)),EN(ne,i,K,o,Z)}m1(ne,r)})}function Ru(i,r,o){return{instance:i,listener:r,currentTarget:o}}function sf(i,r){for(var o=r+"Capture",u=[];i!==null;){var d=i,g=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||g===null||(d=bi(i,o),d!=null&&u.unshift(Ru(i,d,g)),d=bi(i,r),d!=null&&u.push(Ru(i,d,g))),i.tag===3)return u;i=i.return}return[]}function CN(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function g1(i,r,o,u,d){for(var g=r._reactName,x=[];o!==null&&o!==u;){var E=o,j=E.alternate,K=E.stateNode;if(E=E.tag,j!==null&&j===u)break;E!==5&&E!==26&&E!==27||K===null||(j=K,d?(K=bi(o,g),K!=null&&x.unshift(Ru(o,K,j))):d||(K=bi(o,g),K!=null&&x.push(Ru(o,K,j)))),o=o.return}x.length!==0&&i.push({event:r,listeners:x})}var NN=/\r\n?/g,IN=/\u0000|\uFFFD/g;function y1(i){return(typeof i=="string"?i:""+i).replace(NN,`
`).replace(IN,"")}function v1(i,r){return r=y1(r),y1(i)===r}function ot(i,r,o,u,d,g){switch(o){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||Sn(i,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&Sn(i,""+u);break;case"className":Pn(i,"class",u);break;case"tabIndex":Pn(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Pn(i,o,u);break;case"style":$l(i,u,g);break;case"data":if(r!=="object"){Pn(i,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||o!=="href")){i.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=co(""+u),i.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(r!=="input"&&ot(i,r,"name",d.name,d,null),ot(i,r,"formEncType",d.formEncType,d,null),ot(i,r,"formMethod",d.formMethod,d,null),ot(i,r,"formTarget",d.formTarget,d,null)):(ot(i,r,"encType",d.encType,d,null),ot(i,r,"method",d.method,d,null),ot(i,r,"target",d.target,d,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=co(""+u),i.setAttribute(o,u);break;case"onClick":u!=null&&(i.onclick=_i);break;case"onScroll":u!=null&&ze("scroll",i);break;case"onScrollEnd":u!=null&&ze("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(d.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}o=co(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""+u):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":u===!0?i.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,u):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(o,u):i.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(o):i.setAttribute(o,u);break;case"popover":ze("beforetoggle",i),ze("toggle",i),oo(i,"popover",u);break;case"xlinkActuate":Ut(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Ut(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Ut(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Ut(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Ut(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Ut(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Ut(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Ut(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Ut(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":oo(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=ih.get(o)||o,oo(i,o,u))}}function Pp(i,r,o,u,d,g){switch(o){case"style":$l(i,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(d.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"children":typeof u=="string"?Sn(i,u):(typeof u=="number"||typeof u=="bigint")&&Sn(i,""+u);break;case"onScroll":u!=null&&ze("scroll",i);break;case"onScrollEnd":u!=null&&ze("scrollend",i);break;case"onClick":u!=null&&(i.onclick=_i);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ul.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(d=o.endsWith("Capture"),r=o.slice(2,d?o.length-7:void 0),g=i[Jt]||null,g=g!=null?g[o]:null,typeof g=="function"&&i.removeEventListener(r,g,d),typeof u=="function")){typeof g!="function"&&g!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(r,u,d);break e}o in i?i[o]=u:u===!0?i.setAttribute(o,""):oo(i,o,u)}}}function cn(i,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ze("error",i),ze("load",i);var u=!1,d=!1,g;for(g in o)if(o.hasOwnProperty(g)){var x=o[g];if(x!=null)switch(g){case"src":u=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:ot(i,r,g,x,o,null)}}d&&ot(i,r,"srcSet",o.srcSet,o,null),u&&ot(i,r,"src",o.src,o,null);return;case"input":ze("invalid",i);var E=g=x=d=null,j=null,K=null;for(u in o)if(o.hasOwnProperty(u)){var Z=o[u];if(Z!=null)switch(u){case"name":d=Z;break;case"type":x=Z;break;case"checked":j=Z;break;case"defaultChecked":K=Z;break;case"value":g=Z;break;case"defaultValue":E=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(s(137,r));break;default:ot(i,r,u,Z,o,null)}}eh(i,g,E,j,K,x,d,!1);return;case"select":ze("invalid",i),u=x=g=null;for(d in o)if(o.hasOwnProperty(d)&&(E=o[d],E!=null))switch(d){case"value":g=E;break;case"defaultValue":x=E;break;case"multiple":u=E;default:ot(i,r,d,E,o,null)}r=g,o=x,i.multiple=!!u,r!=null?sr(i,!!u,r,!1):o!=null&&sr(i,!!u,o,!0);return;case"textarea":ze("invalid",i),g=d=u=null;for(x in o)if(o.hasOwnProperty(x)&&(E=o[x],E!=null))switch(x){case"value":u=E;break;case"defaultValue":d=E;break;case"children":g=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:ot(i,r,x,E,o,null)}rr(i,u,d,g);return;case"option":for(j in o)if(o.hasOwnProperty(j)&&(u=o[j],u!=null))switch(j){case"selected":i.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:ot(i,r,j,u,o,null)}return;case"dialog":ze("beforetoggle",i),ze("toggle",i),ze("cancel",i),ze("close",i);break;case"iframe":case"object":ze("load",i);break;case"video":case"audio":for(u=0;u<Au.length;u++)ze(Au[u],i);break;case"image":ze("error",i),ze("load",i);break;case"details":ze("toggle",i);break;case"embed":case"source":case"link":ze("error",i),ze("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in o)if(o.hasOwnProperty(K)&&(u=o[K],u!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:ot(i,r,K,u,o,null)}return;default:if(uo(r)){for(Z in o)o.hasOwnProperty(Z)&&(u=o[Z],u!==void 0&&Pp(i,r,Z,u,o,void 0));return}}for(E in o)o.hasOwnProperty(E)&&(u=o[E],u!=null&&ot(i,r,E,u,o,null))}function DN(i,r,o,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,g=null,x=null,E=null,j=null,K=null,Z=null;for(W in o){var ne=o[W];if(o.hasOwnProperty(W)&&ne!=null)switch(W){case"checked":break;case"value":break;case"defaultValue":j=ne;default:u.hasOwnProperty(W)||ot(i,r,W,null,u,ne)}}for(var Q in u){var W=u[Q];if(ne=o[Q],u.hasOwnProperty(Q)&&(W!=null||ne!=null))switch(Q){case"type":g=W;break;case"name":d=W;break;case"checked":K=W;break;case"defaultChecked":Z=W;break;case"value":x=W;break;case"defaultValue":E=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,r));break;default:W!==ne&&ot(i,r,Q,W,u,ne)}}lo(i,x,E,j,K,Z,g,d);return;case"select":W=x=E=Q=null;for(g in o)if(j=o[g],o.hasOwnProperty(g)&&j!=null)switch(g){case"value":break;case"multiple":W=j;default:u.hasOwnProperty(g)||ot(i,r,g,null,u,j)}for(d in u)if(g=u[d],j=o[d],u.hasOwnProperty(d)&&(g!=null||j!=null))switch(d){case"value":Q=g;break;case"defaultValue":E=g;break;case"multiple":x=g;default:g!==j&&ot(i,r,d,g,u,j)}r=E,o=x,u=W,Q!=null?sr(i,!!o,Q,!1):!!u!=!!o&&(r!=null?sr(i,!!o,r,!0):sr(i,!!o,o?[]:"",!1));return;case"textarea":W=Q=null;for(E in o)if(d=o[E],o.hasOwnProperty(E)&&d!=null&&!u.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:ot(i,r,E,null,u,d)}for(x in u)if(d=u[x],g=o[x],u.hasOwnProperty(x)&&(d!=null||g!=null))switch(x){case"value":Q=d;break;case"defaultValue":W=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(s(91));break;default:d!==g&&ot(i,r,x,d,u,g)}th(i,Q,W);return;case"option":for(var ye in o)if(Q=o[ye],o.hasOwnProperty(ye)&&Q!=null&&!u.hasOwnProperty(ye))switch(ye){case"selected":i.selected=!1;break;default:ot(i,r,ye,null,u,Q)}for(j in u)if(Q=u[j],W=o[j],u.hasOwnProperty(j)&&Q!==W&&(Q!=null||W!=null))switch(j){case"selected":i.selected=Q&&typeof Q!="function"&&typeof Q!="symbol";break;default:ot(i,r,j,Q,u,W)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var we in o)Q=o[we],o.hasOwnProperty(we)&&Q!=null&&!u.hasOwnProperty(we)&&ot(i,r,we,null,u,Q);for(K in u)if(Q=u[K],W=o[K],u.hasOwnProperty(K)&&Q!==W&&(Q!=null||W!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,r));break;default:ot(i,r,K,Q,u,W)}return;default:if(uo(r)){for(var lt in o)Q=o[lt],o.hasOwnProperty(lt)&&Q!==void 0&&!u.hasOwnProperty(lt)&&Pp(i,r,lt,void 0,u,Q);for(Z in u)Q=u[Z],W=o[Z],!u.hasOwnProperty(Z)||Q===W||Q===void 0&&W===void 0||Pp(i,r,Z,Q,u,W);return}}for(var H in o)Q=o[H],o.hasOwnProperty(H)&&Q!=null&&!u.hasOwnProperty(H)&&ot(i,r,H,null,u,Q);for(ne in u)Q=u[ne],W=o[ne],!u.hasOwnProperty(ne)||Q===W||Q==null&&W==null||ot(i,r,ne,Q,u,W)}function _1(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function kN(){if(typeof performance.getEntriesByType=="function"){for(var i=0,r=0,o=performance.getEntriesByType("resource"),u=0;u<o.length;u++){var d=o[u],g=d.transferSize,x=d.initiatorType,E=d.duration;if(g&&E&&_1(x)){for(x=0,E=d.responseEnd,u+=1;u<o.length;u++){var j=o[u],K=j.startTime;if(K>E)break;var Z=j.transferSize,ne=j.initiatorType;Z&&_1(ne)&&(j=j.responseEnd,x+=Z*(j<E?1:(E-K)/(j-K)))}if(--u,r+=8*(g+x)/(d.duration/1e3),i++,10<i)break}}if(0<i)return r/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Lp=null,Up=null;function rf(i){return i.nodeType===9?i:i.ownerDocument}function b1(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function x1(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function zp(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Bp=null;function MN(){var i=window.event;return i&&i.type==="popstate"?i===Bp?!1:(Bp=i,!0):(Bp=null,!1)}var w1=typeof setTimeout=="function"?setTimeout:void 0,VN=typeof clearTimeout=="function"?clearTimeout:void 0,T1=typeof Promise=="function"?Promise:void 0,ON=typeof queueMicrotask=="function"?queueMicrotask:typeof T1<"u"?function(i){return T1.resolve(null).then(i).catch(jN)}:w1;function jN(i){setTimeout(function(){throw i})}function Cr(i){return i==="head"}function E1(i,r){var o=r,u=0;do{var d=o.nextSibling;if(i.removeChild(o),d&&d.nodeType===8)if(o=d.data,o==="/$"||o==="/&"){if(u===0){i.removeChild(d),Go(r);return}u--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")u++;else if(o==="html")Cu(i.ownerDocument.documentElement);else if(o==="head"){o=i.ownerDocument.head,Cu(o);for(var g=o.firstChild;g;){var x=g.nextSibling,E=g.nodeName;g[Hi]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&g.rel.toLowerCase()==="stylesheet"||o.removeChild(g),g=x}}else o==="body"&&Cu(i.ownerDocument.body);o=d}while(o);Go(r)}function S1(i,r){var o=i;i=0;do{var u=o.nextSibling;if(o.nodeType===1?r?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(r?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),u&&u.nodeType===8)if(o=u.data,o==="/$"){if(i===0)break;i--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||i++;o=u}while(o)}function Fp(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Fp(o),ao(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function PN(i,r,o,u){for(;i.nodeType===1;){var d=o;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[Hi])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(g=i.getAttribute("rel"),g==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(g!==d.rel||i.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||i.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||i.getAttribute("title")!==(d.title==null?null:d.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(g=i.getAttribute("src"),(g!==(d.src==null?null:d.src)||i.getAttribute("type")!==(d.type==null?null:d.type)||i.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&g&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var g=d.name==null?null:""+d.name;if(d.type==="hidden"&&i.getAttribute("name")===g)return i}else return i;if(i=ai(i.nextSibling),i===null)break}return null}function LN(i,r,o){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=ai(i.nextSibling),i===null))return null;return i}function A1(i,r){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!r||(i=ai(i.nextSibling),i===null))return null;return i}function Hp(i){return i.data==="$?"||i.data==="$~"}function qp(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function UN(i,r){var o=i.ownerDocument;if(i.data==="$~")i._reactRetry=r;else if(i.data!=="$?"||o.readyState!=="loading")r();else{var u=function(){r(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),i._reactRetry=u}}function ai(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return i}var Gp=null;function R1(i){i=i.nextSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="/$"||o==="/&"){if(r===0)return ai(i.nextSibling);r--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||r++}i=i.nextSibling}return null}function C1(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(r===0)return i;r--}else o!=="/$"&&o!=="/&"||r++}i=i.previousSibling}return null}function N1(i,r,o){switch(r=rf(o),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function Cu(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);ao(i)}var oi=new Map,I1=new Set;function af(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Ps=ae.d;ae.d={f:zN,r:BN,D:FN,C:HN,L:qN,m:GN,X:KN,S:$N,M:YN};function zN(){var i=Ps.f(),r=Xh();return i||r}function BN(i){var r=Xn(i);r!==null&&r.tag===5&&r.type==="form"?K_(r):Ps.r(i)}var Fo=typeof document>"u"?null:document;function D1(i,r,o){var u=Fo;if(u&&typeof r=="string"&&r){var d=En(r);d='link[rel="'+i+'"][href="'+d+'"]',typeof o=="string"&&(d+='[crossorigin="'+o+'"]'),I1.has(d)||(I1.add(d),i={rel:i,crossOrigin:o,href:r},u.querySelector(d)===null&&(r=u.createElement("link"),cn(r,"link",i),Lt(r),u.head.appendChild(r)))}}function FN(i){Ps.D(i),D1("dns-prefetch",i,null)}function HN(i,r){Ps.C(i,r),D1("preconnect",i,r)}function qN(i,r,o){Ps.L(i,r,o);var u=Fo;if(u&&i&&r){var d='link[rel="preload"][as="'+En(r)+'"]';r==="image"&&o&&o.imageSrcSet?(d+='[imagesrcset="'+En(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(d+='[imagesizes="'+En(o.imageSizes)+'"]')):d+='[href="'+En(i)+'"]';var g=d;switch(r){case"style":g=Ho(i);break;case"script":g=qo(i)}oi.has(g)||(i=_({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:i,as:r},o),oi.set(g,i),u.querySelector(d)!==null||r==="style"&&u.querySelector(Nu(g))||r==="script"&&u.querySelector(Iu(g))||(r=u.createElement("link"),cn(r,"link",i),Lt(r),u.head.appendChild(r)))}}function GN(i,r){Ps.m(i,r);var o=Fo;if(o&&i){var u=r&&typeof r.as=="string"?r.as:"script",d='link[rel="modulepreload"][as="'+En(u)+'"][href="'+En(i)+'"]',g=d;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=qo(i)}if(!oi.has(g)&&(i=_({rel:"modulepreload",href:i},r),oi.set(g,i),o.querySelector(d)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Iu(g)))return}u=o.createElement("link"),cn(u,"link",i),Lt(u),o.head.appendChild(u)}}}function $N(i,r,o){Ps.S(i,r,o);var u=Fo;if(u&&i){var d=Gi(u).hoistableStyles,g=Ho(i);r=r||"default";var x=d.get(g);if(!x){var E={loading:0,preload:null};if(x=u.querySelector(Nu(g)))E.loading=5;else{i=_({rel:"stylesheet",href:i,"data-precedence":r},o),(o=oi.get(g))&&$p(i,o);var j=x=u.createElement("link");Lt(j),cn(j,"link",i),j._p=new Promise(function(K,Z){j.onload=K,j.onerror=Z}),j.addEventListener("load",function(){E.loading|=1}),j.addEventListener("error",function(){E.loading|=2}),E.loading|=4,of(x,r,u)}x={type:"stylesheet",instance:x,count:1,state:E},d.set(g,x)}}}function KN(i,r){Ps.X(i,r);var o=Fo;if(o&&i){var u=Gi(o).hoistableScripts,d=qo(i),g=u.get(d);g||(g=o.querySelector(Iu(d)),g||(i=_({src:i,async:!0},r),(r=oi.get(d))&&Kp(i,r),g=o.createElement("script"),Lt(g),cn(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(d,g))}}function YN(i,r){Ps.M(i,r);var o=Fo;if(o&&i){var u=Gi(o).hoistableScripts,d=qo(i),g=u.get(d);g||(g=o.querySelector(Iu(d)),g||(i=_({src:i,async:!0,type:"module"},r),(r=oi.get(d))&&Kp(i,r),g=o.createElement("script"),Lt(g),cn(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(d,g))}}function k1(i,r,o,u){var d=(d=ke.current)?af(d):null;if(!d)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=Ho(o.href),o=Gi(d).hoistableStyles,u=o.get(r),u||(u={type:"style",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=Ho(o.href);var g=Gi(d).hoistableStyles,x=g.get(i);if(x||(d=d.ownerDocument||d,x={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(i,x),(g=d.querySelector(Nu(i)))&&!g._p&&(x.instance=g,x.state.loading=5),oi.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},oi.set(i,o),g||QN(d,i,o,x.state))),r&&u===null)throw Error(s(528,""));return x}if(r&&u!==null)throw Error(s(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=qo(o),o=Gi(d).hoistableScripts,u=o.get(r),u||(u={type:"script",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function Ho(i){return'href="'+En(i)+'"'}function Nu(i){return'link[rel="stylesheet"]['+i+"]"}function M1(i){return _({},i,{"data-precedence":i.precedence,precedence:null})}function QN(i,r,o,u){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=i.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),cn(r,"link",o),Lt(r),i.head.appendChild(r))}function qo(i){return'[src="'+En(i)+'"]'}function Iu(i){return"script[async]"+i}function V1(i,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var u=i.querySelector('style[data-href~="'+En(o.href)+'"]');if(u)return r.instance=u,Lt(u),u;var d=_({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),Lt(u),cn(u,"style",d),of(u,o.precedence,i),r.instance=u;case"stylesheet":d=Ho(o.href);var g=i.querySelector(Nu(d));if(g)return r.state.loading|=4,r.instance=g,Lt(g),g;u=M1(o),(d=oi.get(d))&&$p(u,d),g=(i.ownerDocument||i).createElement("link"),Lt(g);var x=g;return x._p=new Promise(function(E,j){x.onload=E,x.onerror=j}),cn(g,"link",u),r.state.loading|=4,of(g,o.precedence,i),r.instance=g;case"script":return g=qo(o.src),(d=i.querySelector(Iu(g)))?(r.instance=d,Lt(d),d):(u=o,(d=oi.get(g))&&(u=_({},o),Kp(u,d)),i=i.ownerDocument||i,d=i.createElement("script"),Lt(d),cn(d,"link",u),i.head.appendChild(d),r.instance=d);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,of(u,o.precedence,i));return r.instance}function of(i,r,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=u.length?u[u.length-1]:null,g=d,x=0;x<u.length;x++){var E=u[x];if(E.dataset.precedence===r)g=E;else if(g!==d)break}g?g.parentNode.insertBefore(i,g.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(i,r.firstChild))}function $p(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function Kp(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var lf=null;function O1(i,r,o){if(lf===null){var u=new Map,d=lf=new Map;d.set(o,u)}else d=lf,u=d.get(o),u||(u=new Map,d.set(o,u));if(u.has(i))return u;for(u.set(i,null),o=o.getElementsByTagName(i),d=0;d<o.length;d++){var g=o[d];if(!(g[Hi]||g[Pt]||i==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var x=g.getAttribute(r)||"";x=i+x;var E=u.get(x);E?E.push(g):u.set(x,[g])}}return u}function j1(i,r,o){i=i.ownerDocument||i,i.head.insertBefore(o,r==="title"?i.querySelector("head > title"):null)}function XN(i,r,o){if(o===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return i=r.disabled,typeof r.precedence=="string"&&i==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function P1(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function WN(i,r,o,u){if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var d=Ho(u.href),g=r.querySelector(Nu(d));if(g){r=g._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(i.count++,i=uf.bind(i),r.then(i,i)),o.state.loading|=4,o.instance=g,Lt(g);return}g=r.ownerDocument||r,u=M1(u),(d=oi.get(d))&&$p(u,d),g=g.createElement("link"),Lt(g);var x=g;x._p=new Promise(function(E,j){x.onload=E,x.onerror=j}),cn(g,"link",u),o.instance=g}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(i.count++,o=uf.bind(i),r.addEventListener("load",o),r.addEventListener("error",o))}}var Yp=0;function JN(i,r){return i.stylesheets&&i.count===0&&hf(i,i.stylesheets),0<i.count||0<i.imgCount?function(o){var u=setTimeout(function(){if(i.stylesheets&&hf(i,i.stylesheets),i.unsuspend){var g=i.unsuspend;i.unsuspend=null,g()}},6e4+r);0<i.imgBytes&&Yp===0&&(Yp=62500*kN());var d=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&hf(i,i.stylesheets),i.unsuspend)){var g=i.unsuspend;i.unsuspend=null,g()}},(i.imgBytes>Yp?50:800)+r);return i.unsuspend=o,function(){i.unsuspend=null,clearTimeout(u),clearTimeout(d)}}:null}function uf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)hf(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var cf=null;function hf(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,cf=new Map,r.forEach(ZN,i),cf=null,uf.call(i))}function ZN(i,r){if(!(r.state.loading&4)){var o=cf.get(i);if(o)var u=o.get(null);else{o=new Map,cf.set(i,o);for(var d=i.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<d.length;g++){var x=d[g];(x.nodeName==="LINK"||x.getAttribute("media")!=="not all")&&(o.set(x.dataset.precedence,x),u=x)}u&&o.set(null,u)}d=r.instance,x=d.getAttribute("data-precedence"),g=o.get(x)||u,g===u&&o.set(null,d),o.set(x,d),this.count++,u=uf.bind(this),d.addEventListener("load",u),d.addEventListener("error",u),g?g.parentNode.insertBefore(d,g.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(d,i.firstChild)),r.state.loading|=4}}var Du={$$typeof:F,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function eI(i,r,o,u,d,g,x,E,j){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Bi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bi(0),this.hiddenUpdates=Bi(null),this.identifierPrefix=u,this.onUncaughtError=d,this.onCaughtError=g,this.onRecoverableError=x,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=j,this.incompleteTransitions=new Map}function L1(i,r,o,u,d,g,x,E,j,K,Z,ne){return i=new eI(i,r,o,x,j,K,Z,ne,E),r=1,g===!0&&(r|=24),g=Un(3,null,null,r),i.current=g,g.stateNode=i,r=Rm(),r.refCount++,i.pooledCache=r,r.refCount++,g.memoizedState={element:u,isDehydrated:o,cache:r},Dm(g),i}function U1(i){return i?(i=xo,i):xo}function z1(i,r,o,u,d,g){d=U1(d),u.context===null?u.context=d:u.pendingContext=d,u=yr(r),u.payload={element:o},g=g===void 0?null:g,g!==null&&(u.callback=g),o=vr(i,u,r),o!==null&&(In(o,i,r),uu(o,i,r))}function B1(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<r?o:r}}function Qp(i,r){B1(i,r),(i=i.alternate)&&B1(i,r)}function F1(i){if(i.tag===13||i.tag===31){var r=wa(i,67108864);r!==null&&In(r,i,67108864),Qp(i,67108864)}}function H1(i){if(i.tag===13||i.tag===31){var r=qn();r=ca(r);var o=wa(i,r);o!==null&&In(o,i,r),Qp(i,r)}}var ff=!0;function tI(i,r,o,u){var d=J.T;J.T=null;var g=ae.p;try{ae.p=2,Xp(i,r,o,u)}finally{ae.p=g,J.T=d}}function nI(i,r,o,u){var d=J.T;J.T=null;var g=ae.p;try{ae.p=8,Xp(i,r,o,u)}finally{ae.p=g,J.T=d}}function Xp(i,r,o,u){if(ff){var d=Wp(u);if(d===null)jp(i,r,u,df,o),G1(i,u);else if(sI(d,i,r,o,u))u.stopPropagation();else if(G1(i,u),r&4&&-1<iI.indexOf(i)){for(;d!==null;){var g=Xn(d);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var x=Ui(g.pendingLanes);if(x!==0){var E=g;for(E.pendingLanes|=2,E.entangledLanes|=2;x;){var j=1<<31-Nt(x);E.entanglements[1]|=j,x&=~j}ss(g),(Ze&6)===0&&(Yh=Wt()+500,Su(0))}}break;case 31:case 13:E=wa(g,2),E!==null&&In(E,g,2),Xh(),Qp(g,2)}if(g=Wp(u),g===null&&jp(i,r,u,df,o),g===d)break;d=g}d!==null&&u.stopPropagation()}else jp(i,r,u,null,o)}}function Wp(i){return i=Wn(i),Jp(i)}var df=null;function Jp(i){if(df=null,i=qi(i),i!==null){var r=l(i);if(r===null)i=null;else{var o=r.tag;if(o===13){if(i=c(r),i!==null)return i;i=null}else if(o===31){if(i=f(r),i!==null)return i;i=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return df=i,null}function q1(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(wt()){case Vl:return 2;case Ol:return 8;case nr:case sm:return 32;case qc:return 268435456;default:return 32}default:return 32}}var Zp=!1,Nr=null,Ir=null,Dr=null,ku=new Map,Mu=new Map,kr=[],iI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function G1(i,r){switch(i){case"focusin":case"focusout":Nr=null;break;case"dragenter":case"dragleave":Ir=null;break;case"mouseover":case"mouseout":Dr=null;break;case"pointerover":case"pointerout":ku.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mu.delete(r.pointerId)}}function Vu(i,r,o,u,d,g){return i===null||i.nativeEvent!==g?(i={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:g,targetContainers:[d]},r!==null&&(r=Xn(r),r!==null&&F1(r)),i):(i.eventSystemFlags|=u,r=i.targetContainers,d!==null&&r.indexOf(d)===-1&&r.push(d),i)}function sI(i,r,o,u,d){switch(r){case"focusin":return Nr=Vu(Nr,i,r,o,u,d),!0;case"dragenter":return Ir=Vu(Ir,i,r,o,u,d),!0;case"mouseover":return Dr=Vu(Dr,i,r,o,u,d),!0;case"pointerover":var g=d.pointerId;return ku.set(g,Vu(ku.get(g)||null,i,r,o,u,d)),!0;case"gotpointercapture":return g=d.pointerId,Mu.set(g,Vu(Mu.get(g)||null,i,r,o,u,d)),!0}return!1}function $1(i){var r=qi(i.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=c(o),r!==null){i.blockedOn=r,yi(i.priority,function(){H1(o)});return}}else if(r===31){if(r=f(o),r!==null){i.blockedOn=r,yi(i.priority,function(){H1(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function mf(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var o=Wp(i.nativeEvent);if(o===null){o=i.nativeEvent;var u=new o.constructor(o.type,o);Kl=u,o.target.dispatchEvent(u),Kl=null}else return r=Xn(o),r!==null&&F1(r),i.blockedOn=o,!1;r.shift()}return!0}function K1(i,r,o){mf(i)&&o.delete(r)}function rI(){Zp=!1,Nr!==null&&mf(Nr)&&(Nr=null),Ir!==null&&mf(Ir)&&(Ir=null),Dr!==null&&mf(Dr)&&(Dr=null),ku.forEach(K1),Mu.forEach(K1)}function pf(i,r){i.blockedOn===r&&(i.blockedOn=null,Zp||(Zp=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,rI)))}var gf=null;function Y1(i){gf!==i&&(gf=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){gf===i&&(gf=null);for(var r=0;r<i.length;r+=3){var o=i[r],u=i[r+1],d=i[r+2];if(typeof u!="function"){if(Jp(u||o)===null)continue;break}var g=Xn(o);g!==null&&(i.splice(r,3),r-=3,Wm(g,{pending:!0,data:d,method:o.method,action:u},u,d))}}))}function Go(i){function r(j){return pf(j,i)}Nr!==null&&pf(Nr,i),Ir!==null&&pf(Ir,i),Dr!==null&&pf(Dr,i),ku.forEach(r),Mu.forEach(r);for(var o=0;o<kr.length;o++){var u=kr[o];u.blockedOn===i&&(u.blockedOn=null)}for(;0<kr.length&&(o=kr[0],o.blockedOn===null);)$1(o),o.blockedOn===null&&kr.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var d=o[u],g=o[u+1],x=d[Jt]||null;if(typeof g=="function")x||Y1(o);else if(x){var E=null;if(g&&g.hasAttribute("formAction")){if(d=g,x=g[Jt]||null)E=x.formAction;else if(Jp(d)!==null)continue}else E=x.action;typeof E=="function"?o[u+1]=E:(o.splice(u,3),u-=3),Y1(o)}}}function Q1(){function i(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(x){return d=x})},focusReset:"manual",scroll:"manual"})}function r(){d!==null&&(d(),d=null),u||setTimeout(o,20)}function o(){if(!u&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,d=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(o,100),function(){u=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),d!==null&&(d(),d=null)}}}function eg(i){this._internalRoot=i}yf.prototype.render=eg.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var o=r.current,u=qn();z1(o,u,i,r,null,null)},yf.prototype.unmount=eg.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;z1(i.current,2,null,i,null,null),Xh(),r[Fi]=null}};function yf(i){this._internalRoot=i}yf.prototype.unstable_scheduleHydration=function(i){if(i){var r=Xc();i={blockedOn:null,target:i,priority:r};for(var o=0;o<kr.length&&r!==0&&r<kr[o].priority;o++);kr.splice(o,0,i),o===0&&$1(i)}};var X1=e.version;if(X1!=="19.2.3")throw Error(s(527,X1,"19.2.3"));ae.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=p(r),i=i!==null?v(i):null,i=i===null?null:i.stateNode,i};var aI={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:J,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vf.isDisabled&&vf.supportsFiber)try{pi=vf.inject(aI),rn=vf}catch{}}return ju.createRoot=function(i,r){if(!a(i))throw Error(s(299));var o=!1,u="",d=ib,g=sb,x=rb;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(d=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(x=r.onRecoverableError)),r=L1(i,1,!1,null,null,o,u,null,d,g,x,Q1),i[Fi]=r.current,Op(i),new eg(r)},ju.hydrateRoot=function(i,r,o){if(!a(i))throw Error(s(299));var u=!1,d="",g=ib,x=sb,E=rb,j=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(x=o.onCaughtError),o.onRecoverableError!==void 0&&(E=o.onRecoverableError),o.formState!==void 0&&(j=o.formState)),r=L1(i,1,!0,r,o??null,u,d,j,g,x,E,Q1),r.context=U1(null),o=r.current,u=qn(),u=ca(u),d=yr(u),d.callback=null,vr(o,d,u),o=u,r.current.lanes=o,la(r,o),ss(r),i[Fi]=r.current,Op(i),new yf(r)},ju.version="19.2.3",ju}var ax;function gI(){if(ax)return ig.exports;ax=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),ig.exports=pI(),ig.exports}var yI=gI();const vI=TE(yI);/**
 * react-router v7.12.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var ox="popstate";function _I(t={}){function e(s,a){let{pathname:l,search:c,hash:f}=s.location;return qg("",{pathname:l,search:c,hash:f},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){return typeof a=="string"?a:cc(a)}return xI(e,n,null,t)}function vt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function mi(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function bI(){return Math.random().toString(36).substring(2,10)}function lx(t,e){return{usr:t.state,key:t.key,idx:e}}function qg(t,e,n=null,s){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Tl(e):e,state:n,key:e&&e.key||s||bI()}}function cc({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Tl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substring(s),t=t.substring(0,s)),t&&(e.pathname=t)}return e}function xI(t,e,n,s={}){let{window:a=document.defaultView,v5Compat:l=!1}=s,c=a.history,f="POP",m=null,p=v();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function v(){return(c.state||{idx:null}).idx}function _(){f="POP";let O=v(),B=O==null?null:O-p;p=O,m&&m({action:f,location:M.location,delta:B})}function w(O,B){f="PUSH";let G=qg(M.location,O,B);p=v()+1;let F=lx(G,p),oe=M.createHref(G);try{c.pushState(F,"",oe)}catch(re){if(re instanceof DOMException&&re.name==="DataCloneError")throw re;a.location.assign(oe)}l&&m&&m({action:f,location:M.location,delta:1})}function S(O,B){f="REPLACE";let G=qg(M.location,O,B);p=v();let F=lx(G,p),oe=M.createHref(G);c.replaceState(F,"",oe),l&&m&&m({action:f,location:M.location,delta:0})}function N(O){return wI(O)}let M={get action(){return f},get location(){return t(a,c)},listen(O){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(ox,_),m=O,()=>{a.removeEventListener(ox,_),m=null}},createHref(O){return e(a,O)},createURL:N,encodeLocation(O){let B=N(O);return{pathname:B.pathname,search:B.search,hash:B.hash}},push:w,replace:S,go(O){return c.go(O)}};return M}function wI(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),vt(n,"No window.location.(origin|href) available to create URL");let s=typeof t=="string"?t:cc(t);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function EE(t,e,n="/"){return TI(t,e,n,!1)}function TI(t,e,n,s){let a=typeof e=="string"?Tl(e):e,l=Gs(a.pathname||"/",n);if(l==null)return null;let c=SE(t);EI(c);let f=null;for(let m=0;f==null&&m<c.length;++m){let p=OI(l);f=MI(c[m],p,s)}return f}function SE(t,e=[],n=[],s="",a=!1){let l=(c,f,m=a,p)=>{let v={relativePath:p===void 0?c.path||"":p,caseSensitive:c.caseSensitive===!0,childrenIndex:f,route:c};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(s)&&m)return;vt(v.relativePath.startsWith(s),`Absolute route path "${v.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(s.length)}let _=Fs([s,v.relativePath]),w=n.concat(v);c.children&&c.children.length>0&&(vt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),SE(c.children,e,w,_,m)),!(c.path==null&&!c.index)&&e.push({path:_,score:DI(_,c.index),routesMeta:w})};return t.forEach((c,f)=>{var m;if(c.path===""||!((m=c.path)!=null&&m.includes("?")))l(c,f);else for(let p of AE(c.path))l(c,f,!0,p)}),e}function AE(t){let e=t.split("/");if(e.length===0)return[];let[n,...s]=e,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(s.length===0)return a?[l,""]:[l];let c=AE(s.join("/")),f=[];return f.push(...c.map(m=>m===""?l:[l,m].join("/"))),a&&f.push(...c),f.map(m=>t.startsWith("/")&&m===""?"/":m)}function EI(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:kI(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var SI=/^:[\w-]+$/,AI=3,RI=2,CI=1,NI=10,II=-2,ux=t=>t==="*";function DI(t,e){let n=t.split("/"),s=n.length;return n.some(ux)&&(s+=II),e&&(s+=RI),n.filter(a=>!ux(a)).reduce((a,l)=>a+(SI.test(l)?AI:l===""?CI:NI),s)}function kI(t,e){return t.length===e.length&&t.slice(0,-1).every((s,a)=>s===e[a])?t[t.length-1]-e[e.length-1]:0}function MI(t,e,n=!1){let{routesMeta:s}=t,a={},l="/",c=[];for(let f=0;f<s.length;++f){let m=s[f],p=f===s.length-1,v=l==="/"?e:e.slice(l.length)||"/",_=Jf({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},v),w=m.route;if(!_&&p&&n&&!s[s.length-1].route.index&&(_=Jf({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},v)),!_)return null;Object.assign(a,_.params),c.push({params:a,pathname:Fs([l,_.pathname]),pathnameBase:UI(Fs([l,_.pathnameBase])),route:w}),_.pathnameBase!=="/"&&(l=Fs([l,_.pathnameBase]))}return c}function Jf(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=VI(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),f=a.slice(1);return{params:s.reduce((p,{paramName:v,isOptional:_},w)=>{if(v==="*"){let N=f[w]||"";c=l.slice(0,l.length-N.length).replace(/(.)\/+$/,"$1")}const S=f[w];return _&&!S?p[v]=void 0:p[v]=(S||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:c,pattern:t}}function VI(t,e=!1,n=!0){mi(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let s=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,f,m)=>(s.push({paramName:f,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(s.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function OI(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return mi(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Gs(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}var RE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,jI=t=>RE.test(t);function PI(t,e="/"){let{pathname:n,search:s="",hash:a=""}=typeof t=="string"?Tl(t):t,l;if(n)if(jI(n))l=n;else{if(n.includes("//")){let c=n;n=n.replace(/\/\/+/g,"/"),mi(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${n}`)}n.startsWith("/")?l=cx(n.substring(1),"/"):l=cx(n,e)}else l=e;return{pathname:l,search:zI(s),hash:BI(a)}}function cx(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function og(t,e,n,s){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function LI(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function qy(t){let e=LI(t);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function Gy(t,e,n,s=!1){let a;typeof t=="string"?a=Tl(t):(a={...t},vt(!a.pathname||!a.pathname.includes("?"),og("?","pathname","search",a)),vt(!a.pathname||!a.pathname.includes("#"),og("#","pathname","hash",a)),vt(!a.search||!a.search.includes("#"),og("#","search","hash",a)));let l=t===""||a.pathname==="",c=l?"/":a.pathname,f;if(c==null)f=n;else{let _=e.length-1;if(!s&&c.startsWith("..")){let w=c.split("/");for(;w[0]==="..";)w.shift(),_-=1;a.pathname=w.join("/")}f=_>=0?e[_]:"/"}let m=PI(a,f),p=c&&c!=="/"&&c.endsWith("/"),v=(l||c===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(p||v)&&(m.pathname+="/"),m}var Fs=t=>t.join("/").replace(/\/\/+/g,"/"),UI=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),zI=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,BI=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,FI=class{constructor(t,e,n,s=!1){this.status=t,this.statusText=e||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function HI(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function qI(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var CE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function NE(t,e){let n=t;if(typeof n!="string"||!RE.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,a=!1;if(CE)try{let l=new URL(window.location.href),c=n.startsWith("//")?new URL(l.protocol+n):new URL(n),f=Gs(c.pathname,e);c.origin===l.origin&&f!=null?n=f+c.search+c.hash:a=!0}catch{mi(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:a,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var IE=["POST","PUT","PATCH","DELETE"];new Set(IE);var GI=["GET",...IE];new Set(GI);var El=D.createContext(null);El.displayName="DataRouter";var Rd=D.createContext(null);Rd.displayName="DataRouterState";var $I=D.createContext(!1),DE=D.createContext({isTransitioning:!1});DE.displayName="ViewTransition";var KI=D.createContext(new Map);KI.displayName="Fetchers";var YI=D.createContext(null);YI.displayName="Await";var Kn=D.createContext(null);Kn.displayName="Navigation";var Sc=D.createContext(null);Sc.displayName="Location";var gs=D.createContext({outlet:null,matches:[],isDataRoute:!1});gs.displayName="Route";var $y=D.createContext(null);$y.displayName="RouteError";var kE="REACT_ROUTER_ERROR",QI="REDIRECT",XI="ROUTE_ERROR_RESPONSE";function WI(t){if(t.startsWith(`${kE}:${QI}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function JI(t){if(t.startsWith(`${kE}:${XI}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new FI(e.status,e.statusText,e.data)}catch{}}function ZI(t,{relative:e}={}){vt(Sl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=D.useContext(Kn),{hash:a,pathname:l,search:c}=Ac(t,{relative:e}),f=l;return n!=="/"&&(f=l==="/"?n:Fs([n,l])),s.createHref({pathname:f,search:c,hash:a})}function Sl(){return D.useContext(Sc)!=null}function Ws(){return vt(Sl(),"useLocation() may be used only in the context of a <Router> component."),D.useContext(Sc).location}var ME="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function VE(t){D.useContext(Kn).static||D.useLayoutEffect(t)}function Cd(){let{isDataRoute:t}=D.useContext(gs);return t?fD():eD()}function eD(){vt(Sl(),"useNavigate() may be used only in the context of a <Router> component.");let t=D.useContext(El),{basename:e,navigator:n}=D.useContext(Kn),{matches:s}=D.useContext(gs),{pathname:a}=Ws(),l=JSON.stringify(qy(s)),c=D.useRef(!1);return VE(()=>{c.current=!0}),D.useCallback((m,p={})=>{if(mi(c.current,ME),!c.current)return;if(typeof m=="number"){n.go(m);return}let v=Gy(m,JSON.parse(l),a,p.relative==="path");t==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Fs([e,v.pathname])),(p.replace?n.replace:n.push)(v,p.state,p)},[e,n,l,a,t])}D.createContext(null);function Ac(t,{relative:e}={}){let{matches:n}=D.useContext(gs),{pathname:s}=Ws(),a=JSON.stringify(qy(n));return D.useMemo(()=>Gy(t,JSON.parse(a),s,e==="path"),[t,a,s,e])}function tD(t,e){return OE(t,e)}function OE(t,e,n,s,a){var G;vt(Sl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=D.useContext(Kn),{matches:c}=D.useContext(gs),f=c[c.length-1],m=f?f.params:{},p=f?f.pathname:"/",v=f?f.pathnameBase:"/",_=f&&f.route;{let F=_&&_.path||"";PE(p,!_||F.endsWith("*")||F.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${F}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${F}"> to <Route path="${F==="/"?"*":`${F}/*`}">.`)}let w=Ws(),S;if(e){let F=typeof e=="string"?Tl(e):e;vt(v==="/"||((G=F.pathname)==null?void 0:G.startsWith(v)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${F.pathname}" was given in the \`location\` prop.`),S=F}else S=w;let N=S.pathname||"/",M=N;if(v!=="/"){let F=v.replace(/^\//,"").split("/");M="/"+N.replace(/^\//,"").split("/").slice(F.length).join("/")}let O=EE(t,{pathname:M});mi(_||O!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),mi(O==null||O[O.length-1].route.element!==void 0||O[O.length-1].route.Component!==void 0||O[O.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let B=aD(O&&O.map(F=>Object.assign({},F,{params:Object.assign({},m,F.params),pathname:Fs([v,l.encodeLocation?l.encodeLocation(F.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:F.pathname]),pathnameBase:F.pathnameBase==="/"?v:Fs([v,l.encodeLocation?l.encodeLocation(F.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:F.pathnameBase])})),c,n,s,a);return e&&B?D.createElement(Sc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},B):B}function nD(){let t=hD(),e=HI(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=D.createElement(D.Fragment,null,D.createElement("p",null," Hey developer "),D.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",D.createElement("code",{style:l},"ErrorBoundary")," or"," ",D.createElement("code",{style:l},"errorElement")," prop on your route.")),D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},e),n?D.createElement("pre",{style:a},n):null,c)}var iD=D.createElement(nD,null),jE=class extends D.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=JI(t.digest);n&&(t=n)}let e=t!==void 0?D.createElement(gs.Provider,{value:this.props.routeContext},D.createElement($y.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?D.createElement(sD,{error:t},e):e}};jE.contextType=$I;var lg=new WeakMap;function sD({children:t,error:e}){let{basename:n}=D.useContext(Kn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=WI(e.digest);if(s){let a=lg.get(e);if(a)throw a;let l=NE(s.location,n);if(CE&&!lg.get(e))if(l.isExternal||s.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:s.replace}));throw lg.set(e,c),c}return D.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return t}function rD({routeContext:t,match:e,children:n}){let s=D.useContext(El);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),D.createElement(gs.Provider,{value:t},n)}function aD(t,e=[],n=null,s=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,c=n==null?void 0:n.errors;if(c!=null){let v=l.findIndex(_=>_.route.id&&(c==null?void 0:c[_.route.id])!==void 0);vt(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,v+1))}let f=!1,m=-1;if(n)for(let v=0;v<l.length;v++){let _=l[v];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(m=v),_.route.id){let{loaderData:w,errors:S}=n,N=_.route.loader&&!w.hasOwnProperty(_.route.id)&&(!S||S[_.route.id]===void 0);if(_.route.lazy||N){f=!0,m>=0?l=l.slice(0,m+1):l=[l[0]];break}}}let p=n&&s?(v,_)=>{var w,S;s(v,{location:n.location,params:((S=(w=n.matches)==null?void 0:w[0])==null?void 0:S.params)??{},unstable_pattern:qI(n.matches),errorInfo:_})}:void 0;return l.reduceRight((v,_,w)=>{let S,N=!1,M=null,O=null;n&&(S=c&&_.route.id?c[_.route.id]:void 0,M=_.route.errorElement||iD,f&&(m<0&&w===0?(PE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),N=!0,O=null):m===w&&(N=!0,O=_.route.hydrateFallbackElement||null)));let B=e.concat(l.slice(0,w+1)),G=()=>{let F;return S?F=M:N?F=O:_.route.Component?F=D.createElement(_.route.Component,null):_.route.element?F=_.route.element:F=v,D.createElement(rD,{match:_,routeContext:{outlet:v,matches:B,isDataRoute:n!=null},children:F})};return n&&(_.route.ErrorBoundary||_.route.errorElement||w===0)?D.createElement(jE,{location:n.location,revalidation:n.revalidation,component:M,error:S,children:G(),routeContext:{outlet:null,matches:B,isDataRoute:!0},onError:p}):G()},null)}function Ky(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function oD(t){let e=D.useContext(El);return vt(e,Ky(t)),e}function lD(t){let e=D.useContext(Rd);return vt(e,Ky(t)),e}function uD(t){let e=D.useContext(gs);return vt(e,Ky(t)),e}function Yy(t){let e=uD(t),n=e.matches[e.matches.length-1];return vt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function cD(){return Yy("useRouteId")}function hD(){var s;let t=D.useContext($y),e=lD("useRouteError"),n=Yy("useRouteError");return t!==void 0?t:(s=e.errors)==null?void 0:s[n]}function fD(){let{router:t}=oD("useNavigate"),e=Yy("useNavigate"),n=D.useRef(!1);return VE(()=>{n.current=!0}),D.useCallback(async(a,l={})=>{mi(n.current,ME),n.current&&(typeof a=="number"?await t.navigate(a):await t.navigate(a,{fromRouteId:e,...l}))},[t,e])}var hx={};function PE(t,e,n){!e&&!hx[t]&&(hx[t]=!0,mi(!1,n))}D.memo(dD);function dD({routes:t,future:e,state:n,onError:s}){return OE(t,void 0,n,s,e)}function mD({to:t,replace:e,state:n,relative:s}){vt(Sl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=D.useContext(Kn);mi(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=D.useContext(gs),{pathname:c}=Ws(),f=Cd(),m=Gy(t,qy(l),c,s==="path"),p=JSON.stringify(m);return D.useEffect(()=>{f(JSON.parse(p),{replace:e,state:n,relative:s})},[f,p,s,e,n]),null}function Gg(t){vt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function pD({basename:t="/",children:e=null,location:n,navigationType:s="POP",navigator:a,static:l=!1,unstable_useTransitions:c}){vt(!Sl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=t.replace(/^\/*/,"/"),m=D.useMemo(()=>({basename:f,navigator:a,static:l,unstable_useTransitions:c,future:{}}),[f,a,l,c]);typeof n=="string"&&(n=Tl(n));let{pathname:p="/",search:v="",hash:_="",state:w=null,key:S="default"}=n,N=D.useMemo(()=>{let M=Gs(p,f);return M==null?null:{location:{pathname:M,search:v,hash:_,state:w,key:S},navigationType:s}},[f,p,v,_,w,S,s]);return mi(N!=null,`<Router basename="${f}"> is not able to match the URL "${p}${v}${_}" because it does not start with the basename, so the <Router> won't render anything.`),N==null?null:D.createElement(Kn.Provider,{value:m},D.createElement(Sc.Provider,{children:e,value:N}))}function gD({children:t,location:e}){return tD($g(t),e)}function $g(t,e=[]){let n=[];return D.Children.forEach(t,(s,a)=>{if(!D.isValidElement(s))return;let l=[...e,a];if(s.type===D.Fragment){n.push.apply(n,$g(s.props.children,l));return}vt(s.type===Gg,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),vt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let c={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=$g(s.props.children,l)),n.push(c)}),n}var Vf="get",Of="application/x-www-form-urlencoded";function Nd(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function yD(t){return Nd(t)&&t.tagName.toLowerCase()==="button"}function vD(t){return Nd(t)&&t.tagName.toLowerCase()==="form"}function _D(t){return Nd(t)&&t.tagName.toLowerCase()==="input"}function bD(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function xD(t,e){return t.button===0&&(!e||e==="_self")&&!bD(t)}var _f=null;function wD(){if(_f===null)try{new FormData(document.createElement("form"),0),_f=!1}catch{_f=!0}return _f}var TD=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ug(t){return t!=null&&!TD.has(t)?(mi(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Of}"`),null):t}function ED(t,e){let n,s,a,l,c;if(vD(t)){let f=t.getAttribute("action");s=f?Gs(f,e):null,n=t.getAttribute("method")||Vf,a=ug(t.getAttribute("enctype"))||Of,l=new FormData(t)}else if(yD(t)||_D(t)&&(t.type==="submit"||t.type==="image")){let f=t.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=t.getAttribute("formaction")||f.getAttribute("action");if(s=m?Gs(m,e):null,n=t.getAttribute("formmethod")||f.getAttribute("method")||Vf,a=ug(t.getAttribute("formenctype"))||ug(f.getAttribute("enctype"))||Of,l=new FormData(f,t),!wD()){let{name:p,type:v,value:_}=t;if(v==="image"){let w=p?`${p}.`:"";l.append(`${w}x`,"0"),l.append(`${w}y`,"0")}else p&&l.append(p,_)}}else{if(Nd(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Vf,s=null,a=Of,c=t}return l&&a==="text/plain"&&(c=l,l=void 0),{action:s,method:n.toLowerCase(),encType:a,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Qy(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function SD(t,e,n,s){let a=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n?a.pathname.endsWith("/")?a.pathname=`${a.pathname}_.${s}`:a.pathname=`${a.pathname}.${s}`:a.pathname==="/"?a.pathname=`_root.${s}`:e&&Gs(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${s}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${s}`,a}async function AD(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function RD(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function CD(t,e,n){let s=await Promise.all(t.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await AD(l,n);return c.links?c.links():[]}return[]}));return kD(s.flat(1).filter(RD).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function fx(t,e,n,s,a,l){let c=(m,p)=>n[p]?m.route.id!==n[p].route.id:!0,f=(m,p)=>{var v;return n[p].pathname!==m.pathname||((v=n[p].route.path)==null?void 0:v.endsWith("*"))&&n[p].params["*"]!==m.params["*"]};return l==="assets"?e.filter((m,p)=>c(m,p)||f(m,p)):l==="data"?e.filter((m,p)=>{var _;let v=s.routes[m.route.id];if(!v||!v.hasLoader)return!1;if(c(m,p)||f(m,p))return!0;if(m.route.shouldRevalidate){let w=m.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((_=n[0])==null?void 0:_.params)||{},nextUrl:new URL(t,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function ND(t,e,{includeHydrateFallback:n}={}){return ID(t.map(s=>{let a=e.routes[s.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function ID(t){return[...new Set(t)]}function DD(t){let e={},n=Object.keys(t).sort();for(let s of n)e[s]=t[s];return e}function kD(t,e){let n=new Set;return new Set(e),t.reduce((s,a)=>{let l=JSON.stringify(DD(a));return n.has(l)||(n.add(l),s.push({key:l,link:a})),s},[])}function LE(){let t=D.useContext(El);return Qy(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function MD(){let t=D.useContext(Rd);return Qy(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Xy=D.createContext(void 0);Xy.displayName="FrameworkContext";function UE(){let t=D.useContext(Xy);return Qy(t,"You must render this element inside a <HydratedRouter> element"),t}function VD(t,e){let n=D.useContext(Xy),[s,a]=D.useState(!1),[l,c]=D.useState(!1),{onFocus:f,onBlur:m,onMouseEnter:p,onMouseLeave:v,onTouchStart:_}=e,w=D.useRef(null);D.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let M=B=>{B.forEach(G=>{c(G.isIntersecting)})},O=new IntersectionObserver(M,{threshold:.5});return w.current&&O.observe(w.current),()=>{O.disconnect()}}},[t]),D.useEffect(()=>{if(s){let M=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(M)}}},[s]);let S=()=>{a(!0)},N=()=>{a(!1),c(!1)};return n?t!=="intent"?[l,w,{}]:[l,w,{onFocus:Pu(f,S),onBlur:Pu(m,N),onMouseEnter:Pu(p,S),onMouseLeave:Pu(v,N),onTouchStart:Pu(_,S)}]:[!1,w,{}]}function Pu(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function OD({page:t,...e}){let{router:n}=LE(),s=D.useMemo(()=>EE(n.routes,t,n.basename),[n.routes,t,n.basename]);return s?D.createElement(PD,{page:t,matches:s,...e}):null}function jD(t){let{manifest:e,routeModules:n}=UE(),[s,a]=D.useState([]);return D.useEffect(()=>{let l=!1;return CD(t,e,n).then(c=>{l||a(c)}),()=>{l=!0}},[t,e,n]),s}function PD({page:t,matches:e,...n}){let s=Ws(),{future:a,manifest:l,routeModules:c}=UE(),{basename:f}=LE(),{loaderData:m,matches:p}=MD(),v=D.useMemo(()=>fx(t,e,p,l,s,"data"),[t,e,p,l,s]),_=D.useMemo(()=>fx(t,e,p,l,s,"assets"),[t,e,p,l,s]),w=D.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let M=new Set,O=!1;if(e.forEach(G=>{var oe;let F=l.routes[G.route.id];!F||!F.hasLoader||(!v.some(re=>re.route.id===G.route.id)&&G.route.id in m&&((oe=c[G.route.id])!=null&&oe.shouldRevalidate)||F.hasClientLoader?O=!0:M.add(G.route.id))}),M.size===0)return[];let B=SD(t,f,a.unstable_trailingSlashAwareDataRequests,"data");return O&&M.size>0&&B.searchParams.set("_routes",e.filter(G=>M.has(G.route.id)).map(G=>G.route.id).join(",")),[B.pathname+B.search]},[f,a.unstable_trailingSlashAwareDataRequests,m,s,l,v,e,t,c]),S=D.useMemo(()=>ND(_,l),[_,l]),N=jD(_);return D.createElement(D.Fragment,null,w.map(M=>D.createElement("link",{key:M,rel:"prefetch",as:"fetch",href:M,...n})),S.map(M=>D.createElement("link",{key:M,rel:"modulepreload",href:M,...n})),N.map(({key:M,link:O})=>D.createElement("link",{key:M,nonce:n.nonce,...O})))}function LD(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var UD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{UD&&(window.__reactRouterVersion="7.12.0")}catch{}function zD({basename:t,children:e,unstable_useTransitions:n,window:s}){let a=D.useRef();a.current==null&&(a.current=_I({window:s,v5Compat:!0}));let l=a.current,[c,f]=D.useState({action:l.action,location:l.location}),m=D.useCallback(p=>{n===!1?f(p):D.startTransition(()=>f(p))},[n]);return D.useLayoutEffect(()=>l.listen(m),[l,m]),D.createElement(pD,{basename:t,children:e,location:c.location,navigationType:c.action,navigator:l,unstable_useTransitions:n})}var zE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,BE=D.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:a,reloadDocument:l,replace:c,state:f,target:m,to:p,preventScrollReset:v,viewTransition:_,unstable_defaultShouldRevalidate:w,...S},N){let{basename:M,unstable_useTransitions:O}=D.useContext(Kn),B=typeof p=="string"&&zE.test(p),G=NE(p,M);p=G.to;let F=ZI(p,{relative:a}),[oe,re,ce]=VD(s,S),C=qD(p,{replace:c,state:f,target:m,preventScrollReset:v,relative:a,viewTransition:_,unstable_defaultShouldRevalidate:w,unstable_useTransitions:O});function A(P){e&&e(P),P.defaultPrevented||C(P)}let I=D.createElement("a",{...S,...ce,href:G.absoluteURL||F,onClick:G.isExternal||l?e:A,ref:LD(N,re),target:m,"data-discover":!B&&n==="render"?"true":void 0});return oe&&!B?D.createElement(D.Fragment,null,I,D.createElement(OD,{page:F})):I});BE.displayName="Link";var BD=D.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:a=!1,style:l,to:c,viewTransition:f,children:m,...p},v){let _=Ac(c,{relative:p.relative}),w=Ws(),S=D.useContext(Rd),{navigator:N,basename:M}=D.useContext(Kn),O=S!=null&&QD(_)&&f===!0,B=N.encodeLocation?N.encodeLocation(_).pathname:_.pathname,G=w.pathname,F=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;n||(G=G.toLowerCase(),F=F?F.toLowerCase():null,B=B.toLowerCase()),F&&M&&(F=Gs(F,M)||F);const oe=B!=="/"&&B.endsWith("/")?B.length-1:B.length;let re=G===B||!a&&G.startsWith(B)&&G.charAt(oe)==="/",ce=F!=null&&(F===B||!a&&F.startsWith(B)&&F.charAt(B.length)==="/"),C={isActive:re,isPending:ce,isTransitioning:O},A=re?e:void 0,I;typeof s=="function"?I=s(C):I=[s,re?"active":null,ce?"pending":null,O?"transitioning":null].filter(Boolean).join(" ");let P=typeof l=="function"?l(C):l;return D.createElement(BE,{...p,"aria-current":A,className:I,ref:v,style:P,to:c,viewTransition:f},typeof m=="function"?m(C):m)});BD.displayName="NavLink";var FD=D.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:a,state:l,method:c=Vf,action:f,onSubmit:m,relative:p,preventScrollReset:v,viewTransition:_,unstable_defaultShouldRevalidate:w,...S},N)=>{let{unstable_useTransitions:M}=D.useContext(Kn),O=KD(),B=YD(f,{relative:p}),G=c.toLowerCase()==="get"?"get":"post",F=typeof f=="string"&&zE.test(f),oe=re=>{if(m&&m(re),re.defaultPrevented)return;re.preventDefault();let ce=re.nativeEvent.submitter,C=(ce==null?void 0:ce.getAttribute("formmethod"))||c,A=()=>O(ce||re.currentTarget,{fetcherKey:e,method:C,navigate:n,replace:a,state:l,relative:p,preventScrollReset:v,viewTransition:_,unstable_defaultShouldRevalidate:w});M&&n!==!1?D.startTransition(()=>A()):A()};return D.createElement("form",{ref:N,method:G,action:B,onSubmit:s?m:oe,...S,"data-discover":!F&&t==="render"?"true":void 0})});FD.displayName="Form";function HD(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function FE(t){let e=D.useContext(El);return vt(e,HD(t)),e}function qD(t,{target:e,replace:n,state:s,preventScrollReset:a,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:f,unstable_useTransitions:m}={}){let p=Cd(),v=Ws(),_=Ac(t,{relative:l});return D.useCallback(w=>{if(xD(w,e)){w.preventDefault();let S=n!==void 0?n:cc(v)===cc(_),N=()=>p(t,{replace:S,state:s,preventScrollReset:a,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:f});m?D.startTransition(()=>N()):N()}},[v,p,_,n,s,e,t,a,l,c,f,m])}var GD=0,$D=()=>`__${String(++GD)}__`;function KD(){let{router:t}=FE("useSubmit"),{basename:e}=D.useContext(Kn),n=cD(),s=t.fetch,a=t.navigate;return D.useCallback(async(l,c={})=>{let{action:f,method:m,encType:p,formData:v,body:_}=ED(l,e);if(c.navigate===!1){let w=c.fetcherKey||$D();await s(w,n,c.action||f,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:v,body:_,formMethod:c.method||m,formEncType:c.encType||p,flushSync:c.flushSync})}else await a(c.action||f,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:v,body:_,formMethod:c.method||m,formEncType:c.encType||p,replace:c.replace,state:c.state,fromRouteId:n,flushSync:c.flushSync,viewTransition:c.viewTransition})},[s,a,e,n])}function YD(t,{relative:e}={}){let{basename:n}=D.useContext(Kn),s=D.useContext(gs);vt(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),l={...Ac(t||".",{relative:e})},c=Ws();if(t==null){l.search=c.search;let f=new URLSearchParams(l.search),m=f.getAll("index");if(m.some(v=>v==="")){f.delete("index"),m.filter(_=>_).forEach(_=>f.append("index",_));let v=f.toString();l.search=v?`?${v}`:""}}return(!t||t===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:Fs([n,l.pathname])),cc(l)}function QD(t,{relative:e}={}){let n=D.useContext(DE);vt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=FE("useViewTransitionState"),a=Ac(t,{relative:e});if(!n.isTransitioning)return!1;let l=Gs(n.currentLocation.pathname,s)||n.currentLocation.pathname,c=Gs(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Jf(a.pathname,c)!=null||Jf(a.pathname,l)!=null}const XD=()=>{};var dx={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HE=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let a=t.charCodeAt(s);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},WD=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const a=t[n++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[s++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],c=t[n++],f=t[n++],m=((a&7)<<18|(l&63)<<12|(c&63)<<6|f&63)-65536;e[s++]=String.fromCharCode(55296+(m>>10)),e[s++]=String.fromCharCode(56320+(m&1023))}else{const l=t[n++],c=t[n++];e[s++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},qE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<t.length;a+=3){const l=t[a],c=a+1<t.length,f=c?t[a+1]:0,m=a+2<t.length,p=m?t[a+2]:0,v=l>>2,_=(l&3)<<4|f>>4;let w=(f&15)<<2|p>>6,S=p&63;m||(S=64,c||(w=64)),s.push(n[v],n[_],n[w],n[S])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(HE(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):WD(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],f=a<t.length?n[t.charAt(a)]:0;++a;const p=a<t.length?n[t.charAt(a)]:64;++a;const _=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||f==null||p==null||_==null)throw new JD;const w=l<<2|f>>4;if(s.push(w),p!==64){const S=f<<4&240|p>>2;if(s.push(S),_!==64){const N=p<<6&192|_;s.push(N)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class JD extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ZD=function(t){const e=HE(t);return qE.encodeByteArray(e,!0)},Zf=function(t){return ZD(t).replace(/\./g,"")},GE=function(t){try{return qE.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t4=()=>e4().__FIREBASE_DEFAULTS__,n4=()=>{if(typeof process>"u"||typeof dx>"u")return;const t=dx.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},i4=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&GE(t[1]);return e&&JSON.parse(e)},Id=()=>{try{return XD()||t4()||n4()||i4()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},$E=t=>{var e,n;return(n=(e=Id())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},KE=t=>{const e=$E(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},YE=()=>{var t;return(t=Id())==null?void 0:t.config},QE=t=>{var e;return(e=Id())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s4{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ia(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Wy(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XE(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Zf(JSON.stringify(n)),Zf(JSON.stringify(c)),""].join(".")}const Xu={};function r4(){const t={prod:[],emulator:[]};for(const e of Object.keys(Xu))Xu[e]?t.emulator.push(e):t.prod.push(e);return t}function a4(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let mx=!1;function Jy(t,e){if(typeof window>"u"||typeof document>"u"||!ia(window.location.host)||Xu[t]===e||Xu[t]||mx)return;Xu[t]=e;function n(w){return`__firebase__banner__${w}`}const s="__firebase__banner",l=r4().prod.length>0;function c(){const w=document.getElementById(s);w&&w.remove()}function f(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function m(w,S){w.setAttribute("width","24"),w.setAttribute("id",S),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function p(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{mx=!0,c()},w}function v(w,S){w.setAttribute("id",S),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function _(){const w=a4(s),S=n("text"),N=document.getElementById(S)||document.createElement("span"),M=n("learnmore"),O=document.getElementById(M)||document.createElement("a"),B=n("preprendIcon"),G=document.getElementById(B)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const F=w.element;f(F),v(O,M);const oe=p();m(G,B),F.append(G,N,O,oe),document.body.appendChild(F)}l?(N.innerText="Preview backend disconnected.",G.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(G.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,N.innerText="Preview backend running in this workspace."),N.setAttribute("id",S)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function o4(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(vn())}function l4(){var e;const t=(e=Id())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function u4(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function c4(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function h4(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function f4(){const t=vn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function d4(){return!l4()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function m4(){try{return typeof indexedDB=="object"}catch{return!1}}function p4(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var l;e(((l=a.error)==null?void 0:l.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g4="FirebaseError";class ys extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=g4,Object.setPrototypeOf(this,ys.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Rc.prototype.create)}}class Rc{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?y4(l,s):"Error",f=`${this.serviceName}: ${c} (${a}).`;return new ys(a,f,s)}}function y4(t,e){return t.replace(v4,(n,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const v4=/\{\$([^}]+)}/g;function _4(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function $a(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const a of n){if(!s.includes(a))return!1;const l=t[a],c=e[a];if(px(l)&&px(c)){if(!$a(l,c))return!1}else if(l!==c)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function px(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cc(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function b4(t,e){const n=new x4(t,e);return n.subscribe.bind(n)}class x4{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let a;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");w4(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:s},a.next===void 0&&(a.next=cg),a.error===void 0&&(a.error=cg),a.complete===void 0&&(a.complete=cg);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function w4(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function cg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function At(t){return t&&t._delegate?t._delegate:t}class Kr{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ja="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T4{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new s4;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(S4(e))try{this.getOrInitializeService({instanceIdentifier:ja})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});s.resolve(l)}catch{}}}}clearInstance(e=ja){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ja){return this.instances.has(e)}getOptions(e=ja){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[l,c]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);s===f&&c.resolve(a)}return a}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(s)??new Set;a.add(e),this.onInitCallbacks.set(s,a);const l=this.instances.get(s);return l&&e(l,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:E4(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ja){return this.component?this.component.multipleInstances?e:ja:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function E4(t){return t===ja?void 0:t}function S4(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A4{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new T4(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var He;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(He||(He={}));const R4={debug:He.DEBUG,verbose:He.VERBOSE,info:He.INFO,warn:He.WARN,error:He.ERROR,silent:He.SILENT},C4=He.INFO,N4={[He.DEBUG]:"log",[He.VERBOSE]:"log",[He.INFO]:"info",[He.WARN]:"warn",[He.ERROR]:"error"},I4=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),a=N4[e];if(a)console[a](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Zy{constructor(e){this.name=e,this._logLevel=C4,this._logHandler=I4,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in He))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?R4[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,He.DEBUG,...e),this._logHandler(this,He.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,He.VERBOSE,...e),this._logHandler(this,He.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,He.INFO,...e),this._logHandler(this,He.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,He.WARN,...e),this._logHandler(this,He.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,He.ERROR,...e),this._logHandler(this,He.ERROR,...e)}}const D4=(t,e)=>e.some(n=>t instanceof n);let gx,yx;function k4(){return gx||(gx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function M4(){return yx||(yx=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const WE=new WeakMap,Kg=new WeakMap,JE=new WeakMap,hg=new WeakMap,e0=new WeakMap;function V4(t){const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",c)},l=()=>{n(Hr(t.result)),a()},c=()=>{s(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&WE.set(n,t)}).catch(()=>{}),e0.set(e,t),e}function O4(t){if(Kg.has(t))return;const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",c),t.removeEventListener("abort",c)},l=()=>{n(),a()},c=()=>{s(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",c),t.addEventListener("abort",c)});Kg.set(t,e)}let Yg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Kg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||JE.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Hr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function j4(t){Yg=t(Yg)}function P4(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(fg(this),e,...n);return JE.set(s,e.sort?e.sort():[e]),Hr(s)}:M4().includes(t)?function(...e){return t.apply(fg(this),e),Hr(WE.get(this))}:function(...e){return Hr(t.apply(fg(this),e))}}function L4(t){return typeof t=="function"?P4(t):(t instanceof IDBTransaction&&O4(t),D4(t,k4())?new Proxy(t,Yg):t)}function Hr(t){if(t instanceof IDBRequest)return V4(t);if(hg.has(t))return hg.get(t);const e=L4(t);return e!==t&&(hg.set(t,e),e0.set(e,t)),e}const fg=t=>e0.get(t);function U4(t,e,{blocked:n,upgrade:s,blocking:a,terminated:l}={}){const c=indexedDB.open(t,e),f=Hr(c);return s&&c.addEventListener("upgradeneeded",m=>{s(Hr(c.result),m.oldVersion,m.newVersion,Hr(c.transaction),m)}),n&&c.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),f.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),f}const z4=["get","getKey","getAll","getAllKeys","count"],B4=["put","add","delete","clear"],dg=new Map;function vx(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(dg.get(e))return dg.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,a=B4.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||z4.includes(n)))return;const l=async function(c,...f){const m=this.transaction(c,a?"readwrite":"readonly");let p=m.store;return s&&(p=p.index(f.shift())),(await Promise.all([p[n](...f),a&&m.done]))[0]};return dg.set(e,l),l}j4(t=>({...t,get:(e,n,s)=>vx(e,n)||t.get(e,n,s),has:(e,n)=>!!vx(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F4{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(H4(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function H4(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Qg="@firebase/app",_x="0.14.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $s=new Zy("@firebase/app"),q4="@firebase/app-compat",G4="@firebase/analytics-compat",$4="@firebase/analytics",K4="@firebase/app-check-compat",Y4="@firebase/app-check",Q4="@firebase/auth",X4="@firebase/auth-compat",W4="@firebase/database",J4="@firebase/data-connect",Z4="@firebase/database-compat",ek="@firebase/functions",tk="@firebase/functions-compat",nk="@firebase/installations",ik="@firebase/installations-compat",sk="@firebase/messaging",rk="@firebase/messaging-compat",ak="@firebase/performance",ok="@firebase/performance-compat",lk="@firebase/remote-config",uk="@firebase/remote-config-compat",ck="@firebase/storage",hk="@firebase/storage-compat",fk="@firebase/firestore",dk="@firebase/ai",mk="@firebase/firestore-compat",pk="firebase",gk="12.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xg="[DEFAULT]",yk={[Qg]:"fire-core",[q4]:"fire-core-compat",[$4]:"fire-analytics",[G4]:"fire-analytics-compat",[Y4]:"fire-app-check",[K4]:"fire-app-check-compat",[Q4]:"fire-auth",[X4]:"fire-auth-compat",[W4]:"fire-rtdb",[J4]:"fire-data-connect",[Z4]:"fire-rtdb-compat",[ek]:"fire-fn",[tk]:"fire-fn-compat",[nk]:"fire-iid",[ik]:"fire-iid-compat",[sk]:"fire-fcm",[rk]:"fire-fcm-compat",[ak]:"fire-perf",[ok]:"fire-perf-compat",[lk]:"fire-rc",[uk]:"fire-rc-compat",[ck]:"fire-gcs",[hk]:"fire-gcs-compat",[fk]:"fire-fst",[mk]:"fire-fst-compat",[dk]:"fire-vertex","fire-js":"fire-js",[pk]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ed=new Map,vk=new Map,Wg=new Map;function bx(t,e){try{t.container.addComponent(e)}catch(n){$s.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ka(t){const e=t.name;if(Wg.has(e))return $s.debug(`There were multiple attempts to register component ${e}.`),!1;Wg.set(e,t);for(const n of ed.values())bx(n,t);for(const n of vk.values())bx(n,t);return!0}function Dd(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ci(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _k={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},qr=new Rc("app","Firebase",_k);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bk{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Kr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw qr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ja=gk;function ZE(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s={name:Xg,automaticDataCollectionEnabled:!0,...e},a=s.name;if(typeof a!="string"||!a)throw qr.create("bad-app-name",{appName:String(a)});if(n||(n=YE()),!n)throw qr.create("no-options");const l=ed.get(a);if(l){if($a(n,l.options)&&$a(s,l.config))return l;throw qr.create("duplicate-app",{appName:a})}const c=new A4(a);for(const m of Wg.values())c.addComponent(m);const f=new bk(n,s,c);return ed.set(a,f),f}function t0(t=Xg){const e=ed.get(t);if(!e&&t===Xg&&YE())return ZE();if(!e)throw qr.create("no-app",{appName:t});return e}function ls(t,e,n){let s=yk[t]??t;n&&(s+=`-${n}`);const a=s.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const c=[`Unable to register library "${s}" with version "${e}":`];a&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),$s.warn(c.join(" "));return}Ka(new Kr(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xk="firebase-heartbeat-database",wk=1,hc="firebase-heartbeat-store";let mg=null;function eS(){return mg||(mg=U4(xk,wk,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(hc)}catch(n){console.warn(n)}}}}).catch(t=>{throw qr.create("idb-open",{originalErrorMessage:t.message})})),mg}async function Tk(t){try{const n=(await eS()).transaction(hc),s=await n.objectStore(hc).get(tS(t));return await n.done,s}catch(e){if(e instanceof ys)$s.warn(e.message);else{const n=qr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});$s.warn(n.message)}}}async function xx(t,e){try{const s=(await eS()).transaction(hc,"readwrite");await s.objectStore(hc).put(e,tS(t)),await s.done}catch(n){if(n instanceof ys)$s.warn(n.message);else{const s=qr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});$s.warn(s.message)}}}function tS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ek=1024,Sk=30;class Ak{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Ck(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=wx();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>Sk){const c=Nk(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){$s.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=wx(),{heartbeatsToSend:s,unsentEntries:a}=Rk(this._heartbeatsCache.heartbeats),l=Zf(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(n){return $s.warn(n),""}}}function wx(){return new Date().toISOString().substring(0,10)}function Rk(t,e=Ek){const n=[];let s=t.slice();for(const a of t){const l=n.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),Tx(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),Tx(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class Ck{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return m4()?p4().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Tk(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return xx(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return xx(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Tx(t){return Zf(JSON.stringify({version:2,heartbeats:t})).length}function Nk(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let s=1;s<t.length;s++)t[s].date<n&&(n=t[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ik(t){Ka(new Kr("platform-logger",e=>new F4(e),"PRIVATE")),Ka(new Kr("heartbeat",e=>new Ak(e),"PRIVATE")),ls(Qg,_x,t),ls(Qg,_x,"esm2020"),ls("fire-js","")}Ik("");function nS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Dk=nS,iS=new Rc("auth","Firebase",nS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const td=new Zy("@firebase/auth");function kk(t,...e){td.logLevel<=He.WARN&&td.warn(`Auth (${Ja}): ${t}`,...e)}function jf(t,...e){td.logLevel<=He.ERROR&&td.error(`Auth (${Ja}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ms(t,...e){throw i0(t,...e)}function Di(t,...e){return i0(t,...e)}function n0(t,e,n){const s={...Dk(),[e]:n};return new Rc("auth","Firebase",s).create(e,{appName:t.name})}function Fa(t){return n0(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Mk(t,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&ms(t,"argument-error"),n0(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function i0(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return iS.create(t,...e)}function Re(t,e,...n){if(!t)throw i0(e,...n)}function zs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw jf(e),new Error(e)}function Ks(t,e){t||zs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jg(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function Vk(){return Ex()==="http:"||Ex()==="https:"}function Ex(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ok(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Vk()||c4()||"connection"in navigator)?navigator.onLine:!0}function jk(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ks(n>e,"Short delay should be less than long delay!"),this.isMobile=o4()||h4()}get(){return Ok()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s0(t,e){Ks(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;zs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;zs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;zs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pk={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lk=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Uk=new Nc(3e4,6e4);function r0(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Za(t,e,n,s,a={}){return rS(t,a,async()=>{let l={},c={};s&&(e==="GET"?c=s:l={body:JSON.stringify(s)});const f=Cc({key:t.config.apiKey,...c}).slice(1),m=await t._getAdditionalHeaders();m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode);const p={method:e,headers:m,...l};return u4()||(p.referrerPolicy="no-referrer"),t.emulatorConfig&&ia(t.emulatorConfig.host)&&(p.credentials="include"),sS.fetch()(await aS(t,t.config.apiHost,n,f),p)})}async function rS(t,e,n){t._canInitEmulator=!1;const s={...Pk,...e};try{const a=new Bk(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw bf(t,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const f=l.ok?c.errorMessage:c.error.message,[m,p]=f.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw bf(t,"credential-already-in-use",c);if(m==="EMAIL_EXISTS")throw bf(t,"email-already-in-use",c);if(m==="USER_DISABLED")throw bf(t,"user-disabled",c);const v=s[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw n0(t,v,p);ms(t,v)}}catch(a){if(a instanceof ys)throw a;ms(t,"network-request-failed",{message:String(a)})}}async function zk(t,e,n,s,a={}){const l=await Za(t,e,n,s,a);return"mfaPendingCredential"in l&&ms(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function aS(t,e,n,s){const a=`${e}${n}?${s}`,l=t,c=l.config.emulator?s0(t.config,a):`${t.config.apiScheme}://${a}`;return Lk.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}class Bk{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Di(this.auth,"network-request-failed")),Uk.get())})}}function bf(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const a=Di(t,e,s);return a.customData._tokenResponse=n,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fk(t,e){return Za(t,"POST","/v1/accounts:delete",e)}async function nd(t,e){return Za(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Hk(t,e=!1){const n=At(t),s=await n.getIdToken(e),a=a0(s);Re(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:a,token:s,authTime:Wu(pg(a.auth_time)),issuedAtTime:Wu(pg(a.iat)),expirationTime:Wu(pg(a.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function pg(t){return Number(t)*1e3}function a0(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return jf("JWT malformed, contained fewer than 3 sections"),null;try{const a=GE(n);return a?JSON.parse(a):(jf("Failed to decode base64 JWT payload"),null)}catch(a){return jf("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function Sx(t){const e=a0(t);return Re(e,"internal-error"),Re(typeof e.exp<"u","internal-error"),Re(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hl(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof ys&&qk(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function qk({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gk{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Wu(this.lastLoginAt),this.creationTime=Wu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function id(t){var _;const e=t.auth,n=await t.getIdToken(),s=await hl(t,nd(e,{idToken:n}));Re(s==null?void 0:s.users.length,e,"internal-error");const a=s.users[0];t._notifyReloadListener(a);const l=(_=a.providerUserInfo)!=null&&_.length?oS(a.providerUserInfo):[],c=Kk(t.providerData,l),f=t.isAnonymous,m=!(t.email&&a.passwordHash)&&!(c!=null&&c.length),p=f?m:!1,v={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new Zg(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(t,v)}async function $k(t){const e=At(t);await id(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Kk(t,e){return[...t.filter(s=>!e.some(a=>a.providerId===s.providerId)),...e]}function oS(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yk(t,e){const n=await rS(t,{},async()=>{const s=Cc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,c=await aS(t,a,"/v1/token",`key=${l}`),f=await t._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:f,body:s};return t.emulatorConfig&&ia(t.emulatorConfig.host)&&(m.credentials="include"),sS.fetch()(c,m)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Qk(t,e){return Za(t,"POST","/v2/accounts:revokeToken",r0(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Re(e.idToken,"internal-error"),Re(typeof e.idToken<"u","internal-error"),Re(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Sx(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Re(e.length!==0,"internal-error");const n=Sx(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Re(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:a,expiresIn:l}=await Yk(e,n);this.updateTokensAndExpiration(s,a,Number(l))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:a,expirationTime:l}=n,c=new il;return s&&(Re(typeof s=="string","internal-error",{appName:e}),c.refreshToken=s),a&&(Re(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(Re(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new il,this.toJSON())}_performRefresh(){return zs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vr(t,e){Re(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ni{constructor({uid:e,auth:n,stsTokenManager:s,...a}){this.providerId="firebase",this.proactiveRefresh=new Gk(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Zg(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await hl(this,this.stsTokenManager.getToken(this.auth,e));return Re(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Hk(this,e)}reload(){return $k(this)}_assign(e){this!==e&&(Re(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ni({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await id(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ci(this.auth.app))return Promise.reject(Fa(this.auth));const e=await this.getIdToken();return await hl(this,Fk(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,a=n.email??void 0,l=n.phoneNumber??void 0,c=n.photoURL??void 0,f=n.tenantId??void 0,m=n._redirectEventId??void 0,p=n.createdAt??void 0,v=n.lastLoginAt??void 0,{uid:_,emailVerified:w,isAnonymous:S,providerData:N,stsTokenManager:M}=n;Re(_&&M,e,"internal-error");const O=il.fromJSON(this.name,M);Re(typeof _=="string",e,"internal-error"),Vr(s,e.name),Vr(a,e.name),Re(typeof w=="boolean",e,"internal-error"),Re(typeof S=="boolean",e,"internal-error"),Vr(l,e.name),Vr(c,e.name),Vr(f,e.name),Vr(m,e.name),Vr(p,e.name),Vr(v,e.name);const B=new Ni({uid:_,auth:e,email:a,emailVerified:w,displayName:s,isAnonymous:S,photoURL:c,phoneNumber:l,tenantId:f,stsTokenManager:O,createdAt:p,lastLoginAt:v});return N&&Array.isArray(N)&&(B.providerData=N.map(G=>({...G}))),m&&(B._redirectEventId=m),B}static async _fromIdTokenResponse(e,n,s=!1){const a=new il;a.updateFromServerResponse(n);const l=new Ni({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:s});return await id(l),l}static async _fromGetAccountInfoResponse(e,n,s){const a=n.users[0];Re(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?oS(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!(l!=null&&l.length),f=new il;f.updateFromIdToken(s);const m=new Ni({uid:a.localId,auth:e,stsTokenManager:f,isAnonymous:c}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Zg(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(l!=null&&l.length)};return Object.assign(m,p),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ax=new Map;function Bs(t){Ks(t instanceof Function,"Expected a class definition");let e=Ax.get(t);return e?(Ks(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Ax.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}lS.type="NONE";const Rx=lS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pf(t,e,n){return`firebase:${t}:${e}:${n}`}class sl{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:a,name:l}=this.auth;this.fullUserKey=Pf(this.userKey,a.apiKey,l),this.fullPersistenceKey=Pf("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await nd(this.auth,{idToken:e}).catch(()=>{});return n?Ni._fromGetAccountInfoResponse(this.auth,n,e):null}return Ni._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new sl(Bs(Rx),e,s);const a=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=a[0]||Bs(Rx);const c=Pf(s,e.config.apiKey,e.name);let f=null;for(const p of n)try{const v=await p._get(c);if(v){let _;if(typeof v=="string"){const w=await nd(e,{idToken:v}).catch(()=>{});if(!w)break;_=await Ni._fromGetAccountInfoResponse(e,w,v)}else _=Ni._fromJSON(e,v);p!==l&&(f=_),l=p;break}}catch{}const m=a.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new sl(l,e,s):(l=m[0],f&&await l._set(c,f.toJSON()),await Promise.all(n.map(async p=>{if(p!==l)try{await p._remove(c)}catch{}})),new sl(l,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cx(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(fS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(uS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(mS(e))return"Blackberry";if(pS(e))return"Webos";if(cS(e))return"Safari";if((e.includes("chrome/")||hS(e))&&!e.includes("edge/"))return"Chrome";if(dS(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function uS(t=vn()){return/firefox\//i.test(t)}function cS(t=vn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function hS(t=vn()){return/crios\//i.test(t)}function fS(t=vn()){return/iemobile/i.test(t)}function dS(t=vn()){return/android/i.test(t)}function mS(t=vn()){return/blackberry/i.test(t)}function pS(t=vn()){return/webos/i.test(t)}function o0(t=vn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Xk(t=vn()){var e;return o0(t)&&!!((e=window.navigator)!=null&&e.standalone)}function Wk(){return f4()&&document.documentMode===10}function gS(t=vn()){return o0(t)||dS(t)||pS(t)||mS(t)||/windows phone/i.test(t)||fS(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yS(t,e=[]){let n;switch(t){case"Browser":n=Cx(vn());break;case"Worker":n=`${Cx(vn())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ja}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jk{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=l=>new Promise((c,f)=>{try{const m=e(l);c(m)}catch(m){f(m)}});s.onAbort=n,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zk(t,e={}){return Za(t,"GET","/v2/passwordPolicy",r0(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eM=6;class tM{constructor(e){var s;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??eM,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((s=e.allowedNonAlphanumericCharacters)==null?void 0:s.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let a=0;a<e.length;a++)s=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nM{constructor(e,n,s,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Nx(this),this.idTokenSubscription=new Nx(this),this.beforeStateQueue=new Jk(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=iS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Bs(n)),this._initializationPromise=this.queue(async()=>{var s,a,l;if(!this._deleted&&(this.persistenceManager=await sl.create(this,e),(s=this._resolvePersistenceManagerAvailable)==null||s.call(this),!this._deleted)){if((a=this._popupRedirectResolver)!=null&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((l=this.currentUser)==null?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await nd(this,{idToken:e}),s=await Ni._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var l;if(ci(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(l=this.redirectUser)==null?void 0:l._redirectEventId,f=s==null?void 0:s._redirectEventId,m=await this.tryRedirectSignIn(e);(!c||c===f)&&(m!=null&&m.user)&&(s=m.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(c){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Re(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await id(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=jk()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ci(this.app))return Promise.reject(Fa(this));const n=e?At(e):null;return n&&Re(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Re(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ci(this.app)?Promise.reject(Fa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ci(this.app)?Promise.reject(Fa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Bs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Zk(this),n=new tM(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Rc("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await Qk(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Bs(e)||this._popupRedirectResolver;Re(n,this,"argument-error"),this.redirectPersistenceManager=await sl.create(this,[Bs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)==null?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let c=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Re(f,this,"internal-error"),f.then(()=>{c||l(this.currentUser)}),typeof n=="function"){const m=e.addObserver(n,s,a);return()=>{c=!0,m()}}else{const m=e.addObserver(n);return()=>{c=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=yS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var a;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((a=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:a.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){var n;if(ci(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&kk(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function kd(t){return At(t)}class Nx{constructor(e){this.auth=e,this.observer=null,this.addObserver=b4(n=>this.observer=n)}get next(){return Re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let l0={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function iM(t){l0=t}function sM(t){return l0.loadJS(t)}function rM(){return l0.gapiScript}function aM(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oM(t,e){const n=Dd(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if($a(l,e??{}))return a;ms(a,"already-initialized")}return n.initialize({options:e})}function lM(t,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(Bs);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function uM(t,e,n){const s=kd(t);Re(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const a=!1,l=vS(e),{host:c,port:f}=cM(e),m=f===null?"":`:${f}`,p={url:`${l}//${c}${m}/`},v=Object.freeze({host:c,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!s._canInitEmulator){Re(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Re($a(p,s.config.emulator)&&$a(v,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=p,s.emulatorConfig=v,s.settings.appVerificationDisabledForTesting=!0,ia(c)?(Wy(`${l}//${c}${m}`),Jy("Auth",!0)):hM()}function vS(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function cM(t){const e=vS(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const l=a[1];return{host:l,port:Ix(s.substr(l.length+1))}}else{const[l,c]=s.split(":");return{host:l,port:Ix(c)}}}function Ix(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function hM(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return zs("not implemented")}_getIdTokenResponse(e){return zs("not implemented")}_linkToIdToken(e,n){return zs("not implemented")}_getReauthenticationResolver(e){return zs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rl(t,e){return zk(t,"POST","/v1/accounts:signInWithIdp",r0(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fM="http://localhost";class Ya extends _S{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ya(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ms("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:a,...l}=n;if(!s||!a)return null;const c=new Ya(s,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return rl(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,rl(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,rl(e,n)}buildRequest(){const e={requestUri:fM,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Cc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic extends u0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr extends Ic{constructor(){super("facebook.com")}static credential(e){return Ya._fromParams({providerId:Pr.PROVIDER_ID,signInMethod:Pr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Pr.credentialFromTaggedObject(e)}static credentialFromError(e){return Pr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Pr.credential(e.oauthAccessToken)}catch{return null}}}Pr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Pr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls extends Ic{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ya._fromParams({providerId:Ls.PROVIDER_ID,signInMethod:Ls.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ls.credentialFromTaggedObject(e)}static credentialFromError(e){return Ls.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Ls.credential(n,s)}catch{return null}}}Ls.GOOGLE_SIGN_IN_METHOD="google.com";Ls.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr extends Ic{constructor(){super("github.com")}static credential(e){return Ya._fromParams({providerId:Lr.PROVIDER_ID,signInMethod:Lr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Lr.credentialFromTaggedObject(e)}static credentialFromError(e){return Lr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Lr.credential(e.oauthAccessToken)}catch{return null}}}Lr.GITHUB_SIGN_IN_METHOD="github.com";Lr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur extends Ic{constructor(){super("twitter.com")}static credential(e,n){return Ya._fromParams({providerId:Ur.PROVIDER_ID,signInMethod:Ur.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ur.credentialFromTaggedObject(e)}static credentialFromError(e){return Ur.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Ur.credential(n,s)}catch{return null}}}Ur.TWITTER_SIGN_IN_METHOD="twitter.com";Ur.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,a=!1){const l=await Ni._fromIdTokenResponse(e,s,a),c=Dx(s);return new fl({user:l,providerId:c,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const a=Dx(s);return new fl({user:e,providerId:a,_tokenResponse:s,operationType:n})}}function Dx(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd extends ys{constructor(e,n,s,a){super(n.code,n.message),this.operationType=s,this.user=a,Object.setPrototypeOf(this,sd.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,a){return new sd(e,n,s,a)}}function bS(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?sd._fromErrorAndOperation(t,l,e,s):l})}async function dM(t,e,n=!1){const s=await hl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return fl._forOperation(t,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mM(t,e,n=!1){const{auth:s}=t;if(ci(s.app))return Promise.reject(Fa(s));const a="reauthenticate";try{const l=await hl(t,bS(s,a,e,t),n);Re(l.idToken,s,"internal-error");const c=a0(l.idToken);Re(c,s,"internal-error");const{sub:f}=c;return Re(t.uid===f,s,"user-mismatch"),fl._forOperation(t,a,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&ms(s,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pM(t,e,n=!1){if(ci(t.app))return Promise.reject(Fa(t));const s="signIn",a=await bS(t,s,e),l=await fl._fromIdTokenResponse(t,s,a);return n||await t._updateCurrentUser(l.user),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gM(t,e){return Za(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yM(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const s=At(t),l={idToken:await s.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},c=await hl(s,gM(s.auth,l));s.displayName=c.displayName||null,s.photoURL=c.photoUrl||null;const f=s.providerData.find(({providerId:m})=>m==="password");f&&(f.displayName=s.displayName,f.photoURL=s.photoURL),await s._updateTokensIfNecessary(c)}function vM(t,e,n,s){return At(t).onIdTokenChanged(e,n,s)}function _M(t,e,n){return At(t).beforeAuthStateChanged(e,n)}function bM(t,e,n,s){return At(t).onAuthStateChanged(e,n,s)}function xM(t){return At(t).signOut()}const rd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(rd,"1"),this.storage.removeItem(rd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wM=1e3,TM=10;class wS extends xS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=gS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),a=this.localCache[n];s!==a&&e(n,a,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,f,m)=>{this.notifyListeners(c,m)});return}const s=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(s);!n&&this.localCache[s]===c||this.notifyListeners(s,c)},l=this.storage.getItem(s);Wk()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,TM):a()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},wM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}wS.type="LOCAL";const EM=wS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS extends xS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}TS.type="SESSION";const ES=TS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SM(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const s=new Md(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:a,data:l}=n.data,c=this.handlersMap[a];if(!(c!=null&&c.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const f=Array.from(c).map(async p=>p(n.origin,l)),m=await SM(f);n.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:m})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Md.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c0(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AM{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((f,m)=>{const p=c0("",20);a.port1.start();const v=setTimeout(()=>{m(new Error("unsupported_event"))},s);c={messageChannel:a,onMessage(_){const w=_;if(w.data.eventId===p)switch(w.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(w.data.response);break;default:clearTimeout(v),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function us(){return window}function RM(t){us().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SS(){return typeof us().WorkerGlobalScope<"u"&&typeof us().importScripts=="function"}async function CM(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function NM(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function IM(){return SS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AS="firebaseLocalStorageDb",DM=1,ad="firebaseLocalStorage",RS="fbase_key";class Dc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Vd(t,e){return t.transaction([ad],e?"readwrite":"readonly").objectStore(ad)}function kM(){const t=indexedDB.deleteDatabase(AS);return new Dc(t).toPromise()}function ey(){const t=indexedDB.open(AS,DM);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(ad,{keyPath:RS})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(ad)?e(s):(s.close(),await kM(),e(await ey()))})})}async function kx(t,e,n){const s=Vd(t,!0).put({[RS]:e,value:n});return new Dc(s).toPromise()}async function MM(t,e){const n=Vd(t,!1).get(e),s=await new Dc(n).toPromise();return s===void 0?null:s.value}function Mx(t,e){const n=Vd(t,!0).delete(e);return new Dc(n).toPromise()}const VM=800,OM=3;class CS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ey(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>OM)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return SS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Md._getInstance(IM()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,s;if(this.activeServiceWorker=await CM(),!this.activeServiceWorker)return;this.sender=new AM(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(s=e[0])!=null&&s.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||NM()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ey();return await kx(e,rd,"1"),await Mx(e,rd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>kx(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>MM(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Mx(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=Vd(a,!1).getAll();return new Dc(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),VM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}CS.type="LOCAL";const jM=CS;new Nc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NS(t,e){return e?Bs(e):(Re(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h0 extends _S{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return rl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return rl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return rl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function PM(t){return pM(t.auth,new h0(t),t.bypassAuthState)}function LM(t){const{auth:e,user:n}=t;return Re(n,e,"internal-error"),mM(n,new h0(t),t.bypassAuthState)}async function UM(t){const{auth:e,user:n}=t;return Re(n,e,"internal-error"),dM(n,new h0(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{constructor(e,n,s,a,l=!1){this.auth=e,this.resolver=s,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:a,tenantId:l,error:c,type:f}=e;if(c){this.reject(c);return}const m={auth:this.auth,requestUri:n,sessionId:s,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(m))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return PM;case"linkViaPopup":case"linkViaRedirect":return UM;case"reauthViaPopup":case"reauthViaRedirect":return LM;default:ms(this.auth,"internal-error")}}resolve(e){Ks(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ks(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zM=new Nc(2e3,1e4);async function BM(t,e,n){if(ci(t.app))return Promise.reject(Di(t,"operation-not-supported-in-this-environment"));const s=kd(t);Mk(t,e,u0);const a=NS(s,n);return new La(s,"signInViaPopup",e,a).executeNotNull()}class La extends IS{constructor(e,n,s,a,l){super(e,n,a,l),this.provider=s,this.authWindow=null,this.pollId=null,La.currentPopupAction&&La.currentPopupAction.cancel(),La.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Re(e,this.auth,"internal-error"),e}async onExecution(){Ks(this.filter.length===1,"Popup operations only handle one event");const e=c0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Di(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Di(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,La.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if((s=(n=this.authWindow)==null?void 0:n.window)!=null&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Di(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,zM.get())};e()}}La.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FM="pendingRedirect",Lf=new Map;class HM extends IS{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Lf.get(this.auth._key());if(!e){try{const s=await qM(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Lf.set(this.auth._key(),e)}return this.bypassAuthState||Lf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function qM(t,e){const n=KM(e),s=$M(t);if(!await s._isAvailable())return!1;const a=await s._get(n)==="true";return await s._remove(n),a}function GM(t,e){Lf.set(t._key(),e)}function $M(t){return Bs(t._redirectPersistence)}function KM(t){return Pf(FM,t.config.apiKey,t.name)}async function YM(t,e,n=!1){if(ci(t.app))return Promise.reject(Fa(t));const s=kd(t),a=NS(s,e),c=await new HM(s,a,n).execute();return c&&!n&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QM=600*1e3;class XM{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!WM(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!DS(e)){const a=((s=e.error.code)==null?void 0:s.split("auth/")[1])||"internal-error";n.onError(Di(this.auth,a))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=QM&&this.cachedEventUids.clear(),this.cachedEventUids.has(Vx(e))}saveEventToCache(e){this.cachedEventUids.add(Vx(e)),this.lastProcessedEventTime=Date.now()}}function Vx(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function DS({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function WM(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return DS(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JM(t,e={}){return Za(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZM=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,eV=/^https?/;async function tV(t){if(t.config.emulator)return;const{authorizedDomains:e}=await JM(t);for(const n of e)try{if(nV(n))return}catch{}ms(t,"unauthorized-domain")}function nV(t){const e=Jg(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===s}if(!eV.test(n))return!1;if(ZM.test(t))return s===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iV=new Nc(3e4,6e4);function Ox(){const t=us().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function sV(t){return new Promise((e,n)=>{var a,l,c;function s(){Ox(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Ox(),n(Di(t,"network-request-failed"))},timeout:iV.get()})}if((l=(a=us().gapi)==null?void 0:a.iframes)!=null&&l.Iframe)e(gapi.iframes.getContext());else if((c=us().gapi)!=null&&c.load)s();else{const f=aM("iframefcb");return us()[f]=()=>{gapi.load?s():n(Di(t,"network-request-failed"))},sM(`${rM()}?onload=${f}`).catch(m=>n(m))}}).catch(e=>{throw Uf=null,e})}let Uf=null;function rV(t){return Uf=Uf||sV(t),Uf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aV=new Nc(5e3,15e3),oV="__/auth/iframe",lV="emulator/auth/iframe",uV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},cV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function hV(t){const e=t.config;Re(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?s0(e,lV):`https://${t.config.authDomain}/${oV}`,s={apiKey:e.apiKey,appName:t.name,v:Ja},a=cV.get(t.config.apiHost);a&&(s.eid=a);const l=t._getFrameworks();return l.length&&(s.fw=l.join(",")),`${n}?${Cc(s).slice(1)}`}async function fV(t){const e=await rV(t),n=us().gapi;return Re(n,t,"internal-error"),e.open({where:document.body,url:hV(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:uV,dontclear:!0},s=>new Promise(async(a,l)=>{await s.restyle({setHideOnLeave:!1});const c=Di(t,"network-request-failed"),f=us().setTimeout(()=>{l(c)},aV.get());function m(){us().clearTimeout(f),a(s)}s.ping(m).then(m,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},mV=500,pV=600,gV="_blank",yV="http://localhost";class jx{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function vV(t,e,n,s=mV,a=pV){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let f="";const m={...dV,width:s.toString(),height:a.toString(),top:l,left:c},p=vn().toLowerCase();n&&(f=hS(p)?gV:n),uS(p)&&(e=e||yV,m.scrollbars="yes");const v=Object.entries(m).reduce((w,[S,N])=>`${w}${S}=${N},`,"");if(Xk(p)&&f!=="_self")return _V(e||"",f),new jx(null);const _=window.open(e||"",f,v);Re(_,t,"popup-blocked");try{_.focus()}catch{}return new jx(_)}function _V(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bV="__/auth/handler",xV="emulator/auth/handler",wV=encodeURIComponent("fac");async function Px(t,e,n,s,a,l){Re(t.config.authDomain,t,"auth-domain-config-required"),Re(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:Ja,eventId:a};if(e instanceof u0){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",_4(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,_]of Object.entries({}))c[v]=_}if(e instanceof Ic){const v=e.getScopes().filter(_=>_!=="");v.length>0&&(c.scopes=v.join(","))}t.tenantId&&(c.tid=t.tenantId);const f=c;for(const v of Object.keys(f))f[v]===void 0&&delete f[v];const m=await t._getAppCheckToken(),p=m?`#${wV}=${encodeURIComponent(m)}`:"";return`${TV(t)}?${Cc(f).slice(1)}${p}`}function TV({config:t}){return t.emulator?s0(t,xV):`https://${t.authDomain}/${bV}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gg="webStorageSupport";class EV{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ES,this._completeRedirectFn=YM,this._overrideRedirectResult=GM}async _openPopup(e,n,s,a){var c;Ks((c=this.eventManagers[e._key()])==null?void 0:c.manager,"_initialize() not called before _openPopup()");const l=await Px(e,n,s,Jg(),a);return vV(e,l,c0())}async _openRedirect(e,n,s,a){await this._originValidation(e);const l=await Px(e,n,s,Jg(),a);return RM(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(Ks(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await fV(e),s=new XM(e);return n.register("authEvent",a=>(Re(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(gg,{type:gg},a=>{var c;const l=(c=a==null?void 0:a[0])==null?void 0:c[gg];l!==void 0&&n(!!l),ms(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=tV(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return gS()||cS()||o0()}}const SV=EV;var Lx="@firebase/auth",Ux="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AV{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RV(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function CV(t){Ka(new Kr("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:f}=s.options;Re(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const m={apiKey:c,authDomain:f,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:yS(t)},p=new nM(s,a,l,m);return lM(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Ka(new Kr("auth-internal",e=>{const n=kd(e.getProvider("auth").getImmediate());return(s=>new AV(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ls(Lx,Ux,RV(t)),ls(Lx,Ux,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NV=300,IV=QE("authIdTokenMaxAge")||NV;let zx=null;const DV=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>IV)return;const a=n==null?void 0:n.token;zx!==a&&(zx=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function kV(t=t0()){const e=Dd(t,"auth");if(e.isInitialized())return e.getImmediate();const n=oM(t,{popupRedirectResolver:SV,persistence:[jM,EM,ES]}),s=QE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const c=DV(l.toString());_M(n,c,()=>c(n.currentUser)),vM(n,f=>c(f))}}const a=$E("auth");return a&&uM(n,`http://${a}`),n}function MV(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}iM({loadJS(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=a=>{const l=Di("internal-error");l.customData=a,n(l)},s.type="text/javascript",s.charset="UTF-8",MV().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});CV("Browser");var VV="firebase",OV="12.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ls(VV,OV,"app");var Bx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Gr,kS;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,A){function I(){}I.prototype=A.prototype,C.F=A.prototype,C.prototype=new I,C.prototype.constructor=C,C.D=function(P,k,z){for(var V=Array(arguments.length-2),Qe=2;Qe<arguments.length;Qe++)V[Qe-2]=arguments[Qe];return A.prototype[k].apply(P,V)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(C,A,I){I||(I=0);const P=Array(16);if(typeof A=="string")for(var k=0;k<16;++k)P[k]=A.charCodeAt(I++)|A.charCodeAt(I++)<<8|A.charCodeAt(I++)<<16|A.charCodeAt(I++)<<24;else for(k=0;k<16;++k)P[k]=A[I++]|A[I++]<<8|A[I++]<<16|A[I++]<<24;A=C.g[0],I=C.g[1],k=C.g[2];let z=C.g[3],V;V=A+(z^I&(k^z))+P[0]+3614090360&4294967295,A=I+(V<<7&4294967295|V>>>25),V=z+(k^A&(I^k))+P[1]+3905402710&4294967295,z=A+(V<<12&4294967295|V>>>20),V=k+(I^z&(A^I))+P[2]+606105819&4294967295,k=z+(V<<17&4294967295|V>>>15),V=I+(A^k&(z^A))+P[3]+3250441966&4294967295,I=k+(V<<22&4294967295|V>>>10),V=A+(z^I&(k^z))+P[4]+4118548399&4294967295,A=I+(V<<7&4294967295|V>>>25),V=z+(k^A&(I^k))+P[5]+1200080426&4294967295,z=A+(V<<12&4294967295|V>>>20),V=k+(I^z&(A^I))+P[6]+2821735955&4294967295,k=z+(V<<17&4294967295|V>>>15),V=I+(A^k&(z^A))+P[7]+4249261313&4294967295,I=k+(V<<22&4294967295|V>>>10),V=A+(z^I&(k^z))+P[8]+1770035416&4294967295,A=I+(V<<7&4294967295|V>>>25),V=z+(k^A&(I^k))+P[9]+2336552879&4294967295,z=A+(V<<12&4294967295|V>>>20),V=k+(I^z&(A^I))+P[10]+4294925233&4294967295,k=z+(V<<17&4294967295|V>>>15),V=I+(A^k&(z^A))+P[11]+2304563134&4294967295,I=k+(V<<22&4294967295|V>>>10),V=A+(z^I&(k^z))+P[12]+1804603682&4294967295,A=I+(V<<7&4294967295|V>>>25),V=z+(k^A&(I^k))+P[13]+4254626195&4294967295,z=A+(V<<12&4294967295|V>>>20),V=k+(I^z&(A^I))+P[14]+2792965006&4294967295,k=z+(V<<17&4294967295|V>>>15),V=I+(A^k&(z^A))+P[15]+1236535329&4294967295,I=k+(V<<22&4294967295|V>>>10),V=A+(k^z&(I^k))+P[1]+4129170786&4294967295,A=I+(V<<5&4294967295|V>>>27),V=z+(I^k&(A^I))+P[6]+3225465664&4294967295,z=A+(V<<9&4294967295|V>>>23),V=k+(A^I&(z^A))+P[11]+643717713&4294967295,k=z+(V<<14&4294967295|V>>>18),V=I+(z^A&(k^z))+P[0]+3921069994&4294967295,I=k+(V<<20&4294967295|V>>>12),V=A+(k^z&(I^k))+P[5]+3593408605&4294967295,A=I+(V<<5&4294967295|V>>>27),V=z+(I^k&(A^I))+P[10]+38016083&4294967295,z=A+(V<<9&4294967295|V>>>23),V=k+(A^I&(z^A))+P[15]+3634488961&4294967295,k=z+(V<<14&4294967295|V>>>18),V=I+(z^A&(k^z))+P[4]+3889429448&4294967295,I=k+(V<<20&4294967295|V>>>12),V=A+(k^z&(I^k))+P[9]+568446438&4294967295,A=I+(V<<5&4294967295|V>>>27),V=z+(I^k&(A^I))+P[14]+3275163606&4294967295,z=A+(V<<9&4294967295|V>>>23),V=k+(A^I&(z^A))+P[3]+4107603335&4294967295,k=z+(V<<14&4294967295|V>>>18),V=I+(z^A&(k^z))+P[8]+1163531501&4294967295,I=k+(V<<20&4294967295|V>>>12),V=A+(k^z&(I^k))+P[13]+2850285829&4294967295,A=I+(V<<5&4294967295|V>>>27),V=z+(I^k&(A^I))+P[2]+4243563512&4294967295,z=A+(V<<9&4294967295|V>>>23),V=k+(A^I&(z^A))+P[7]+1735328473&4294967295,k=z+(V<<14&4294967295|V>>>18),V=I+(z^A&(k^z))+P[12]+2368359562&4294967295,I=k+(V<<20&4294967295|V>>>12),V=A+(I^k^z)+P[5]+4294588738&4294967295,A=I+(V<<4&4294967295|V>>>28),V=z+(A^I^k)+P[8]+2272392833&4294967295,z=A+(V<<11&4294967295|V>>>21),V=k+(z^A^I)+P[11]+1839030562&4294967295,k=z+(V<<16&4294967295|V>>>16),V=I+(k^z^A)+P[14]+4259657740&4294967295,I=k+(V<<23&4294967295|V>>>9),V=A+(I^k^z)+P[1]+2763975236&4294967295,A=I+(V<<4&4294967295|V>>>28),V=z+(A^I^k)+P[4]+1272893353&4294967295,z=A+(V<<11&4294967295|V>>>21),V=k+(z^A^I)+P[7]+4139469664&4294967295,k=z+(V<<16&4294967295|V>>>16),V=I+(k^z^A)+P[10]+3200236656&4294967295,I=k+(V<<23&4294967295|V>>>9),V=A+(I^k^z)+P[13]+681279174&4294967295,A=I+(V<<4&4294967295|V>>>28),V=z+(A^I^k)+P[0]+3936430074&4294967295,z=A+(V<<11&4294967295|V>>>21),V=k+(z^A^I)+P[3]+3572445317&4294967295,k=z+(V<<16&4294967295|V>>>16),V=I+(k^z^A)+P[6]+76029189&4294967295,I=k+(V<<23&4294967295|V>>>9),V=A+(I^k^z)+P[9]+3654602809&4294967295,A=I+(V<<4&4294967295|V>>>28),V=z+(A^I^k)+P[12]+3873151461&4294967295,z=A+(V<<11&4294967295|V>>>21),V=k+(z^A^I)+P[15]+530742520&4294967295,k=z+(V<<16&4294967295|V>>>16),V=I+(k^z^A)+P[2]+3299628645&4294967295,I=k+(V<<23&4294967295|V>>>9),V=A+(k^(I|~z))+P[0]+4096336452&4294967295,A=I+(V<<6&4294967295|V>>>26),V=z+(I^(A|~k))+P[7]+1126891415&4294967295,z=A+(V<<10&4294967295|V>>>22),V=k+(A^(z|~I))+P[14]+2878612391&4294967295,k=z+(V<<15&4294967295|V>>>17),V=I+(z^(k|~A))+P[5]+4237533241&4294967295,I=k+(V<<21&4294967295|V>>>11),V=A+(k^(I|~z))+P[12]+1700485571&4294967295,A=I+(V<<6&4294967295|V>>>26),V=z+(I^(A|~k))+P[3]+2399980690&4294967295,z=A+(V<<10&4294967295|V>>>22),V=k+(A^(z|~I))+P[10]+4293915773&4294967295,k=z+(V<<15&4294967295|V>>>17),V=I+(z^(k|~A))+P[1]+2240044497&4294967295,I=k+(V<<21&4294967295|V>>>11),V=A+(k^(I|~z))+P[8]+1873313359&4294967295,A=I+(V<<6&4294967295|V>>>26),V=z+(I^(A|~k))+P[15]+4264355552&4294967295,z=A+(V<<10&4294967295|V>>>22),V=k+(A^(z|~I))+P[6]+2734768916&4294967295,k=z+(V<<15&4294967295|V>>>17),V=I+(z^(k|~A))+P[13]+1309151649&4294967295,I=k+(V<<21&4294967295|V>>>11),V=A+(k^(I|~z))+P[4]+4149444226&4294967295,A=I+(V<<6&4294967295|V>>>26),V=z+(I^(A|~k))+P[11]+3174756917&4294967295,z=A+(V<<10&4294967295|V>>>22),V=k+(A^(z|~I))+P[2]+718787259&4294967295,k=z+(V<<15&4294967295|V>>>17),V=I+(z^(k|~A))+P[9]+3951481745&4294967295,C.g[0]=C.g[0]+A&4294967295,C.g[1]=C.g[1]+(k+(V<<21&4294967295|V>>>11))&4294967295,C.g[2]=C.g[2]+k&4294967295,C.g[3]=C.g[3]+z&4294967295}s.prototype.v=function(C,A){A===void 0&&(A=C.length);const I=A-this.blockSize,P=this.C;let k=this.h,z=0;for(;z<A;){if(k==0)for(;z<=I;)a(this,C,z),z+=this.blockSize;if(typeof C=="string"){for(;z<A;)if(P[k++]=C.charCodeAt(z++),k==this.blockSize){a(this,P),k=0;break}}else for(;z<A;)if(P[k++]=C[z++],k==this.blockSize){a(this,P),k=0;break}}this.h=k,this.o+=A},s.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var A=1;A<C.length-8;++A)C[A]=0;A=this.o*8;for(var I=C.length-8;I<C.length;++I)C[I]=A&255,A/=256;for(this.v(C),C=Array(16),A=0,I=0;I<4;++I)for(let P=0;P<32;P+=8)C[A++]=this.g[I]>>>P&255;return C};function l(C,A){var I=f;return Object.prototype.hasOwnProperty.call(I,C)?I[C]:I[C]=A(C)}function c(C,A){this.h=A;const I=[];let P=!0;for(let k=C.length-1;k>=0;k--){const z=C[k]|0;P&&z==A||(I[k]=z,P=!1)}this.g=I}var f={};function m(C){return-128<=C&&C<128?l(C,function(A){return new c([A|0],A<0?-1:0)}):new c([C|0],C<0?-1:0)}function p(C){if(isNaN(C)||!isFinite(C))return _;if(C<0)return O(p(-C));const A=[];let I=1;for(let P=0;C>=I;P++)A[P]=C/I|0,I*=4294967296;return new c(A,0)}function v(C,A){if(C.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(C.charAt(0)=="-")return O(v(C.substring(1),A));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=p(Math.pow(A,8));let P=_;for(let z=0;z<C.length;z+=8){var k=Math.min(8,C.length-z);const V=parseInt(C.substring(z,z+k),A);k<8?(k=p(Math.pow(A,k)),P=P.j(k).add(p(V))):(P=P.j(I),P=P.add(p(V)))}return P}var _=m(0),w=m(1),S=m(16777216);t=c.prototype,t.m=function(){if(M(this))return-O(this).m();let C=0,A=1;for(let I=0;I<this.g.length;I++){const P=this.i(I);C+=(P>=0?P:4294967296+P)*A,A*=4294967296}return C},t.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(N(this))return"0";if(M(this))return"-"+O(this).toString(C);const A=p(Math.pow(C,6));var I=this;let P="";for(;;){const k=oe(I,A).g;I=B(I,k.j(A));let z=((I.g.length>0?I.g[0]:I.h)>>>0).toString(C);if(I=k,N(I))return z+P;for(;z.length<6;)z="0"+z;P=z+P}},t.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function N(C){if(C.h!=0)return!1;for(let A=0;A<C.g.length;A++)if(C.g[A]!=0)return!1;return!0}function M(C){return C.h==-1}t.l=function(C){return C=B(this,C),M(C)?-1:N(C)?0:1};function O(C){const A=C.g.length,I=[];for(let P=0;P<A;P++)I[P]=~C.g[P];return new c(I,~C.h).add(w)}t.abs=function(){return M(this)?O(this):this},t.add=function(C){const A=Math.max(this.g.length,C.g.length),I=[];let P=0;for(let k=0;k<=A;k++){let z=P+(this.i(k)&65535)+(C.i(k)&65535),V=(z>>>16)+(this.i(k)>>>16)+(C.i(k)>>>16);P=V>>>16,z&=65535,V&=65535,I[k]=V<<16|z}return new c(I,I[I.length-1]&-2147483648?-1:0)};function B(C,A){return C.add(O(A))}t.j=function(C){if(N(this)||N(C))return _;if(M(this))return M(C)?O(this).j(O(C)):O(O(this).j(C));if(M(C))return O(this.j(O(C)));if(this.l(S)<0&&C.l(S)<0)return p(this.m()*C.m());const A=this.g.length+C.g.length,I=[];for(var P=0;P<2*A;P++)I[P]=0;for(P=0;P<this.g.length;P++)for(let k=0;k<C.g.length;k++){const z=this.i(P)>>>16,V=this.i(P)&65535,Qe=C.i(k)>>>16,ut=C.i(k)&65535;I[2*P+2*k]+=V*ut,G(I,2*P+2*k),I[2*P+2*k+1]+=z*ut,G(I,2*P+2*k+1),I[2*P+2*k+1]+=V*Qe,G(I,2*P+2*k+1),I[2*P+2*k+2]+=z*Qe,G(I,2*P+2*k+2)}for(C=0;C<A;C++)I[C]=I[2*C+1]<<16|I[2*C];for(C=A;C<2*A;C++)I[C]=0;return new c(I,0)};function G(C,A){for(;(C[A]&65535)!=C[A];)C[A+1]+=C[A]>>>16,C[A]&=65535,A++}function F(C,A){this.g=C,this.h=A}function oe(C,A){if(N(A))throw Error("division by zero");if(N(C))return new F(_,_);if(M(C))return A=oe(O(C),A),new F(O(A.g),O(A.h));if(M(A))return A=oe(C,O(A)),new F(O(A.g),A.h);if(C.g.length>30){if(M(C)||M(A))throw Error("slowDivide_ only works with positive integers.");for(var I=w,P=A;P.l(C)<=0;)I=re(I),P=re(P);var k=ce(I,1),z=ce(P,1);for(P=ce(P,2),I=ce(I,2);!N(P);){var V=z.add(P);V.l(C)<=0&&(k=k.add(I),z=V),P=ce(P,1),I=ce(I,1)}return A=B(C,k.j(A)),new F(k,A)}for(k=_;C.l(A)>=0;){for(I=Math.max(1,Math.floor(C.m()/A.m())),P=Math.ceil(Math.log(I)/Math.LN2),P=P<=48?1:Math.pow(2,P-48),z=p(I),V=z.j(A);M(V)||V.l(C)>0;)I-=P,z=p(I),V=z.j(A);N(z)&&(z=w),k=k.add(z),C=B(C,V)}return new F(k,C)}t.B=function(C){return oe(this,C).h},t.and=function(C){const A=Math.max(this.g.length,C.g.length),I=[];for(let P=0;P<A;P++)I[P]=this.i(P)&C.i(P);return new c(I,this.h&C.h)},t.or=function(C){const A=Math.max(this.g.length,C.g.length),I=[];for(let P=0;P<A;P++)I[P]=this.i(P)|C.i(P);return new c(I,this.h|C.h)},t.xor=function(C){const A=Math.max(this.g.length,C.g.length),I=[];for(let P=0;P<A;P++)I[P]=this.i(P)^C.i(P);return new c(I,this.h^C.h)};function re(C){const A=C.g.length+1,I=[];for(let P=0;P<A;P++)I[P]=C.i(P)<<1|C.i(P-1)>>>31;return new c(I,C.h)}function ce(C,A){const I=A>>5;A%=32;const P=C.g.length-I,k=[];for(let z=0;z<P;z++)k[z]=A>0?C.i(z+I)>>>A|C.i(z+I+1)<<32-A:C.i(z+I);return new c(k,C.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,kS=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=v,Gr=c}).apply(typeof Bx<"u"?Bx:typeof self<"u"?self:typeof window<"u"?window:{});var xf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var MS,qu,VS,zf,ty,OS,jS,PS;(function(){var t,e=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof xf=="object"&&xf];for(var b=0;b<h.length;++b){var T=h[b];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var s=n(this);function a(h,b){if(b)e:{var T=s;h=h.split(".");for(var R=0;R<h.length-1;R++){var q=h[R];if(!(q in T))break e;T=T[q]}h=h[h.length-1],R=T[h],b=b(R),b!=R&&b!=null&&e(T,h,{configurable:!0,writable:!0,value:b})}}a("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(h){return h||function(b){var T=[],R;for(R in b)Object.prototype.hasOwnProperty.call(b,R)&&T.push([R,b[R]]);return T}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function f(h){var b=typeof h;return b=="object"&&h!=null||b=="function"}function m(h,b,T){return h.call.apply(h.bind,arguments)}function p(h,b,T){return p=m,p.apply(null,arguments)}function v(h,b){var T=Array.prototype.slice.call(arguments,1);return function(){var R=T.slice();return R.push.apply(R,arguments),h.apply(this,R)}}function _(h,b){function T(){}T.prototype=b.prototype,h.Z=b.prototype,h.prototype=new T,h.prototype.constructor=h,h.Ob=function(R,q,X){for(var ue=Array(arguments.length-2),Me=2;Me<arguments.length;Me++)ue[Me-2]=arguments[Me];return b.prototype[q].apply(R,ue)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function S(h){const b=h.length;if(b>0){const T=Array(b);for(let R=0;R<b;R++)T[R]=h[R];return T}return[]}function N(h,b){for(let R=1;R<arguments.length;R++){const q=arguments[R];var T=typeof q;if(T=T!="object"?T:q?Array.isArray(q)?"array":T:"null",T=="array"||T=="object"&&typeof q.length=="number"){T=h.length||0;const X=q.length||0;h.length=T+X;for(let ue=0;ue<X;ue++)h[T+ue]=q[ue]}else h.push(q)}}class M{constructor(b,T){this.i=b,this.j=T,this.h=0,this.g=null}get(){let b;return this.h>0?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function O(h){c.setTimeout(()=>{throw h},0)}function B(){var h=C;let b=null;return h.g&&(b=h.g,h.g=h.g.next,h.g||(h.h=null),b.next=null),b}class G{constructor(){this.h=this.g=null}add(b,T){const R=F.get();R.set(b,T),this.h?this.h.next=R:this.g=R,this.h=R}}var F=new M(()=>new oe,h=>h.reset());class oe{constructor(){this.next=this.g=this.h=null}set(b,T){this.h=b,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let re,ce=!1,C=new G,A=()=>{const h=Promise.resolve(void 0);re=()=>{h.then(I)}};function I(){for(var h;h=B();){try{h.h.call(h.g)}catch(T){O(T)}var b=F;b.j(h),b.h<100&&(b.h++,h.next=b.g,b.g=h)}ce=!1}function P(){this.u=this.u,this.C=this.C}P.prototype.u=!1,P.prototype.dispose=function(){this.u||(this.u=!0,this.N())},P.prototype[Symbol.dispose]=function(){this.dispose()},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function k(h,b){this.type=h,this.g=this.target=b,this.defaultPrevented=!1}k.prototype.h=function(){this.defaultPrevented=!0};var z=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,b=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const T=()=>{};c.addEventListener("test",T,b),c.removeEventListener("test",T,b)}catch{}return h})();function V(h){return/^[\s\xa0]*$/.test(h)}function Qe(h,b){k.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,b)}_(Qe,k),Qe.prototype.init=function(h,b){const T=this.type=h.type,R=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=b,b=h.relatedTarget,b||(T=="mouseover"?b=h.fromElement:T=="mouseout"&&(b=h.toElement)),this.relatedTarget=b,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&Qe.Z.h.call(this)},Qe.prototype.h=function(){Qe.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var ut="closure_listenable_"+(Math.random()*1e6|0),J=0;function ae(h,b,T,R,q){this.listener=h,this.proxy=null,this.src=b,this.type=T,this.capture=!!R,this.ha=q,this.key=++J,this.da=this.fa=!1}function de(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Te(h,b,T){for(const R in h)b.call(T,h[R],R,h)}function Oe(h,b){for(const T in h)b.call(void 0,h[T],T,h)}function L(h){const b={};for(const T in h)b[T]=h[T];return b}const te="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function he(h,b){let T,R;for(let q=1;q<arguments.length;q++){R=arguments[q];for(T in R)h[T]=R[T];for(let X=0;X<te.length;X++)T=te[X],Object.prototype.hasOwnProperty.call(R,T)&&(h[T]=R[T])}}function me(h){this.src=h,this.g={},this.h=0}me.prototype.add=function(h,b,T,R,q){const X=h.toString();h=this.g[X],h||(h=this.g[X]=[],this.h++);const ue=ke(h,b,R,q);return ue>-1?(b=h[ue],T||(b.fa=!1)):(b=new ae(b,this.src,X,!!R,q),b.fa=T,h.push(b)),b};function Ee(h,b){const T=b.type;if(T in h.g){var R=h.g[T],q=Array.prototype.indexOf.call(R,b,void 0),X;(X=q>=0)&&Array.prototype.splice.call(R,q,1),X&&(de(b),h.g[T].length==0&&(delete h.g[T],h.h--))}}function ke(h,b,T,R){for(let q=0;q<h.length;++q){const X=h[q];if(!X.da&&X.listener==b&&X.capture==!!T&&X.ha==R)return q}return-1}var Ce="closure_lm_"+(Math.random()*1e6|0),_t={};function ht(h,b,T,R,q){if(Array.isArray(b)){for(let X=0;X<b.length;X++)ht(h,b[X],T,R,q);return null}return T=Y(T),h&&h[ut]?h.J(b,T,f(R)?!!R.capture:!1,q):On(h,b,T,!1,R,q)}function On(h,b,T,R,q,X){if(!b)throw Error("Invalid event type");const ue=f(q)?!!q.capture:!!q;let Me=Pi(h);if(Me||(h[Ce]=Me=new me(h)),T=Me.add(b,T,R,ue,X),T.proxy)return T;if(R=Js(),T.proxy=R,R.src=h,R.listener=T,h.addEventListener)z||(q=ue),q===void 0&&(q=!1),h.addEventListener(b.toString(),R,q);else if(h.attachEvent)h.attachEvent(Yn(b.toString()),R);else if(h.addListener&&h.removeListener)h.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return T}function Js(){function h(T){return b.call(h.src,h.listener,T)}const b=er;return h}function Zs(h,b,T,R,q){if(Array.isArray(b))for(var X=0;X<b.length;X++)Zs(h,b[X],T,R,q);else R=f(R)?!!R.capture:!!R,T=Y(T),h&&h[ut]?(h=h.i,X=String(b).toString(),X in h.g&&(b=h.g[X],T=ke(b,T,R,q),T>-1&&(de(b[T]),Array.prototype.splice.call(b,T,1),b.length==0&&(delete h.g[X],h.h--)))):h&&(h=Pi(h))&&(b=h.g[b.toString()],h=-1,b&&(h=ke(b,T,R,q)),(T=h>-1?b[h]:null)&&vs(T))}function vs(h){if(typeof h!="number"&&h&&!h.da){var b=h.src;if(b&&b[ut])Ee(b.i,h);else{var T=h.type,R=h.proxy;b.removeEventListener?b.removeEventListener(T,R,h.capture):b.detachEvent?b.detachEvent(Yn(T),R):b.addListener&&b.removeListener&&b.removeListener(R),(T=Pi(b))?(Ee(T,h),T.h==0&&(T.src=null,b[Ce]=null)):de(h)}}}function Yn(h){return h in _t?_t[h]:_t[h]="on"+h}function er(h,b){if(h.da)h=!0;else{b=new Qe(b,this);const T=h.listener,R=h.ha||h.src;h.fa&&vs(h),h=T.call(R,b)}return h}function Pi(h){return h=h[Ce],h instanceof me?h:null}var tr="__closure_events_fn_"+(Math.random()*1e9>>>0);function Y(h){return typeof h=="function"?h:(h[tr]||(h[tr]=function(b){return h.handleEvent(b)}),h[tr])}function le(){P.call(this),this.i=new me(this),this.M=this,this.G=null}_(le,P),le.prototype[ut]=!0,le.prototype.removeEventListener=function(h,b,T,R){Zs(this,h,b,T,R)};function xe(h,b){var T,R=h.G;if(R)for(T=[];R;R=R.G)T.push(R);if(h=h.M,R=b.type||b,typeof b=="string")b=new k(b,h);else if(b instanceof k)b.target=b.target||h;else{var q=b;b=new k(R,h),he(b,q)}q=!0;let X,ue;if(T)for(ue=T.length-1;ue>=0;ue--)X=b.g=T[ue],q=Se(X,R,!0,b)&&q;if(X=b.g=h,q=Se(X,R,!0,b)&&q,q=Se(X,R,!1,b)&&q,T)for(ue=0;ue<T.length;ue++)X=b.g=T[ue],q=Se(X,R,!1,b)&&q}le.prototype.N=function(){if(le.Z.N.call(this),this.i){var h=this.i;for(const b in h.g){const T=h.g[b];for(let R=0;R<T.length;R++)de(T[R]);delete h.g[b],h.h--}}this.G=null},le.prototype.J=function(h,b,T,R){return this.i.add(String(h),b,!1,T,R)},le.prototype.K=function(h,b,T,R){return this.i.add(String(h),b,!0,T,R)};function Se(h,b,T,R){if(b=h.i.g[String(b)],!b)return!0;b=b.concat();let q=!0;for(let X=0;X<b.length;++X){const ue=b[X];if(ue&&!ue.da&&ue.capture==T){const Me=ue.listener,It=ue.ha||ue.src;ue.fa&&Ee(h.i,ue),q=Me.call(It,R)!==!1&&q}}return q&&!R.defaultPrevented}function $e(h,b){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=p(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(b)>2147483647?-1:c.setTimeout(h,b||0)}function io(h){h.g=$e(()=>{h.g=null,h.i&&(h.i=!1,io(h))},h.l);const b=h.h;h.h=null,h.m.apply(null,b)}class Wt extends P{constructor(b,T){super(),this.m=b,this.l=T,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:io(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function wt(h){P.call(this),this.h=h,this.g={}}_(wt,P);var Vl=[];function Ol(h){Te(h.g,function(b,T){this.g.hasOwnProperty(T)&&vs(b)},h),h.g={}}wt.prototype.N=function(){wt.Z.N.call(this),Ol(this)},wt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var nr=c.JSON.stringify,sm=c.JSON.parse,qc=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function Gc(){}function $c(){}var pi={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function rn(){k.call(this,"d")}_(rn,k);function Qn(){k.call(this,"c")}_(Qn,k);var Nt={},Kc=null;function so(){return Kc=Kc||new le}Nt.Ia="serverreachability";function Yc(h){k.call(this,Nt.Ia,h)}_(Yc,k);function Li(h){const b=so();xe(b,new Yc(b))}Nt.STAT_EVENT="statevent";function oa(h,b){k.call(this,Nt.STAT_EVENT,h),this.stat=b}_(oa,k);function jt(h){const b=so();xe(b,new oa(b,h))}Nt.Ja="timingevent";function Ui(h,b){k.call(this,Nt.Ja,h),this.size=b}_(Ui,k);function zi(h,b){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},b)}function gi(){this.g=!0}gi.prototype.ua=function(){this.g=!1};function rm(h,b,T,R,q,X){h.info(function(){if(h.g)if(X){var ue="",Me=X.split("&");for(let Je=0;Je<Me.length;Je++){var It=Me[Je].split("=");if(It.length>1){const gt=It[0];It=It[1];const Zn=gt.split("_");ue=Zn.length>=2&&Zn[1]=="type"?ue+(gt+"="+It+"&"):ue+(gt+"=redacted&")}}}else ue=null;else ue=X;return"XMLHTTP REQ ("+R+") [attempt "+q+"]: "+b+`
`+T+`
`+ue})}function Qc(h,b,T,R,q,X,ue){h.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+q+"]: "+b+`
`+T+`
`+X+" "+ue})}function Bi(h,b,T,R){h.info(function(){return"XMLHTTP TEXT ("+b+"): "+am(h,T)+(R?" "+R:"")})}function la(h,b){h.info(function(){return"TIMEOUT: "+b})}gi.prototype.info=function(){};function am(h,b){if(!h.g)return b;if(!b)return null;try{const X=JSON.parse(b);if(X){for(h=0;h<X.length;h++)if(Array.isArray(X[h])){var T=X[h];if(!(T.length<2)){var R=T[1];if(Array.isArray(R)&&!(R.length<1)){var q=R[0];if(q!="noop"&&q!="stop"&&q!="close")for(let ue=1;ue<R.length;ue++)R[ue]=""}}}}return nr(X)}catch{return b}}var ua={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},jl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Pl;function ca(){}_(ca,Gc),ca.prototype.g=function(){return new XMLHttpRequest},Pl=new ca;function _s(h){return encodeURIComponent(String(h))}function Xc(h){var b=1;h=h.split(":");const T=[];for(;b>0&&h.length;)T.push(h.shift()),b--;return h.length&&T.push(h.join(":")),T}function yi(h,b,T,R){this.j=h,this.i=b,this.l=T,this.S=R||1,this.V=new wt(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new vi}function vi(){this.i=null,this.g="",this.h=!1}var Pt={},Jt={};function Fi(h,b,T){h.M=1,h.A=ha(Ut(b)),h.u=T,h.R=!0,ro(h,null)}function ro(h,b){h.F=Date.now(),Hi(h),h.B=Ut(h.A);var T=h.B,R=h.S;Array.isArray(R)||(R=[String(R)]),uo(T.i,"t",R),h.C=0,T=h.j.L,h.h=new vi,h.g=hh(h.j,T?b:null,!h.u),h.P>0&&(h.O=new Wt(p(h.Y,h,h.g),h.P)),b=h.V,T=h.g,R=h.ba;var q="readystatechange";Array.isArray(q)||(q&&(Vl[0]=q.toString()),q=Vl);for(let X=0;X<q.length;X++){const ue=ht(T,q[X],R||b.handleEvent,!1,b.h||b);if(!ue)break;b.g[ue.key]=ue}b=h.J?L(h.J):{},h.u?(h.v||(h.v="POST"),b["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,b)):(h.v="GET",h.g.ea(h.B,h.v,null,b)),Li(),rm(h.i,h.v,h.B,h.l,h.S,h.u)}yi.prototype.ba=function(h){h=h.target;const b=this.O;b&&xi(h)==3?b.j():this.Y(h)},yi.prototype.Y=function(h){try{if(h==this.g)e:{const Me=xi(this.g),It=this.g.ya(),Je=this.g.ca();if(!(Me<3)&&(Me!=3||this.g&&(this.h.h||this.g.la()||an(this.g)))){this.K||Me!=4||It==7||(It==8||Je<=0?Li(3):Li(2)),qi(this);var b=this.g.ca();this.X=b;var T=om(this);if(this.o=b==200,Qc(this.i,this.v,this.B,this.l,this.S,Me,b),this.o){if(this.U&&!this.L){t:{if(this.g){var R,q=this.g;if((R=q.g?q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!V(R)){var X=R;break t}}X=null}if(h=X)Bi(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Gi(this,h);else{this.o=!1,this.m=3,jt(12),jn(this),Xn(this);break e}}if(this.R){h=!0;let gt;for(;!this.K&&this.C<T.length;)if(gt=Jc(this,T),gt==Jt){Me==4&&(this.m=4,jt(14),h=!1),Bi(this.i,this.l,null,"[Incomplete Response]");break}else if(gt==Pt){this.m=4,jt(15),Bi(this.i,this.l,T,"[Invalid Chunk]"),h=!1;break}else Bi(this.i,this.l,gt,null),Gi(this,gt);if(Wc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Me!=4||T.length!=0||this.h.h||(this.m=1,jt(16),h=!1),this.o=this.o&&h,!h)Bi(this.i,this.l,T,"[Invalid Chunked Response]"),jn(this),Xn(this);else if(T.length>0&&!this.W){this.W=!0;var ue=this.j;ue.g==this&&ue.aa&&!ue.P&&(ue.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),Jl(ue),ue.P=!0,jt(11))}}else Bi(this.i,this.l,T,null),Gi(this,T);Me==4&&jn(this),this.o&&!this.K&&(Me==4?oh(this.j,this):(this.o=!1,Hi(this)))}else xs(this.g),b==400&&T.indexOf("Unknown SID")>0?(this.m=3,jt(12)):(this.m=0,jt(13)),jn(this),Xn(this)}}}catch{}finally{}};function om(h){if(!Wc(h))return h.g.la();const b=an(h.g);if(b==="")return"";let T="";const R=b.length,q=xi(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return jn(h),Xn(h),"";h.h.i=new c.TextDecoder}for(let X=0;X<R;X++)h.h.h=!0,T+=h.h.i.decode(b[X],{stream:!(q&&X==R-1)});return b.length=0,h.h.g+=T,h.C=0,h.h.g}function Wc(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function Jc(h,b){var T=h.C,R=b.indexOf(`
`,T);return R==-1?Jt:(T=Number(b.substring(T,R)),isNaN(T)?Pt:(R+=1,R+T>b.length?Jt:(b=b.slice(R,R+T),h.C=R+T,b)))}yi.prototype.cancel=function(){this.K=!0,jn(this)};function Hi(h){h.T=Date.now()+h.H,ao(h,h.H)}function ao(h,b){if(h.D!=null)throw Error("WatchDog timer not null");h.D=zi(p(h.aa,h),b)}function qi(h){h.D&&(c.clearTimeout(h.D),h.D=null)}yi.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(la(this.i,this.B),this.M!=2&&(Li(),jt(17)),jn(this),this.m=2,Xn(this)):ao(this,this.T-h)};function Xn(h){h.j.I==0||h.K||oh(h.j,h)}function jn(h){qi(h);var b=h.O;b&&typeof b.dispose=="function"&&b.dispose(),h.O=null,Ol(h.V),h.g&&(b=h.g,h.g=null,b.abort(),b.dispose())}function Gi(h,b){try{var T=h.j;if(T.I!=0&&(T.g==h||Ki(T.h,h))){if(!h.L&&Ki(T.h,h)&&T.I==3){try{var R=T.Ba.g.parse(b)}catch{R=null}if(Array.isArray(R)&&R.length==3){var q=R;if(q[0]==0){e:if(!T.v){if(T.g)if(T.g.F+3e3<h.F)po(T),cr(T);else break e;va(T),jt(18)}}else T.xa=q[1],0<T.xa-T.K&&q[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=zi(p(T.Va,T),6e3));$i(T.h)<=1&&T.ta&&(T.ta=void 0)}else Zi(T,11)}else if((h.L||T.g==h)&&po(T),!V(b))for(q=T.Ba.g.parse(b),b=0;b<q.length;b++){let Je=q[b];const gt=Je[0];if(!(gt<=T.K))if(T.K=gt,Je=Je[1],T.I==2)if(Je[0]=="c"){T.M=Je[1],T.ba=Je[2];const Zn=Je[3];Zn!=null&&(T.ka=Zn,T.j.info("VER="+T.ka));const es=Je[4];es!=null&&(T.za=es,T.j.info("SVER="+T.za));const wi=Je[5];wi!=null&&typeof wi=="number"&&wi>0&&(R=1.5*wi,T.O=R,T.j.info("backChannelRequestTimeoutMs_="+R)),R=T;const Ti=h.g;if(Ti){const _a=Ti.g?Ti.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_a){var X=R.h;X.g||_a.indexOf("spdy")==-1&&_a.indexOf("quic")==-1&&_a.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(zl(X,X.h),X.h=null))}if(R.G){const go=Ti.g?Ti.g.getResponseHeader("X-HTTP-Session-Id"):null;go&&(R.wa=go,nt(R.J,R.G,go))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-h.F,T.j.info("Handshake RTT: "+T.T+"ms")),R=T;var ue=h;if(R.na=ch(R,R.L?R.ba:null,R.W),ue.L){Bl(R.h,ue);var Me=ue,It=R.O;It&&(Me.H=It),Me.D&&(qi(Me),Hi(Me)),R.g=ue}else rh(R);T.i.length>0&&Ji(T)}else Je[0]!="stop"&&Je[0]!="close"||Zi(T,7);else T.I==3&&(Je[0]=="stop"||Je[0]=="close"?Je[0]=="stop"?Zi(T,7):Xl(T):Je[0]!="noop"&&T.l&&T.l.qa(Je),T.A=0)}}Li(4)}catch{}}var Lt=class{constructor(h,b){this.g=h,this.map=b}};function Ll(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ul(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function $i(h){return h.h?1:h.g?h.g.size:0}function Ki(h,b){return h.h?h.h==b:h.g?h.g.has(b):!1}function zl(h,b){h.g?h.g.add(b):h.h=b}function Bl(h,b){h.h&&h.h==b?h.h=null:h.g&&h.g.has(b)&&h.g.delete(b)}Ll.prototype.cancel=function(){if(this.i=Fl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Fl(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let b=h.i;for(const T of h.g.values())b=b.concat(T.G);return b}return S(h.i)}var Zc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function oo(h,b){if(h){h=h.split("&");for(let T=0;T<h.length;T++){const R=h[T].indexOf("=");let q,X=null;R>=0?(q=h[T].substring(0,R),X=h[T].substring(R+1)):q=h[T],b(q,X?decodeURIComponent(X.replace(/\+/g," ")):"")}}}function Pn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let b;h instanceof Pn?(this.l=h.l,Zt(this,h.j),this.o=h.o,this.g=h.g,ir(this,h.u),this.h=h.h,Hl(this,ih(h.i)),this.m=h.m):h&&(b=String(h).match(Zc))?(this.l=!1,Zt(this,b[1]||"",!0),this.o=Yi(b[2]||""),this.g=Yi(b[3]||"",!0),ir(this,b[4]),this.h=Yi(b[5]||"",!0),Hl(this,b[6]||"",!0),this.m=Yi(b[7]||"")):(this.l=!1,this.i=new rr(null,this.l))}Pn.prototype.toString=function(){const h=[];var b=this.j;b&&h.push(fa(b,lo,!0),":");var T=this.g;return(T||b=="file")&&(h.push("//"),(b=this.o)&&h.push(fa(b,lo,!0),"@"),h.push(_s(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&h.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&h.push("/"),h.push(fa(T,T.charAt(0)=="/"?ql:eh,!0))),(T=this.i.toString())&&h.push("?",T),(T=this.m)&&h.push("#",fa(T,th)),h.join("")},Pn.prototype.resolve=function(h){const b=Ut(this);let T=!!h.j;T?Zt(b,h.j):T=!!h.o,T?b.o=h.o:T=!!h.g,T?b.g=h.g:T=h.u!=null;var R=h.h;if(T)ir(b,h.u);else if(T=!!h.h){if(R.charAt(0)!="/")if(this.g&&!this.h)R="/"+R;else{var q=b.h.lastIndexOf("/");q!=-1&&(R=b.h.slice(0,q+1)+R)}if(q=R,q==".."||q==".")R="";else if(q.indexOf("./")!=-1||q.indexOf("/.")!=-1){R=q.lastIndexOf("/",0)==0,q=q.split("/");const X=[];for(let ue=0;ue<q.length;){const Me=q[ue++];Me=="."?R&&ue==q.length&&X.push(""):Me==".."?((X.length>1||X.length==1&&X[0]!="")&&X.pop(),R&&ue==q.length&&X.push("")):(X.push(Me),R=!0)}R=X.join("/")}else R=q}return T?b.h=R:T=h.i.toString()!=="",T?Hl(b,ih(h.i)):T=!!h.m,T&&(b.m=h.m),b};function Ut(h){return new Pn(h)}function Zt(h,b,T){h.j=T?Yi(b,!0):b,h.j&&(h.j=h.j.replace(/:$/,""))}function ir(h,b){if(b){if(b=Number(b),isNaN(b)||b<0)throw Error("Bad port number "+b);h.u=b}else h.u=null}function Hl(h,b,T){b instanceof rr?(h.i=b,co(h.i,h.l)):(T||(b=fa(b,sr)),h.i=new rr(b,h.l))}function nt(h,b,T){h.i.set(b,T)}function ha(h){return nt(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Yi(h,b){return h?b?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function fa(h,b,T){return typeof h=="string"?(h=encodeURI(h).replace(b,En),T&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function En(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var lo=/[#\/\?@]/g,eh=/[#\?:]/g,ql=/[#\?]/g,sr=/[#\?@]/g,th=/#/g;function rr(h,b){this.h=this.g=null,this.i=h||null,this.j=!!b}function Sn(h){h.g||(h.g=new Map,h.h=0,h.i&&oo(h.i,function(b,T){h.add(decodeURIComponent(b.replace(/\+/g," ")),T)}))}t=rr.prototype,t.add=function(h,b){Sn(this),this.i=null,h=ar(this,h);let T=this.g.get(h);return T||this.g.set(h,T=[]),T.push(b),this.h+=1,this};function nh(h,b){Sn(h),b=ar(h,b),h.g.has(b)&&(h.i=null,h.h-=h.g.get(b).length,h.g.delete(b))}function Gl(h,b){return Sn(h),b=ar(h,b),h.g.has(b)}t.forEach=function(h,b){Sn(this),this.g.forEach(function(T,R){T.forEach(function(q){h.call(b,q,R,this)},this)},this)};function $l(h,b){Sn(h);let T=[];if(typeof b=="string")Gl(h,b)&&(T=T.concat(h.g.get(ar(h,b))));else for(h=Array.from(h.g.values()),b=0;b<h.length;b++)T=T.concat(h[b]);return T}t.set=function(h,b){return Sn(this),this.i=null,h=ar(this,h),Gl(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[b]),this.h+=1,this},t.get=function(h,b){return h?(h=$l(this,h),h.length>0?String(h[0]):b):b};function uo(h,b,T){nh(h,b),T.length>0&&(h.i=null,h.g.set(ar(h,b),S(T)),h.h+=T.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],b=Array.from(this.g.keys());for(let R=0;R<b.length;R++){var T=b[R];const q=_s(T);T=$l(this,T);for(let X=0;X<T.length;X++){let ue=q;T[X]!==""&&(ue+="="+_s(T[X])),h.push(ue)}}return this.i=h.join("&")};function ih(h){const b=new rr;return b.i=h.i,h.g&&(b.g=new Map(h.g),b.h=h.h),b}function ar(h,b){return b=String(b),h.j&&(b=b.toLowerCase()),b}function co(h,b){b&&!h.j&&(Sn(h),h.i=null,h.g.forEach(function(T,R){const q=R.toLowerCase();R!=q&&(nh(this,R),uo(this,q,T))},h)),h.j=b}function _i(h,b){const T=new gi;if(c.Image){const R=new Image;R.onload=v(Wn,T,"TestLoadImage: loaded",!0,b,R),R.onerror=v(Wn,T,"TestLoadImage: error",!1,b,R),R.onabort=v(Wn,T,"TestLoadImage: abort",!1,b,R),R.ontimeout=v(Wn,T,"TestLoadImage: timeout",!1,b,R),c.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=h}else b(!1)}function Kl(h,b){const T=new gi,R=new AbortController,q=setTimeout(()=>{R.abort(),Wn(T,"TestPingServer: timeout",!1,b)},1e4);fetch(h,{signal:R.signal}).then(X=>{clearTimeout(q),X.ok?Wn(T,"TestPingServer: ok",!0,b):Wn(T,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(q),Wn(T,"TestPingServer: error",!1,b)})}function Wn(h,b,T,R,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),R(T)}catch{}}function or(){this.g=new qc}function Qi(h){this.i=h.Sb||null,this.h=h.ab||!1}_(Qi,Gc),Qi.prototype.g=function(){return new da(this.i,this.h)};function da(h,b){le.call(this),this.H=h,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}_(da,le),t=da.prototype,t.open=function(h,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=b,this.readyState=1,bi(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const b={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(b.body=h),(this.H||c).fetch(new Request(this.D,b)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,lr(this)),this.readyState=0},t.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,bi(this)),this.g&&(this.readyState=3,bi(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ho(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function ho(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}t.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var b=h.value?h.value:new Uint8Array(0);(b=this.B.decode(b,{stream:!h.done}))&&(this.response=this.responseText+=b)}h.done?lr(this):bi(this),this.readyState==3&&ho(this)}},t.Oa=function(h){this.g&&(this.response=this.responseText=h,lr(this))},t.Na=function(h){this.g&&(this.response=h,lr(this))},t.ga=function(){this.g&&lr(this)};function lr(h){h.readyState=4,h.l=null,h.j=null,h.B=null,bi(h)}t.setRequestHeader=function(h,b){this.A.append(h,b)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],b=this.h.entries();for(var T=b.next();!T.done;)T=T.value,h.push(T[0]+": "+T[1]),T=b.next();return h.join(`\r
`)};function bi(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(da.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Jn(h){let b="";return Te(h,function(T,R){b+=R,b+=":",b+=T,b+=`\r
`}),b}function ma(h,b,T){e:{for(R in T){var R=!1;break e}R=!0}R||(T=Jn(T),typeof h=="string"?T!=null&&_s(T):nt(h,b,T))}function rt(h){le.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}_(rt,le);var Xi=/^https?$/i,Yl=["POST","PUT"];t=rt.prototype,t.Fa=function(h){this.H=h},t.ea=function(h,b,T,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);b=b?b.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Pl.g(),this.g.onreadystatechange=w(p(this.Ca,this));try{this.B=!0,this.g.open(b,String(h),!0),this.B=!1}catch(X){pa(this,X);return}if(h=T||"",T=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var q in R)T.set(q,R[q]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const X of R.keys())T.set(X,R.get(X));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(T.keys()).find(X=>X.toLowerCase()=="content-type"),q=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(Yl,b,void 0)>=0)||R||q||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,ue]of T)this.g.setRequestHeader(X,ue);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(X){pa(this,X)}};function pa(h,b){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=b,h.o=5,Ql(h),bs(h)}function Ql(h){h.A||(h.A=!0,xe(h,"complete"),xe(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,xe(this,"complete"),xe(this,"abort"),bs(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),bs(this,!0)),rt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?ga(this):this.Xa())},t.Xa=function(){ga(this)};function ga(h){if(h.h&&typeof l<"u"){if(h.v&&xi(h)==4)setTimeout(h.Ca.bind(h),0);else if(xe(h,"readystatechange"),xi(h)==4){h.h=!1;try{const X=h.ca();e:switch(X){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break e;default:b=!1}var T;if(!(T=b)){var R;if(R=X===0){let ue=String(h.D).match(Zc)[1]||null;!ue&&c.self&&c.self.location&&(ue=c.self.location.protocol.slice(0,-1)),R=!Xi.test(ue?ue.toLowerCase():"")}T=R}if(T)xe(h,"complete"),xe(h,"success");else{h.o=6;try{var q=xi(h)>2?h.g.statusText:""}catch{q=""}h.l=q+" ["+h.ca()+"]",Ql(h)}}finally{bs(h)}}}}function bs(h,b){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const T=h.g;h.g=null,b||xe(h,"ready");try{T.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function xi(h){return h.g?h.g.readyState:0}t.ca=function(){try{return xi(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(h){if(this.g){var b=this.g.responseText;return h&&b.indexOf(h)==0&&(b=b.substring(h.length)),sm(b)}};function an(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function xs(h){const b={};h=(h.g&&xi(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<h.length;R++){if(V(h[R]))continue;var T=Xc(h[R]);const q=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const X=b[q]||[];b[q]=X,X.push(T)}Oe(b,function(R){return R.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Wi(h,b,T){return T&&T.internalChannelParams&&T.internalChannelParams[h]||b}function ur(h){this.za=0,this.i=[],this.j=new gi,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Wi("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Wi("baseRetryDelayMs",5e3,h),this.Za=Wi("retryDelaySeedMs",1e4,h),this.Ta=Wi("forwardChannelMaxRetries",2,h),this.va=Wi("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new Ll(h&&h.concurrentRequestLimit),this.Ba=new or,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=ur.prototype,t.ka=8,t.I=1,t.connect=function(h,b,T,R){jt(0),this.W=h,this.H=b||{},T&&R!==void 0&&(this.H.OSID=T,this.H.OAID=R),this.F=this.X,this.J=ch(this,null,this.W),Ji(this)};function Xl(h){if(fo(h),h.I==3){var b=h.V++,T=Ut(h.J);if(nt(T,"SID",h.M),nt(T,"RID",b),nt(T,"TYPE","terminate"),ya(h,T),b=new yi(h,h.j,b),b.M=2,b.A=ha(Ut(T)),T=!1,c.navigator&&c.navigator.sendBeacon)try{T=c.navigator.sendBeacon(b.A.toString(),"")}catch{}!T&&c.Image&&(new Image().src=b.A,T=!0),T||(b.g=hh(b.j,null),b.g.ea(b.A)),b.F=Date.now(),Hi(b)}uh(h)}function cr(h){h.g&&(Jl(h),h.g.cancel(),h.g=null)}function fo(h){cr(h),h.v&&(c.clearTimeout(h.v),h.v=null),po(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function Ji(h){if(!Ul(h.h)&&!h.m){h.m=!0;var b=h.Ea;re||A(),ce||(re(),ce=!0),C.add(b,h),h.D=0}}function mo(h,b){return $i(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=b.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=zi(p(h.Ea,h,b),lh(h,h.D)),h.D++,!0)}t.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const q=new yi(this,this.j,h);let X=this.o;if(this.U&&(X?(X=L(X),he(X,this.U)):X=this.U),this.u!==null||this.R||(q.J=X,X=null),this.S)e:{for(var b=0,T=0;T<this.i.length;T++){t:{var R=this.i[T];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(b+=R,b>4096){b=T;break e}if(b===4096||T===this.i.length-1){b=T+1;break e}}b=1e3}else b=1e3;b=sh(this,q,b),T=Ut(this.J),nt(T,"RID",h),nt(T,"CVER",22),this.G&&nt(T,"X-HTTP-Session-Id",this.G),ya(this,T),X&&(this.R?b="headers="+_s(Jn(X))+"&"+b:this.u&&ma(T,this.u,X)),zl(this.h,q),this.Ra&&nt(T,"TYPE","init"),this.S?(nt(T,"$req",b),nt(T,"SID","null"),q.U=!0,Fi(q,T,null)):Fi(q,T,b),this.I=2}}else this.I==3&&(h?Wl(this,h):this.i.length==0||Ul(this.h)||Wl(this))};function Wl(h,b){var T;b?T=b.l:T=h.V++;const R=Ut(h.J);nt(R,"SID",h.M),nt(R,"RID",T),nt(R,"AID",h.K),ya(h,R),h.u&&h.o&&ma(R,h.u,h.o),T=new yi(h,h.j,T,h.D+1),h.u===null&&(T.J=h.o),b&&(h.i=b.G.concat(h.i)),b=sh(h,T,1e3),T.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),zl(h.h,T),Fi(T,R,b)}function ya(h,b){h.H&&Te(h.H,function(T,R){nt(b,R,T)}),h.l&&Te({},function(T,R){nt(b,R,T)})}function sh(h,b,T){T=Math.min(h.i.length,T);const R=h.l?p(h.l.Ka,h.l,h):null;e:{var q=h.i;let Me=-1;for(;;){const It=["count="+T];Me==-1?T>0?(Me=q[0].g,It.push("ofs="+Me)):Me=0:It.push("ofs="+Me);let Je=!0;for(let gt=0;gt<T;gt++){var X=q[gt].g;const Zn=q[gt].map;if(X-=Me,X<0)Me=Math.max(0,q[gt].g-100),Je=!1;else try{X="req"+X+"_"||"";try{var ue=Zn instanceof Map?Zn:Object.entries(Zn);for(const[es,wi]of ue){let Ti=wi;f(wi)&&(Ti=nr(wi)),It.push(X+es+"="+encodeURIComponent(Ti))}}catch(es){throw It.push(X+"type="+encodeURIComponent("_badmap")),es}}catch{R&&R(Zn)}}if(Je){ue=It.join("&");break e}}ue=void 0}return h=h.i.splice(0,T),b.G=h,ue}function rh(h){if(!h.g&&!h.v){h.Y=1;var b=h.Da;re||A(),ce||(re(),ce=!0),C.add(b,h),h.A=0}}function va(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=zi(p(h.Da,h),lh(h,h.A)),h.A++,!0)}t.Da=function(){if(this.v=null,ah(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=zi(p(this.Wa,this),h)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,jt(10),cr(this),ah(this))};function Jl(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function ah(h){h.g=new yi(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var b=Ut(h.na);nt(b,"RID","rpc"),nt(b,"SID",h.M),nt(b,"AID",h.K),nt(b,"CI",h.F?"0":"1"),!h.F&&h.ia&&nt(b,"TO",h.ia),nt(b,"TYPE","xmlhttp"),ya(h,b),h.u&&h.o&&ma(b,h.u,h.o),h.O&&(h.g.H=h.O);var T=h.g;h=h.ba,T.M=1,T.A=ha(Ut(b)),T.u=null,T.R=!0,ro(T,h)}t.Va=function(){this.C!=null&&(this.C=null,cr(this),va(this),jt(19))};function po(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function oh(h,b){var T=null;if(h.g==b){po(h),Jl(h),h.g=null;var R=2}else if(Ki(h.h,b))T=b.G,Bl(h.h,b),R=1;else return;if(h.I!=0){if(b.o)if(R==1){T=b.u?b.u.length:0,b=Date.now()-b.F;var q=h.D;R=so(),xe(R,new Ui(R,T)),Ji(h)}else rh(h);else if(q=b.m,q==3||q==0&&b.X>0||!(R==1&&mo(h,b)||R==2&&va(h)))switch(T&&T.length>0&&(b=h.h,b.i=b.i.concat(T)),q){case 1:Zi(h,5);break;case 4:Zi(h,10);break;case 3:Zi(h,6);break;default:Zi(h,2)}}}function lh(h,b){let T=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(T*=2),T*b}function Zi(h,b){if(h.j.info("Error code "+b),b==2){var T=p(h.bb,h),R=h.Ua;const q=!R;R=new Pn(R||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Zt(R,"https"),ha(R),q?_i(R.toString(),T):Kl(R.toString(),T)}else jt(2);h.I=0,h.l&&h.l.pa(b),uh(h),fo(h)}t.bb=function(h){h?(this.j.info("Successfully pinged google.com"),jt(2)):(this.j.info("Failed to ping google.com"),jt(1))};function uh(h){if(h.I=0,h.ja=[],h.l){const b=Fl(h.h);(b.length!=0||h.i.length!=0)&&(N(h.ja,b),N(h.ja,h.i),h.h.i.length=0,S(h.i),h.i.length=0),h.l.oa()}}function ch(h,b,T){var R=T instanceof Pn?Ut(T):new Pn(T);if(R.g!="")b&&(R.g=b+"."+R.g),ir(R,R.u);else{var q=c.location;R=q.protocol,b=b?b+"."+q.hostname:q.hostname,q=+q.port;const X=new Pn(null);R&&Zt(X,R),b&&(X.g=b),q&&ir(X,q),T&&(X.h=T),R=X}return T=h.G,b=h.wa,T&&b&&nt(R,T,b),nt(R,"VER",h.ka),ya(h,R),R}function hh(h,b,T){if(b&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return b=h.Aa&&!h.ma?new rt(new Qi({ab:T})):new rt(h.ma),b.Fa(h.L),b}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function fh(){}t=fh.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function hr(){}hr.prototype.g=function(h,b){return new _n(h,b)};function _n(h,b){le.call(this),this.g=new ur(b),this.l=h,this.h=b&&b.messageUrlParams||null,h=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(h?h["X-WebChannel-Content-Type"]=b.messageContentType:h={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.sa&&(h?h["X-WebChannel-Client-Profile"]=b.sa:h={"X-WebChannel-Client-Profile":b.sa}),this.g.U=h,(h=b&&b.Qb)&&!V(h)&&(this.g.u=h),this.A=b&&b.supportsCrossDomainXhr||!1,this.v=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!V(b)&&(this.g.G=b,h=this.h,h!==null&&b in h&&(h=this.h,b in h&&delete h[b])),this.j=new ws(this)}_(_n,le),_n.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},_n.prototype.close=function(){Xl(this.g)},_n.prototype.o=function(h){var b=this.g;if(typeof h=="string"){var T={};T.__data__=h,h=T}else this.v&&(T={},T.__data__=nr(h),h=T);b.i.push(new Lt(b.Ya++,h)),b.I==3&&Ji(b)},_n.prototype.N=function(){this.g.l=null,delete this.j,Xl(this.g),delete this.g,_n.Z.N.call(this)};function dh(h){rn.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var b=h.__sm__;if(b){e:{for(const T in b){h=T;break e}h=void 0}(this.i=h)&&(h=this.i,b=b!==null&&h in b?b[h]:void 0),this.data=b}else this.data=h}_(dh,rn);function mh(){Qn.call(this),this.status=1}_(mh,Qn);function ws(h){this.g=h}_(ws,fh),ws.prototype.ra=function(){xe(this.g,"a")},ws.prototype.qa=function(h){xe(this.g,new dh(h))},ws.prototype.pa=function(h){xe(this.g,new mh)},ws.prototype.oa=function(){xe(this.g,"b")},hr.prototype.createWebChannel=hr.prototype.g,_n.prototype.send=_n.prototype.o,_n.prototype.open=_n.prototype.m,_n.prototype.close=_n.prototype.close,PS=function(){return new hr},jS=function(){return so()},OS=Nt,ty={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ua.NO_ERROR=0,ua.TIMEOUT=8,ua.HTTP_ERROR=6,zf=ua,jl.COMPLETE="complete",VS=jl,$c.EventType=pi,pi.OPEN="a",pi.CLOSE="b",pi.ERROR="c",pi.MESSAGE="d",le.prototype.listen=le.prototype.J,qu=$c,rt.prototype.listenOnce=rt.prototype.K,rt.prototype.getLastError=rt.prototype.Ha,rt.prototype.getLastErrorCode=rt.prototype.ya,rt.prototype.getStatus=rt.prototype.ca,rt.prototype.getResponseJson=rt.prototype.La,rt.prototype.getResponseText=rt.prototype.la,rt.prototype.send=rt.prototype.ea,rt.prototype.setWithCredentials=rt.prototype.Fa,MS=rt}).apply(typeof xf<"u"?xf:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};gn.UNAUTHENTICATED=new gn(null),gn.GOOGLE_CREDENTIALS=new gn("google-credentials-uid"),gn.FIRST_PARTY=new gn("first-party-uid"),gn.MOCK_USER=new gn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Al="12.8.0";function jV(t){Al=t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qa=new Zy("@firebase/firestore");function $o(){return Qa.logLevel}function pe(t,...e){if(Qa.logLevel<=He.DEBUG){const n=e.map(f0);Qa.debug(`Firestore (${Al}): ${t}`,...n)}}function Ys(t,...e){if(Qa.logLevel<=He.ERROR){const n=e.map(f0);Qa.error(`Firestore (${Al}): ${t}`,...n)}}function dl(t,...e){if(Qa.logLevel<=He.WARN){const n=e.map(f0);Qa.warn(`Firestore (${Al}): ${t}`,...n)}}function f0(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ae(t,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,LS(t,s,n)}function LS(t,e,n){let s=`FIRESTORE (${Al}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Ys(s),new Error(s)}function tt(t,e,n,s){let a="Unexpected state";typeof n=="string"?a=n:s=n,t||LS(e,a,s)}function De(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends ys{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class PV{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(gn.UNAUTHENTICATED)))}shutdown(){}}class LV{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class UV{constructor(e){this.t=e,this.currentUser=gn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){tt(this.o===void 0,42304);let s=this.i;const a=m=>this.i!==s?(s=this.i,n(m)):Promise.resolve();let l=new Hs;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Hs,e.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const m=l;e.enqueueRetryable((async()=>{await m.promise,await a(this.currentUser)}))},f=m=>{pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((m=>f(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?f(m):(pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Hs)}}),0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(tt(typeof s.accessToken=="string",31837,{l:s}),new US(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return tt(e===null||typeof e=="string",2055,{h:e}),new gn(e)}}class zV{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=gn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class BV{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new zV(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(gn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Fx{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class FV{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ci(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){tt(this.o===void 0,3512);const s=l=>{l.error!=null&&pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,pe("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>s(l)))};const a=l=>{pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Fx(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(tt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Fx(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HV(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=HV(40);for(let l=0;l<a.length;++l)s.length<20&&a[l]<n&&(s+=e.charAt(a[l]%62))}return s}}function qe(t,e){return t<e?-1:t>e?1:0}function ny(t,e){const n=Math.min(t.length,e.length);for(let s=0;s<n;s++){const a=t.charAt(s),l=e.charAt(s);if(a!==l)return yg(a)===yg(l)?qe(a,l):yg(a)?1:-1}return qe(t.length,e.length)}const qV=55296,GV=57343;function yg(t){const e=t.charCodeAt(0);return e>=qV&&e<=GV}function ml(t,e,n){return t.length===e.length&&t.every(((s,a)=>n(s,e[a])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hx="__name__";class as{constructor(e,n,s){n===void 0?n=0:n>e.length&&Ae(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Ae(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return as.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof as?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let a=0;a<s;a++){const l=as.compareSegments(e.get(a),n.get(a));if(l!==0)return l}return qe(e.length,n.length)}static compareSegments(e,n){const s=as.isNumericId(e),a=as.isNumericId(n);return s&&!a?-1:!s&&a?1:s&&a?as.extractNumericId(e).compare(as.extractNumericId(n)):ny(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Gr.fromString(e.substring(4,e.length-2))}}class ft extends as{construct(e,n,s){return new ft(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new fe(ie.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((a=>a.length>0)))}return new ft(n)}static emptyPath(){return new ft([])}}const $V=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class fn extends as{construct(e,n,s){return new fn(e,n,s)}static isValidIdentifier(e){return $V.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),fn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Hx}static keyField(){return new fn([Hx])}static fromServerFormat(e){const n=[];let s="",a=0;const l=()=>{if(s.length===0)throw new fe(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let c=!1;for(;a<e.length;){const f=e[a];if(f==="\\"){if(a+1===e.length)throw new fe(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new fe(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=m,a+=2}else f==="`"?(c=!c,a++):f!=="."||c?(s+=f,a++):(l(),a++)}if(l(),c)throw new fe(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new fn(n)}static emptyPath(){return new fn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e){this.path=e}static fromPath(e){return new be(ft.fromString(e))}static fromName(e){return new be(ft.fromString(e).popFirst(5))}static empty(){return new be(ft.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ft.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ft.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new be(new ft(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zS(t,e,n){if(!n)throw new fe(ie.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function KV(t,e,n,s){if(e===!0&&s===!0)throw new fe(ie.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function qx(t){if(!be.isDocumentKey(t))throw new fe(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Gx(t){if(be.isDocumentKey(t))throw new fe(ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function BS(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Od(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ae(12329,{type:typeof t})}function Mi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new fe(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Od(t);throw new fe(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kt(t,e){const n={typeString:t};return e&&(n.value=e),n}function kc(t,e){if(!BS(t))throw new fe(ie.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const a=e[s].typeString,l="value"in e[s]?{value:e[s].value}:void 0;if(!(s in t)){n=`JSON missing required field: '${s}'`;break}const c=t[s];if(a&&typeof c!==a){n=`JSON field '${s}' must be a ${a}.`;break}if(l!==void 0&&c!==l.value){n=`Expected '${s}' field to equal '${l.value}'`;break}}if(n)throw new fe(ie.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $x=-62135596800,Kx=1e6;class pt{static now(){return pt.fromMillis(Date.now())}static fromDate(e){return pt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*Kx);return new pt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new fe(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new fe(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<$x)throw new fe(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Kx}_compareTo(e){return this.seconds===e.seconds?qe(this.nanoseconds,e.nanoseconds):qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:pt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(kc(e,pt._jsonSchema))return new pt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-$x;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}pt._jsonSchemaVersion="firestore/timestamp/1.0",pt._jsonSchema={type:Kt("string",pt._jsonSchemaVersion),seconds:Kt("number"),nanoseconds:Kt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{static fromTimestamp(e){return new Ne(e)}static min(){return new Ne(new pt(0,0))}static max(){return new Ne(new pt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fc=-1;function YV(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,a=Ne.fromTimestamp(s===1e9?new pt(n+1,0):new pt(n,s));return new Yr(a,be.empty(),e)}function QV(t){return new Yr(t.readTime,t.key,fc)}class Yr{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Yr(Ne.min(),be.empty(),fc)}static max(){return new Yr(Ne.max(),be.empty(),fc)}}function XV(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=be.comparator(t.documentKey,e.documentKey),n!==0?n:qe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class JV{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rl(t){if(t.code!==ie.FAILED_PRECONDITION||t.message!==WV)throw t;pe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ae(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new se(((s,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(s,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof se?n:se.resolve(n)}catch(n){return se.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):se.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):se.reject(n)}static resolve(e){return new se(((n,s)=>{n(e)}))}static reject(e){return new se(((n,s)=>{s(e)}))}static waitFor(e){return new se(((n,s)=>{let a=0,l=0,c=!1;e.forEach((f=>{++a,f.next((()=>{++l,c&&l===a&&n()}),(m=>s(m)))})),c=!0,l===a&&n()}))}static or(e){let n=se.resolve(!1);for(const s of e)n=n.next((a=>a?se.resolve(a):s()));return n}static forEach(e,n){const s=[];return e.forEach(((a,l)=>{s.push(n.call(this,a,l))})),this.waitFor(s)}static mapArray(e,n){return new se(((s,a)=>{const l=e.length,c=new Array(l);let f=0;for(let m=0;m<l;m++){const p=m;n(e[p]).next((v=>{c[p]=v,++f,f===l&&s(c)}),(v=>a(v)))}}))}static doWhile(e,n){return new se(((s,a)=>{const l=()=>{e()===!0?n().next((()=>{l()}),a):s()};l()}))}}function ZV(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Cl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}jd.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m0=-1;function Pd(t){return t==null}function od(t){return t===0&&1/t==-1/0}function e3(t){return typeof t=="number"&&Number.isInteger(t)&&!od(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FS="";function t3(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Yx(e)),e=n3(t.get(n),e);return Yx(e)}function n3(t,e){let n=e;const s=t.length;for(let a=0;a<s;a++){const l=t.charAt(a);switch(l){case"\0":n+="";break;case FS:n+="";break;default:n+=l}}return n}function Yx(t){return t+FS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qx(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function sa(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function HS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e,n){this.comparator=e,this.root=n||hn.EMPTY}insert(e,n){return new xt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,hn.BLACK,null,null))}remove(e){return new xt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,hn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new wf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new wf(this.root,e,this.comparator,!1)}getReverseIterator(){return new wf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new wf(this.root,e,this.comparator,!0)}}class wf{constructor(e,n,s,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?s(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class hn{constructor(e,n,s,a,l){this.key=e,this.value=n,this.color=s??hn.RED,this.left=a??hn.EMPTY,this.right=l??hn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,a,l){return new hn(e??this.key,n??this.value,s??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let a=this;const l=s(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,s),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return hn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return hn.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,hn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,hn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ae(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ae(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ae(27949);return e+(this.isRed()?0:1)}}hn.EMPTY=null,hn.RED=!0,hn.BLACK=!1;hn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ae(57766)}get value(){throw Ae(16141)}get color(){throw Ae(16727)}get left(){throw Ae(29726)}get right(){throw Ae(36894)}copy(e,n,s,a,l){return this}insert(e,n,s){return new hn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.comparator=e,this.data=new xt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Xx(this.data.getIterator())}getIteratorFrom(e){return new Xx(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Xt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Xt(this.comparator);return n.data=e,n}}class Xx{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e){this.fields=e,e.sort(fn.comparator)}static empty(){return new Gn([])}unionWith(e){let n=new Xt(fn.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Gn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ml(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new qS("Invalid base64 string: "+l):l}})(e);return new dn(n)}static fromUint8Array(e){const n=(function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l})(e);return new dn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}dn.EMPTY_BYTE_STRING=new dn("");const i3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qr(t){if(tt(!!t,39018),typeof t=="string"){let e=0;const n=i3.exec(t);if(tt(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Vt(t.seconds),nanos:Vt(t.nanos)}}function Vt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Xr(t){return typeof t=="string"?dn.fromBase64String(t):dn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GS="server_timestamp",$S="__type__",KS="__previous_value__",YS="__local_write_time__";function p0(t){var n,s;return((s=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[$S])==null?void 0:s.stringValue)===GS}function Ld(t){const e=t.mapValue.fields[KS];return p0(e)?Ld(e):e}function dc(t){const e=Qr(t.mapValue.fields[YS].timestampValue);return new pt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s3{constructor(e,n,s,a,l,c,f,m,p,v,_){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=f,this.longPollingOptions=m,this.useFetchStreams=p,this.isUsingEmulator=v,this.apiKey=_}}const ld="(default)";class mc{constructor(e,n){this.projectId=e,this.database=n||ld}static empty(){return new mc("","")}get isDefaultDatabase(){return this.database===ld}isEqual(e){return e instanceof mc&&e.projectId===this.projectId&&e.database===this.database}}function r3(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new fe(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new mc(t.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QS="__type__",a3="__max__",Tf={mapValue:{}},XS="__vector__",ud="value";function Wr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?p0(t)?4:l3(t)?9007199254740991:o3(t)?10:11:Ae(28295,{value:t})}function ps(t,e){if(t===e)return!0;const n=Wr(t);if(n!==Wr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return dc(t).isEqual(dc(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=Qr(a.timestampValue),f=Qr(l.timestampValue);return c.seconds===f.seconds&&c.nanos===f.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,l){return Xr(a.bytesValue).isEqual(Xr(l.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,l){return Vt(a.geoPointValue.latitude)===Vt(l.geoPointValue.latitude)&&Vt(a.geoPointValue.longitude)===Vt(l.geoPointValue.longitude)})(t,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return Vt(a.integerValue)===Vt(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=Vt(a.doubleValue),f=Vt(l.doubleValue);return c===f?od(c)===od(f):isNaN(c)&&isNaN(f)}return!1})(t,e);case 9:return ml(t.arrayValue.values||[],e.arrayValue.values||[],ps);case 10:case 11:return(function(a,l){const c=a.mapValue.fields||{},f=l.mapValue.fields||{};if(Qx(c)!==Qx(f))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(f[m]===void 0||!ps(c[m],f[m])))return!1;return!0})(t,e);default:return Ae(52216,{left:t})}}function pc(t,e){return(t.values||[]).find((n=>ps(n,e)))!==void 0}function pl(t,e){if(t===e)return 0;const n=Wr(t),s=Wr(e);if(n!==s)return qe(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return qe(t.booleanValue,e.booleanValue);case 2:return(function(l,c){const f=Vt(l.integerValue||l.doubleValue),m=Vt(c.integerValue||c.doubleValue);return f<m?-1:f>m?1:f===m?0:isNaN(f)?isNaN(m)?0:-1:1})(t,e);case 3:return Wx(t.timestampValue,e.timestampValue);case 4:return Wx(dc(t),dc(e));case 5:return ny(t.stringValue,e.stringValue);case 6:return(function(l,c){const f=Xr(l),m=Xr(c);return f.compareTo(m)})(t.bytesValue,e.bytesValue);case 7:return(function(l,c){const f=l.split("/"),m=c.split("/");for(let p=0;p<f.length&&p<m.length;p++){const v=qe(f[p],m[p]);if(v!==0)return v}return qe(f.length,m.length)})(t.referenceValue,e.referenceValue);case 8:return(function(l,c){const f=qe(Vt(l.latitude),Vt(c.latitude));return f!==0?f:qe(Vt(l.longitude),Vt(c.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return Jx(t.arrayValue,e.arrayValue);case 10:return(function(l,c){var w,S,N,M;const f=l.fields||{},m=c.fields||{},p=(w=f[ud])==null?void 0:w.arrayValue,v=(S=m[ud])==null?void 0:S.arrayValue,_=qe(((N=p==null?void 0:p.values)==null?void 0:N.length)||0,((M=v==null?void 0:v.values)==null?void 0:M.length)||0);return _!==0?_:Jx(p,v)})(t.mapValue,e.mapValue);case 11:return(function(l,c){if(l===Tf.mapValue&&c===Tf.mapValue)return 0;if(l===Tf.mapValue)return 1;if(c===Tf.mapValue)return-1;const f=l.fields||{},m=Object.keys(f),p=c.fields||{},v=Object.keys(p);m.sort(),v.sort();for(let _=0;_<m.length&&_<v.length;++_){const w=ny(m[_],v[_]);if(w!==0)return w;const S=pl(f[m[_]],p[v[_]]);if(S!==0)return S}return qe(m.length,v.length)})(t.mapValue,e.mapValue);default:throw Ae(23264,{he:n})}}function Wx(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return qe(t,e);const n=Qr(t),s=Qr(e),a=qe(n.seconds,s.seconds);return a!==0?a:qe(n.nanos,s.nanos)}function Jx(t,e){const n=t.values||[],s=e.values||[];for(let a=0;a<n.length&&a<s.length;++a){const l=pl(n[a],s[a]);if(l)return l}return qe(n.length,s.length)}function gl(t){return iy(t)}function iy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const s=Qr(n);return`time(${s.seconds},${s.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Xr(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return be.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let s="[",a=!0;for(const l of n.values||[])a?a=!1:s+=",",s+=iy(l);return s+"]"})(t.arrayValue):"mapValue"in t?(function(n){const s=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const c of s)l?l=!1:a+=",",a+=`${c}:${iy(n.fields[c])}`;return a+"}"})(t.mapValue):Ae(61005,{value:t})}function Bf(t){switch(Wr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ld(t);return e?16+Bf(e):16;case 5:return 2*t.stringValue.length;case 6:return Xr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((a,l)=>a+Bf(l)),0)})(t.arrayValue);case 10:case 11:return(function(s){let a=0;return sa(s.fields,((l,c)=>{a+=l.length+Bf(c)})),a})(t.mapValue);default:throw Ae(13486,{value:t})}}function Zx(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function sy(t){return!!t&&"integerValue"in t}function g0(t){return!!t&&"arrayValue"in t}function ew(t){return!!t&&"nullValue"in t}function tw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ff(t){return!!t&&"mapValue"in t}function o3(t){var n,s;return((s=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[QS])==null?void 0:s.stringValue)===XS}function Ju(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return sa(t.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Ju(s))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ju(t.arrayValue.values[n]);return e}return{...t}}function l3(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===a3}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this.value=e}static empty(){return new Mn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Ff(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ju(n)}setAll(e){let n=fn.emptyPath(),s={},a=[];e.forEach(((c,f)=>{if(!n.isImmediateParentOf(f)){const m=this.getFieldsMap(n);this.applyChanges(m,s,a),s={},a=[],n=f.popLast()}c?s[f.lastSegment()]=Ju(c):a.push(f.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,s,a)}delete(e){const n=this.field(e.popLast());Ff(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ps(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=n.mapValue.fields[e.get(s)];Ff(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,s){sa(n,((a,l)=>e[a]=l));for(const a of s)delete e[a]}clone(){return new Mn(Ju(this.value))}}function WS(t){const e=[];return sa(t.fields,((n,s)=>{const a=new fn([n]);if(Ff(s)){const l=WS(s.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)})),new Gn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e,n,s,a,l,c,f){this.key=e,this.documentType=n,this.version=s,this.readTime=a,this.createTime=l,this.data=c,this.documentState=f}static newInvalidDocument(e){return new yn(e,0,Ne.min(),Ne.min(),Ne.min(),Mn.empty(),0)}static newFoundDocument(e,n,s,a){return new yn(e,1,n,Ne.min(),s,a,0)}static newNoDocument(e,n){return new yn(e,2,n,Ne.min(),Ne.min(),Mn.empty(),0)}static newUnknownDocument(e,n){return new yn(e,3,n,Ne.min(),Ne.min(),Mn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof yn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new yn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd{constructor(e,n){this.position=e,this.inclusive=n}}function nw(t,e,n){let s=0;for(let a=0;a<t.position.length;a++){const l=e[a],c=t.position[a];if(l.field.isKeyField()?s=be.comparator(be.fromName(c.referenceValue),n.key):s=pl(c,n.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function iw(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ps(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(e,n="asc"){this.field=e,this.dir=n}}function u3(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{}class $t extends JS{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new h3(e,n,s):n==="array-contains"?new m3(e,s):n==="in"?new p3(e,s):n==="not-in"?new g3(e,s):n==="array-contains-any"?new y3(e,s):new $t(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new f3(e,s):new d3(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(pl(n,this.value)):n!==null&&Wr(this.value)===Wr(n)&&this.matchesComparison(pl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ae(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Vi extends JS{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Vi(e,n)}matches(e){return ZS(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function ZS(t){return t.op==="and"}function eA(t){return c3(t)&&ZS(t)}function c3(t){for(const e of t.filters)if(e instanceof Vi)return!1;return!0}function ry(t){if(t instanceof $t)return t.field.canonicalString()+t.op.toString()+gl(t.value);if(eA(t))return t.filters.map((e=>ry(e))).join(",");{const e=t.filters.map((n=>ry(n))).join(",");return`${t.op}(${e})`}}function tA(t,e){return t instanceof $t?(function(s,a){return a instanceof $t&&s.op===a.op&&s.field.isEqual(a.field)&&ps(s.value,a.value)})(t,e):t instanceof Vi?(function(s,a){return a instanceof Vi&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce(((l,c,f)=>l&&tA(c,a.filters[f])),!0):!1})(t,e):void Ae(19439)}function nA(t){return t instanceof $t?(function(n){return`${n.field.canonicalString()} ${n.op} ${gl(n.value)}`})(t):t instanceof Vi?(function(n){return n.op.toString()+" {"+n.getFilters().map(nA).join(" ,")+"}"})(t):"Filter"}class h3 extends $t{constructor(e,n,s){super(e,n,s),this.key=be.fromName(s.referenceValue)}matches(e){const n=be.comparator(e.key,this.key);return this.matchesComparison(n)}}class f3 extends $t{constructor(e,n){super(e,"in",n),this.keys=iA("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class d3 extends $t{constructor(e,n){super(e,"not-in",n),this.keys=iA("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function iA(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((s=>be.fromName(s.referenceValue)))}class m3 extends $t{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return g0(n)&&pc(n.arrayValue,this.value)}}class p3 extends $t{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&pc(this.value.arrayValue,n)}}class g3 extends $t{constructor(e,n){super(e,"not-in",n)}matches(e){if(pc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!pc(this.value.arrayValue,n)}}class y3 extends $t{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!g0(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>pc(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v3{constructor(e,n=null,s=[],a=[],l=null,c=null,f=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=l,this.startAt=c,this.endAt=f,this.Te=null}}function sw(t,e=null,n=[],s=[],a=null,l=null,c=null){return new v3(t,e,n,s,a,l,c)}function y0(t){const e=De(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>ry(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(l){return l.field.canonicalString()+l.dir})(s))).join(","),Pd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>gl(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>gl(s))).join(",")),e.Te=n}return e.Te}function v0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!u3(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!tA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!iw(t.startAt,e.startAt)&&iw(t.endAt,e.endAt)}function ay(t){return be.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(e,n=null,s=[],a=[],l=null,c="F",f=null,m=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=l,this.limitType=c,this.startAt=f,this.endAt=m,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function _3(t,e,n,s,a,l,c,f){return new Mc(t,e,n,s,a,l,c,f)}function _0(t){return new Mc(t)}function rw(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function b3(t){return be.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function sA(t){return t.collectionGroup!==null}function Zu(t){const e=De(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),n.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let f=new Xt(fn.comparator);return c.filters.forEach((m=>{m.getFlattenedFilters().forEach((p=>{p.isInequality()&&(f=f.add(p.field))}))})),f})(e).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new hd(l,s))})),n.has(fn.keyField().canonicalString())||e.Ie.push(new hd(fn.keyField(),s))}return e.Ie}function cs(t){const e=De(t);return e.Ee||(e.Ee=x3(e,Zu(t))),e.Ee}function x3(t,e){if(t.limitType==="F")return sw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new hd(a.field,l)}));const n=t.endAt?new cd(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new cd(t.startAt.position,t.startAt.inclusive):null;return sw(t.path,t.collectionGroup,e,t.filters,t.limit,n,s)}}function oy(t,e){const n=t.filters.concat([e]);return new Mc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function ly(t,e,n){return new Mc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ud(t,e){return v0(cs(t),cs(e))&&t.limitType===e.limitType}function rA(t){return`${y0(cs(t))}|lt:${t.limitType}`}function Ko(t){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((a=>nA(a))).join(", ")}]`),Pd(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((a=>gl(a))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((a=>gl(a))).join(",")),`Target(${s})`})(cs(t))}; limitType=${t.limitType})`}function zd(t,e){return e.isFoundDocument()&&(function(s,a){const l=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):be.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)})(t,e)&&(function(s,a){for(const l of Zu(s))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(t,e)&&(function(s,a){for(const l of s.filters)if(!l.matches(a))return!1;return!0})(t,e)&&(function(s,a){return!(s.startAt&&!(function(c,f,m){const p=nw(c,f,m);return c.inclusive?p<=0:p<0})(s.startAt,Zu(s),a)||s.endAt&&!(function(c,f,m){const p=nw(c,f,m);return c.inclusive?p>=0:p>0})(s.endAt,Zu(s),a))})(t,e)}function w3(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function aA(t){return(e,n)=>{let s=!1;for(const a of Zu(t)){const l=T3(a,e,n);if(l!==0)return l;s=s||a.field.isKeyField()}return 0}}function T3(t,e,n){const s=t.field.isKeyField()?be.comparator(e.key,n.key):(function(l,c,f){const m=c.data.field(l),p=f.data.field(l);return m!==null&&p!==null?pl(m,p):Ae(42886)})(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return Ae(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[a,l]of s)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[n]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){sa(this.inner,((n,s)=>{for(const[a,l]of s)e(a,l)}))}isEmpty(){return HS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E3=new xt(be.comparator);function Qs(){return E3}const oA=new xt(be.comparator);function Gu(...t){let e=oA;for(const n of t)e=e.insert(n.key,n);return e}function lA(t){let e=oA;return t.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function Ua(){return ec()}function uA(){return ec()}function ec(){return new eo((t=>t.toString()),((t,e)=>t.isEqual(e)))}const S3=new xt(be.comparator),A3=new Xt(be.comparator);function Ge(...t){let e=A3;for(const n of t)e=e.add(n);return e}const R3=new Xt(qe);function C3(){return R3}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b0(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:od(e)?"-0":e}}function cA(t){return{integerValue:""+t}}function N3(t,e){return e3(e)?cA(e):b0(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd{constructor(){this._=void 0}}function I3(t,e,n){return t instanceof fd?(function(a,l){const c={fields:{[$S]:{stringValue:GS},[YS]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&p0(l)&&(l=Ld(l)),l&&(c.fields[KS]=l),{mapValue:c}})(n,e):t instanceof gc?fA(t,e):t instanceof yc?dA(t,e):(function(a,l){const c=hA(a,l),f=aw(c)+aw(a.Ae);return sy(c)&&sy(a.Ae)?cA(f):b0(a.serializer,f)})(t,e)}function D3(t,e,n){return t instanceof gc?fA(t,e):t instanceof yc?dA(t,e):n}function hA(t,e){return t instanceof dd?(function(s){return sy(s)||(function(l){return!!l&&"doubleValue"in l})(s)})(e)?e:{integerValue:0}:null}class fd extends Bd{}class gc extends Bd{constructor(e){super(),this.elements=e}}function fA(t,e){const n=mA(e);for(const s of t.elements)n.some((a=>ps(a,s)))||n.push(s);return{arrayValue:{values:n}}}class yc extends Bd{constructor(e){super(),this.elements=e}}function dA(t,e){let n=mA(e);for(const s of t.elements)n=n.filter((a=>!ps(a,s)));return{arrayValue:{values:n}}}class dd extends Bd{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function aw(t){return Vt(t.integerValue||t.doubleValue)}function mA(t){return g0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function k3(t,e){return t.field.isEqual(e.field)&&(function(s,a){return s instanceof gc&&a instanceof gc||s instanceof yc&&a instanceof yc?ml(s.elements,a.elements,ps):s instanceof dd&&a instanceof dd?ps(s.Ae,a.Ae):s instanceof fd&&a instanceof fd})(t.transform,e.transform)}class M3{constructor(e,n){this.version=e,this.transformResults=n}}class di{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new di}static exists(e){return new di(void 0,e)}static updateTime(e){return new di(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Hf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Fd{}function pA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new x0(t.key,di.none()):new Vc(t.key,t.data,di.none());{const n=t.data,s=Mn.empty();let a=new Xt(fn.comparator);for(let l of e.fields)if(!a.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?s.delete(l):s.set(l,c),a=a.add(l)}return new ra(t.key,s,new Gn(a.toArray()),di.none())}}function V3(t,e,n){t instanceof Vc?(function(a,l,c){const f=a.value.clone(),m=lw(a.fieldTransforms,l,c.transformResults);f.setAll(m),l.convertToFoundDocument(c.version,f).setHasCommittedMutations()})(t,e,n):t instanceof ra?(function(a,l,c){if(!Hf(a.precondition,l))return void l.convertToUnknownDocument(c.version);const f=lw(a.fieldTransforms,l,c.transformResults),m=l.data;m.setAll(gA(a)),m.setAll(f),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()})(t,e,n):(function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,n)}function tc(t,e,n,s){return t instanceof Vc?(function(l,c,f,m){if(!Hf(l.precondition,c))return f;const p=l.value.clone(),v=uw(l.fieldTransforms,m,c);return p.setAll(v),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null})(t,e,n,s):t instanceof ra?(function(l,c,f,m){if(!Hf(l.precondition,c))return f;const p=uw(l.fieldTransforms,m,c),v=c.data;return v.setAll(gA(l)),v.setAll(p),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((_=>_.field)))})(t,e,n,s):(function(l,c,f){return Hf(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):f})(t,e,n)}function O3(t,e){let n=null;for(const s of t.fieldTransforms){const a=e.data.field(s.field),l=hA(s.transform,a||null);l!=null&&(n===null&&(n=Mn.empty()),n.set(s.field,l))}return n||null}function ow(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&ml(s,a,((l,c)=>k3(l,c)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Vc extends Fd{constructor(e,n,s,a=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class ra extends Fd{constructor(e,n,s,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function gA(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}})),e}function lw(t,e,n){const s=new Map;tt(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let a=0;a<n.length;a++){const l=t[a],c=l.transform,f=e.data.field(l.field);s.set(l.field,D3(c,f,n[a]))}return s}function uw(t,e,n){const s=new Map;for(const a of t){const l=a.transform,c=n.data.field(a.field);s.set(a.field,I3(l,c,e))}return s}class x0 extends Fd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class j3 extends Fd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P3{constructor(e,n,s,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&V3(l,e,s[a])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=tc(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=tc(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=uA();return this.mutations.forEach((a=>{const l=e.get(a.key),c=l.overlayedDocument;let f=this.applyToLocalView(c,l.mutatedFields);f=n.has(a.key)?null:f;const m=pA(c,f);m!==null&&s.set(a.key,m),c.isValidDocument()||c.convertToNoDocument(Ne.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ge())}isEqual(e){return this.batchId===e.batchId&&ml(this.mutations,e.mutations,((n,s)=>ow(n,s)))&&ml(this.baseMutations,e.baseMutations,((n,s)=>ow(n,s)))}}class w0{constructor(e,n,s,a){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=a}static from(e,n,s){tt(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let a=(function(){return S3})();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,s[c].version);return new w0(e,n,s,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L3{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U3{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qt,Ye;function z3(t){switch(t){case ie.OK:return Ae(64938);case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0;default:return Ae(15467,{code:t})}}function yA(t){if(t===void 0)return Ys("GRPC error has no .code"),ie.UNKNOWN;switch(t){case qt.OK:return ie.OK;case qt.CANCELLED:return ie.CANCELLED;case qt.UNKNOWN:return ie.UNKNOWN;case qt.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case qt.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case qt.INTERNAL:return ie.INTERNAL;case qt.UNAVAILABLE:return ie.UNAVAILABLE;case qt.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case qt.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case qt.NOT_FOUND:return ie.NOT_FOUND;case qt.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case qt.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case qt.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case qt.ABORTED:return ie.ABORTED;case qt.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case qt.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case qt.DATA_LOSS:return ie.DATA_LOSS;default:return Ae(39323,{code:t})}}(Ye=qt||(qt={}))[Ye.OK=0]="OK",Ye[Ye.CANCELLED=1]="CANCELLED",Ye[Ye.UNKNOWN=2]="UNKNOWN",Ye[Ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ye[Ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ye[Ye.NOT_FOUND=5]="NOT_FOUND",Ye[Ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ye[Ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ye[Ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ye[Ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ye[Ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ye[Ye.ABORTED=10]="ABORTED",Ye[Ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ye[Ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ye[Ye.INTERNAL=13]="INTERNAL",Ye[Ye.UNAVAILABLE=14]="UNAVAILABLE",Ye[Ye.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B3(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F3=new Gr([4294967295,4294967295],0);function cw(t){const e=B3().encode(t),n=new kS;return n.update(e),new Uint8Array(n.digest())}function hw(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Gr([n,s],0),new Gr([a,l],0)]}class T0{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new $u(`Invalid padding: ${n}`);if(s<0)throw new $u(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new $u(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new $u(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Gr.fromNumber(this.ge)}ye(e,n,s){let a=e.add(n.multiply(Gr.fromNumber(s)));return a.compare(F3)===1&&(a=new Gr([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=cw(e),[s,a]=hw(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,a,l);if(!this.we(c))return!1}return!0}static create(e,n,s){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new T0(l,a,n);return s.forEach((f=>c.insert(f))),c}insert(e){if(this.ge===0)return;const n=cw(e),[s,a]=hw(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,a,l);this.be(c)}}be(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class $u extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd{constructor(e,n,s,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const a=new Map;return a.set(e,Oc.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Hd(Ne.min(),a,new xt(qe),Qs(),Ge())}}class Oc{constructor(e,n,s,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Oc(s,n,Ge(),Ge(),Ge())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qf{constructor(e,n,s,a){this.Se=e,this.removedTargetIds=n,this.key=s,this.De=a}}class vA{constructor(e,n){this.targetId=e,this.Ce=n}}class _A{constructor(e,n,s=dn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=a}}class fw{constructor(){this.ve=0,this.Fe=dw(),this.Me=dn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ge(),n=Ge(),s=Ge();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:Ae(38017,{changeType:l})}})),new Oc(this.Me,this.xe,e,n,s)}Ke(){this.Oe=!1,this.Fe=dw()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,tt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class H3{constructor(e){this.Ge=e,this.ze=new Map,this.je=Qs(),this.He=Ef(),this.Je=Ef(),this.Ze=new xt(qe)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(e.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.Qe(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Ae(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,s=e.Ce.count,a=this.ot(n);if(a){const l=a.target;if(ay(l))if(s===0){const c=new be(l.path);this.et(n,c,yn.newNoDocument(c,Ne.min()))}else tt(s===1,20013,{expectedCount:s});else{const c=this._t(n);if(c!==s){const f=this.ut(e),m=f?this.ct(f,e,c):1;if(m!==0){this.it(n);const p=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:l=0}=n;let c,f;try{c=Xr(s).toUint8Array()}catch(m){if(m instanceof qS)return dl("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{f=new T0(c,a,l)}catch(m){return dl(m instanceof $u?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return f.ge===0?null:f}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let a=0;return s.forEach((l=>{const c=this.Ge.ht(),f=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.et(n,l,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((l,c)=>{const f=this.ot(c);if(f){if(l.current&&ay(f.target)){const m=new be(f.target.path);this.It(m).has(c)||this.Et(c,m)||this.et(c,m,yn.newNoDocument(m,e))}l.Be&&(n.set(c,l.ke()),l.Ke())}}));let s=Ge();this.Je.forEach(((l,c)=>{let f=!0;c.forEachWhile((m=>{const p=this.ot(m);return!p||p.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)})),f&&(s=s.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(e)));const a=new Hd(e,n,this.Ze,this.je,s);return this.je=Qs(),this.He=Ef(),this.Je=Ef(),this.Ze=new xt(qe),a}Ye(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,s),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.qe(n,1):a.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new fw,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new Xt(qe),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new Xt(qe),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||pe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new fw),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Ef(){return new xt(be.comparator)}function dw(){return new xt(be.comparator)}const q3={asc:"ASCENDING",desc:"DESCENDING"},G3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},$3={and:"AND",or:"OR"};class K3{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function uy(t,e){return t.useProto3Json||Pd(e)?e:{value:e}}function md(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function bA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Y3(t,e){return md(t,e.toTimestamp())}function hs(t){return tt(!!t,49232),Ne.fromTimestamp((function(n){const s=Qr(n);return new pt(s.seconds,s.nanos)})(t))}function E0(t,e){return cy(t,e).canonicalString()}function cy(t,e){const n=(function(a){return new ft(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function xA(t){const e=ft.fromString(t);return tt(AA(e),10190,{key:e.toString()}),e}function hy(t,e){return E0(t.databaseId,e.path)}function vg(t,e){const n=xA(e);if(n.get(1)!==t.databaseId.projectId)throw new fe(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new fe(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new be(TA(n))}function wA(t,e){return E0(t.databaseId,e)}function Q3(t){const e=xA(t);return e.length===4?ft.emptyPath():TA(e)}function fy(t){return new ft(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function TA(t){return tt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function mw(t,e,n){return{name:hy(t,e),fields:n.value.mapValue.fields}}function X3(t,e){let n;if("targetChange"in e){e.targetChange;const s=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Ae(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(p,v){return p.useProto3Json?(tt(v===void 0||typeof v=="string",58123),dn.fromBase64String(v||"")):(tt(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),dn.fromUint8Array(v||new Uint8Array))})(t,e.targetChange.resumeToken),c=e.targetChange.cause,f=c&&(function(p){const v=p.code===void 0?ie.UNKNOWN:yA(p.code);return new fe(v,p.message||"")})(c);n=new _A(s,a,l,f||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=vg(t,s.document.name),l=hs(s.document.updateTime),c=s.document.createTime?hs(s.document.createTime):Ne.min(),f=new Mn({mapValue:{fields:s.document.fields}}),m=yn.newFoundDocument(a,l,c,f),p=s.targetIds||[],v=s.removedTargetIds||[];n=new qf(p,v,m.key,m)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=vg(t,s.document),l=s.readTime?hs(s.readTime):Ne.min(),c=yn.newNoDocument(a,l),f=s.removedTargetIds||[];n=new qf([],f,c.key,c)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=vg(t,s.document),l=s.removedTargetIds||[];n=new qf([],l,a,null)}else{if(!("filter"in e))return Ae(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:l}=s,c=new U3(a,l),f=s.targetId;n=new vA(f,c)}}return n}function W3(t,e){let n;if(e instanceof Vc)n={update:mw(t,e.key,e.value)};else if(e instanceof x0)n={delete:hy(t,e.key)};else if(e instanceof ra)n={update:mw(t,e.key,e.data),updateMask:a5(e.fieldMask)};else{if(!(e instanceof j3))return Ae(16599,{dt:e.type});n={verify:hy(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(l,c){const f=c.transform;if(f instanceof fd)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof gc)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof yc)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof dd)return{fieldPath:c.field.canonicalString(),increment:f.Ae};throw Ae(20930,{transform:c.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:Y3(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ae(27497)})(t,e.precondition)),n}function J3(t,e){return t&&t.length>0?(tt(e!==void 0,14353),t.map((n=>(function(a,l){let c=a.updateTime?hs(a.updateTime):hs(l);return c.isEqual(Ne.min())&&(c=hs(l)),new M3(c,a.transformResults||[])})(n,e)))):[]}function Z3(t,e){return{documents:[wA(t,e.path)]}}function e5(t,e){const n={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=wA(t,a);const l=(function(p){if(p.length!==0)return SA(Vi.create(p,"and"))})(e.filters);l&&(n.structuredQuery.where=l);const c=(function(p){if(p.length!==0)return p.map((v=>(function(w){return{field:Yo(w.field),direction:i5(w.dir)}})(v)))})(e.orderBy);c&&(n.structuredQuery.orderBy=c);const f=uy(t,e.limit);return f!==null&&(n.structuredQuery.limit=f),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:a}}function t5(t){let e=Q3(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){tt(s===1,65062);const v=n.from[0];v.allDescendants?a=v.collectionId:e=e.child(v.collectionId)}let l=[];n.where&&(l=(function(_){const w=EA(_);return w instanceof Vi&&eA(w)?w.getFilters():[w]})(n.where));let c=[];n.orderBy&&(c=(function(_){return _.map((w=>(function(N){return new hd(Qo(N.field),(function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(N.direction))})(w)))})(n.orderBy));let f=null;n.limit&&(f=(function(_){let w;return w=typeof _=="object"?_.value:_,Pd(w)?null:w})(n.limit));let m=null;n.startAt&&(m=(function(_){const w=!!_.before,S=_.values||[];return new cd(S,w)})(n.startAt));let p=null;return n.endAt&&(p=(function(_){const w=!_.before,S=_.values||[];return new cd(S,w)})(n.endAt)),_3(e,a,c,l,f,"F",m,p)}function n5(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ae(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function EA(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Qo(n.unaryFilter.field);return $t.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=Qo(n.unaryFilter.field);return $t.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Qo(n.unaryFilter.field);return $t.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Qo(n.unaryFilter.field);return $t.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ae(61313);default:return Ae(60726)}})(t):t.fieldFilter!==void 0?(function(n){return $t.create(Qo(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ae(58110);default:return Ae(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Vi.create(n.compositeFilter.filters.map((s=>EA(s))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Ae(1026)}})(n.compositeFilter.op))})(t):Ae(30097,{filter:t})}function i5(t){return q3[t]}function s5(t){return G3[t]}function r5(t){return $3[t]}function Yo(t){return{fieldPath:t.canonicalString()}}function Qo(t){return fn.fromServerFormat(t.fieldPath)}function SA(t){return t instanceof $t?(function(n){if(n.op==="=="){if(tw(n.value))return{unaryFilter:{field:Yo(n.field),op:"IS_NAN"}};if(ew(n.value))return{unaryFilter:{field:Yo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(tw(n.value))return{unaryFilter:{field:Yo(n.field),op:"IS_NOT_NAN"}};if(ew(n.value))return{unaryFilter:{field:Yo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Yo(n.field),op:s5(n.op),value:n.value}}})(t):t instanceof Vi?(function(n){const s=n.getFilters().map((a=>SA(a)));return s.length===1?s[0]:{compositeFilter:{op:r5(n.op),filters:s}}})(t):Ae(54877,{filter:t})}function a5(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function AA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function RA(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br{constructor(e,n,s,a,l=Ne.min(),c=Ne.min(),f=dn.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=f,this.expectedCount=m}withSequenceNumber(e){return new Br(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Br(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Br(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Br(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o5{constructor(e){this.yt=e}}function l5(t){const e=t5({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ly(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u5{constructor(){this.Sn=new c5}addToCollectionParentIndex(e,n){return this.Sn.add(n),se.resolve()}getCollectionParents(e,n){return se.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return se.resolve()}deleteFieldIndex(e,n){return se.resolve()}deleteAllFieldIndexes(e){return se.resolve()}createTargetIndexes(e,n){return se.resolve()}getDocumentsMatchingTarget(e,n){return se.resolve(null)}getIndexType(e,n){return se.resolve(0)}getFieldIndexes(e,n){return se.resolve([])}getNextCollectionGroupToUpdate(e){return se.resolve(null)}getMinOffset(e,n){return se.resolve(Yr.min())}getMinOffsetFromCollectionGroup(e,n){return se.resolve(Yr.min())}updateCollectionGroup(e,n,s){return se.resolve()}updateIndexEntries(e,n){return se.resolve()}}class c5{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n]||new Xt(ft.comparator),l=!a.has(s);return this.index[n]=a.add(s),l}has(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(e){return(this.index[e]||new Xt(ft.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},CA=41943040;class kn{static withCacheSize(e){return new kn(e,kn.DEFAULT_COLLECTION_PERCENTILE,kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */kn.DEFAULT_COLLECTION_PERCENTILE=10,kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,kn.DEFAULT=new kn(CA,kn.DEFAULT_COLLECTION_PERCENTILE,kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),kn.DISABLED=new kn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new yl(0)}static ar(){return new yl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gw="LruGarbageCollector",h5=1048576;function yw([t,e],[n,s]){const a=qe(t,n);return a===0?qe(e,s):a}class f5{constructor(e){this.Pr=e,this.buffer=new Xt(yw),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();yw(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class d5{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){pe(gw,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Cl(n)?pe(gw,"Ignoring IndexedDB error during garbage collection: ",n):await Rl(n)}await this.Ar(3e5)}))}}class m5{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return se.resolve(jd.ce);const s=new f5(n);return this.Vr.forEachTarget(e,(a=>s.Er(a.sequenceNumber))).next((()=>this.Vr.mr(e,(a=>s.Er(a))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.Vr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(pe("LruGarbageCollector","Garbage collection skipped; disabled"),se.resolve(pw)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),pw):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let s,a,l,c,f,m,p;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((_=>(_>this.params.maximumSequenceNumbersToCollect?(pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),a=this.params.maximumSequenceNumbersToCollect):a=_,c=Date.now(),this.nthSequenceNumber(e,a)))).next((_=>(s=_,f=Date.now(),this.removeTargets(e,s,n)))).next((_=>(l=_,m=Date.now(),this.removeOrphanedDocuments(e,s)))).next((_=>(p=Date.now(),$o()<=He.DEBUG&&pe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${a} in `+(f-c)+`ms
	Removed ${l} targets in `+(m-f)+`ms
	Removed ${_} documents in `+(p-m)+`ms
Total Duration: ${p-v}ms`),se.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:_}))))}}function p5(t,e){return new m5(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g5{constructor(){this.changes=new eo((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,yn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?se.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y5{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v5{constructor(e,n,s,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(s=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(s!==null&&tc(s.mutation,a,Gn.empty(),pt.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Ge()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Ge()){const a=Ua();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,s).next((l=>{let c=Gu();return l.forEach(((f,m)=>{c=c.insert(f,m.overlayedDocument)})),c}))))}getOverlayedDocuments(e,n){const s=Ua();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Ge())))}populateOverlays(e,n,s){const a=[];return s.forEach((l=>{n.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((c,f)=>{n.set(c,f)}))}))}computeViews(e,n,s,a){let l=Qs();const c=ec(),f=(function(){return ec()})();return n.forEach(((m,p)=>{const v=s.get(p.key);a.has(p.key)&&(v===void 0||v.mutation instanceof ra)?l=l.insert(p.key,p):v!==void 0?(c.set(p.key,v.mutation.getFieldMask()),tc(v.mutation,p,v.mutation.getFieldMask(),pt.now())):c.set(p.key,Gn.empty())})),this.recalculateAndSaveOverlays(e,l).next((m=>(m.forEach(((p,v)=>c.set(p,v))),n.forEach(((p,v)=>f.set(p,new y5(v,c.get(p)??null)))),f)))}recalculateAndSaveOverlays(e,n){const s=ec();let a=new xt(((c,f)=>c-f)),l=Ge();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((c=>{for(const f of c)f.keys().forEach((m=>{const p=n.get(m);if(p===null)return;let v=s.get(m)||Gn.empty();v=f.applyToLocalView(p,v),s.set(m,v);const _=(a.get(f.batchId)||Ge()).add(m);a=a.insert(f.batchId,_)}))})).next((()=>{const c=[],f=a.getReverseIterator();for(;f.hasNext();){const m=f.getNext(),p=m.key,v=m.value,_=uA();v.forEach((w=>{if(!l.has(w)){const S=pA(n.get(w),s.get(w));S!==null&&_.set(w,S),l=l.add(w)}})),c.push(this.documentOverlayCache.saveOverlays(e,p,_))}return se.waitFor(c)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,a){return b3(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):sA(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,a):this.getDocumentsMatchingCollectionQuery(e,n,s,a)}getNextDocuments(e,n,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,a).next((l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,a-l.size):se.resolve(Ua());let f=fc,m=l;return c.next((p=>se.forEach(p,((v,_)=>(f<_.largestBatchId&&(f=_.largestBatchId),l.get(v)?se.resolve():this.remoteDocumentCache.getEntry(e,v).next((w=>{m=m.insert(v,w)}))))).next((()=>this.populateOverlays(e,p,l))).next((()=>this.computeViews(e,m,p,Ge()))).next((v=>({batchId:f,changes:lA(v)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new be(n)).next((s=>{let a=Gu();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,a){const l=n.collectionGroup;let c=Gu();return this.indexManager.getCollectionParents(e,l).next((f=>se.forEach(f,(m=>{const p=(function(_,w){return new Mc(w,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)})(n,m.child(l));return this.getDocumentsMatchingCollectionQuery(e,p,s,a).next((v=>{v.forEach(((_,w)=>{c=c.insert(_,w)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,n,s,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,l,a)))).next((c=>{l.forEach(((m,p)=>{const v=p.getKey();c.get(v)===null&&(c=c.insert(v,yn.newInvalidDocument(v)))}));let f=Gu();return c.forEach(((m,p)=>{const v=l.get(m);v!==void 0&&tc(v.mutation,p,Gn.empty(),pt.now()),zd(n,p)&&(f=f.insert(m,p))})),f}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _5{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return se.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:hs(a.createTime)}})(n)),se.resolve()}getNamedQuery(e,n){return se.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(a){return{name:a.name,query:l5(a.bundledQuery),readTime:hs(a.readTime)}})(n)),se.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b5{constructor(){this.overlays=new xt(be.comparator),this.Lr=new Map}getOverlay(e,n){return se.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Ua();return se.forEach(n,(a=>this.getOverlay(e,a).next((l=>{l!==null&&s.set(a,l)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((a,l)=>{this.bt(e,n,l)})),se.resolve()}removeOverlaysForBatchId(e,n,s){const a=this.Lr.get(s);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.Lr.delete(s)),se.resolve()}getOverlaysForCollection(e,n,s){const a=Ua(),l=n.length+1,c=new be(n.child("")),f=this.overlays.getIteratorFrom(c);for(;f.hasNext();){const m=f.getNext().value,p=m.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===l&&m.largestBatchId>s&&a.set(m.getKey(),m)}return se.resolve(a)}getOverlaysForCollectionGroup(e,n,s,a){let l=new xt(((p,v)=>p-v));const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>s){let v=l.get(p.largestBatchId);v===null&&(v=Ua(),l=l.insert(p.largestBatchId,v)),v.set(p.getKey(),p)}}const f=Ua(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((p,v)=>f.set(p,v))),!(f.size()>=a)););return se.resolve(f)}bt(e,n,s){const a=this.overlays.get(s.key);if(a!==null){const c=this.Lr.get(a.largestBatchId).delete(s.key);this.Lr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new L3(n,s));let l=this.Lr.get(n);l===void 0&&(l=Ge(),this.Lr.set(n,l)),this.Lr.set(n,l.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x5{constructor(){this.sessionToken=dn.EMPTY_BYTE_STRING}getSessionToken(e){return se.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,se.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S0{constructor(){this.kr=new Xt(nn.Kr),this.qr=new Xt(nn.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const s=new nn(e,n);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Wr(new nn(e,n))}Qr(e,n){e.forEach((s=>this.removeReference(s,n)))}Gr(e){const n=new be(new ft([])),s=new nn(n,e),a=new nn(n,e+1),l=[];return this.qr.forEachInRange([s,a],(c=>{this.Wr(c),l.push(c.key)})),l}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new be(new ft([])),s=new nn(n,e),a=new nn(n,e+1);let l=Ge();return this.qr.forEachInRange([s,a],(c=>{l=l.add(c.key)})),l}containsKey(e){const n=new nn(e,0),s=this.kr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class nn{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return be.comparator(e.key,n.key)||qe(e.Hr,n.Hr)}static Ur(e,n){return qe(e.Hr,n.Hr)||be.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w5{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Xt(nn.Kr)}checkEmpty(e){return se.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,a){const l=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new P3(l,n,s,a);this.mutationQueue.push(c);for(const f of a)this.Jr=this.Jr.add(new nn(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return se.resolve(c)}lookupMutationBatch(e,n){return se.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,a=this.Xr(s),l=a<0?0:a;return se.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return se.resolve(this.mutationQueue.length===0?m0:this.Yn-1)}getAllMutationBatches(e){return se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new nn(n,0),a=new nn(n,Number.POSITIVE_INFINITY),l=[];return this.Jr.forEachInRange([s,a],(c=>{const f=this.Zr(c.Hr);l.push(f)})),se.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Xt(qe);return n.forEach((a=>{const l=new nn(a,0),c=new nn(a,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([l,c],(f=>{s=s.add(f.Hr)}))})),se.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,a=s.length+1;let l=s;be.isDocumentKey(l)||(l=l.child(""));const c=new nn(new be(l),0);let f=new Xt(qe);return this.Jr.forEachWhile((m=>{const p=m.key.path;return!!s.isPrefixOf(p)&&(p.length===a&&(f=f.add(m.Hr)),!0)}),c),se.resolve(this.Yr(f))}Yr(e){const n=[];return e.forEach((s=>{const a=this.Zr(s);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){tt(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return se.forEach(n.mutations,(a=>{const l=new nn(a.key,n.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Jr=s}))}nr(e){}containsKey(e,n){const s=new nn(n,0),a=this.Jr.firstAfterOrEqual(s);return se.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,se.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T5{constructor(e){this.ti=e,this.docs=(function(){return new xt(be.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,a=this.docs.get(s),l=a?a.size:0,c=this.ti(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return se.resolve(s?s.document.mutableCopy():yn.newInvalidDocument(n))}getEntries(e,n){let s=Qs();return n.forEach((a=>{const l=this.docs.get(a);s=s.insert(a,l?l.document.mutableCopy():yn.newInvalidDocument(a))})),se.resolve(s)}getDocumentsMatchingQuery(e,n,s,a){let l=Qs();const c=n.path,f=new be(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(f);for(;m.hasNext();){const{key:p,value:{document:v}}=m.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||XV(QV(v),s)<=0||(a.has(v.key)||zd(n,v))&&(l=l.insert(v.key,v.mutableCopy()))}return se.resolve(l)}getAllFromCollectionGroup(e,n,s,a){Ae(9500)}ni(e,n){return se.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new E5(this)}getSize(e){return se.resolve(this.size)}}class E5 extends g5{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,a)=>{a.isValidDocument()?n.push(this.Mr.addEntry(e,a)):this.Mr.removeEntry(s)})),se.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S5{constructor(e){this.persistence=e,this.ri=new eo((n=>y0(n)),v0),this.lastRemoteSnapshotVersion=Ne.min(),this.highestTargetId=0,this.ii=0,this.si=new S0,this.targetCount=0,this.oi=yl._r()}forEachTarget(e,n){return this.ri.forEach(((s,a)=>n(a))),se.resolve()}getLastRemoteSnapshotVersion(e){return se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return se.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),se.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.ii&&(this.ii=n),se.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new yl(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,se.resolve()}updateTargetData(e,n){return this.lr(n),se.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,se.resolve()}removeTargets(e,n,s){let a=0;const l=[];return this.ri.forEach(((c,f)=>{f.sequenceNumber<=n&&s.get(f.targetId)===null&&(this.ri.delete(c),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),a++)})),se.waitFor(l).next((()=>a))}getTargetCount(e){return se.resolve(this.targetCount)}getTargetData(e,n){const s=this.ri.get(n)||null;return se.resolve(s)}addMatchingKeys(e,n,s){return this.si.$r(n,s),se.resolve()}removeMatchingKeys(e,n,s){this.si.Qr(n,s);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach((c=>{l.push(a.markPotentiallyOrphaned(e,c))})),se.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),se.resolve()}getMatchingKeysForTargetId(e,n){const s=this.si.jr(n);return se.resolve(s)}containsKey(e,n){return se.resolve(this.si.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NA{constructor(e,n){this._i={},this.overlays={},this.ai=new jd(0),this.ui=!1,this.ui=!0,this.ci=new x5,this.referenceDelegate=e(this),this.li=new S5(this),this.indexManager=new u5,this.remoteDocumentCache=(function(a){return new T5(a)})((s=>this.referenceDelegate.hi(s))),this.serializer=new o5(n),this.Pi=new _5(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new b5,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this._i[e.toKey()];return s||(s=new w5(n,this.referenceDelegate),this._i[e.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,s){pe("MemoryPersistence","Starting transaction:",e);const a=new A5(this.ai.next());return this.referenceDelegate.Ti(),s(a).next((l=>this.referenceDelegate.Ii(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ei(e,n){return se.or(Object.values(this._i).map((s=>()=>s.containsKey(e,n))))}}class A5 extends JV{constructor(e){super(),this.currentSequenceNumber=e}}class A0{constructor(e){this.persistence=e,this.Ri=new S0,this.Ai=null}static Vi(e){return new A0(e)}get di(){if(this.Ai)return this.Ai;throw Ae(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.di.delete(s.toString()),se.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.di.add(s.toString()),se.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),se.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((a=>this.di.add(a.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((l=>this.di.add(l.toString())))})).next((()=>s.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return se.forEach(this.di,(s=>{const a=be.fromPath(s);return this.mi(e,a).next((l=>{l||n.removeEntry(a,Ne.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((s=>{s?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return se.or([()=>se.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class pd{constructor(e,n){this.persistence=e,this.fi=new eo((s=>t3(s.path)),((s,a)=>s.isEqual(a))),this.garbageCollector=p5(this,n)}static Vi(e,n){return new pd(e,n)}Ti(){}Ii(e){return se.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((a=>s+a))))}pr(e){let n=0;return this.mr(e,(s=>{n++})).next((()=>n))}mr(e,n){return se.forEach(this.fi,((s,a)=>this.wr(e,s,a).next((l=>l?se.resolve():n(a)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ni(e,(c=>this.wr(e,c,n).next((f=>{f||(s++,l.removeEntry(c,Ne.min()))})))).next((()=>l.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),se.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),se.resolve()}removeReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),se.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),se.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Bf(e.data.value)),n}wr(e,n,s){return se.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.fi.get(n);return se.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R0{constructor(e,n,s,a){this.targetId=e,this.fromCache=n,this.Ts=s,this.Is=a}static Es(e,n){let s=Ge(),a=Ge();for(const l of n.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new R0(e,n.fromCache,s,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R5{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C5{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return d4()?8:ZV(vn())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,a){const l={result:null};return this.gs(e,n).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ps(e,n,a,s).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new R5;return this.ys(e,n,c).next((f=>{if(l.result=f,this.As)return this.ws(e,n,c,f.size)}))})).next((()=>l.result))}ws(e,n,s,a){return s.documentReadCount<this.Vs?($o()<=He.DEBUG&&pe("QueryEngine","SDK will not create cache indexes for query:",Ko(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),se.resolve()):($o()<=He.DEBUG&&pe("QueryEngine","Query:",Ko(n),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.ds*a?($o()<=He.DEBUG&&pe("QueryEngine","The SDK decides to create cache indexes for query:",Ko(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,cs(n))):se.resolve())}gs(e,n){if(rw(n))return se.resolve(null);let s=cs(n);return this.indexManager.getIndexType(e,s).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=ly(n,null,"F"),s=cs(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((l=>{const c=Ge(...l);return this.fs.getDocuments(e,c).next((f=>this.indexManager.getMinOffset(e,s).next((m=>{const p=this.bs(n,f);return this.Ss(n,p,c,m.readTime)?this.gs(e,ly(n,null,"F")):this.Ds(e,p,n,m)}))))})))))}ps(e,n,s,a){return rw(n)||a.isEqual(Ne.min())?se.resolve(null):this.fs.getDocuments(e,s).next((l=>{const c=this.bs(n,l);return this.Ss(n,c,s,a)?se.resolve(null):($o()<=He.DEBUG&&pe("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Ko(n)),this.Ds(e,c,n,YV(a,fc)).next((f=>f)))}))}bs(e,n){let s=new Xt(aA(e));return n.forEach(((a,l)=>{zd(e,l)&&(s=s.add(l))})),s}Ss(e,n,s,a){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}ys(e,n,s){return $o()<=He.DEBUG&&pe("QueryEngine","Using full collection scan to execute query:",Ko(n)),this.fs.getDocumentsMatchingQuery(e,n,Yr.min(),s)}Ds(e,n,s,a){return this.fs.getDocumentsMatchingQuery(e,s,a).next((l=>(n.forEach((c=>{l=l.insert(c.key,c)})),l)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C0="LocalStore",N5=3e8;class I5{constructor(e,n,s,a){this.persistence=e,this.Cs=n,this.serializer=a,this.vs=new xt(qe),this.Fs=new eo((l=>y0(l)),v0),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(s)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new v5(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function D5(t,e,n,s){return new I5(t,e,n,s)}async function IA(t,e){const n=De(t);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let a;return n.mutationQueue.getAllMutationBatches(s).next((l=>(a=l,n.Os(e),n.mutationQueue.getAllMutationBatches(s)))).next((l=>{const c=[],f=[];let m=Ge();for(const p of a){c.push(p.batchId);for(const v of p.mutations)m=m.add(v.key)}for(const p of l){f.push(p.batchId);for(const v of p.mutations)m=m.add(v.key)}return n.localDocuments.getDocuments(s,m).next((p=>({Ns:p,removedBatchIds:c,addedBatchIds:f})))}))}))}function k5(t,e){const n=De(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const a=e.batch.keys(),l=n.xs.newChangeBuffer({trackRemovals:!0});return(function(f,m,p,v){const _=p.batch,w=_.keys();let S=se.resolve();return w.forEach((N=>{S=S.next((()=>v.getEntry(m,N))).next((M=>{const O=p.docVersions.get(N);tt(O!==null,48541),M.version.compareTo(O)<0&&(_.applyToRemoteDocument(M,p),M.isValidDocument()&&(M.setReadTime(p.commitVersion),v.addEntry(M)))}))})),S.next((()=>f.mutationQueue.removeMutationBatch(m,_)))})(n,s,e,l).next((()=>l.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(f){let m=Ge();for(let p=0;p<f.mutationResults.length;++p)f.mutationResults[p].transformResults.length>0&&(m=m.add(f.batch.mutations[p].key));return m})(e)))).next((()=>n.localDocuments.getDocuments(s,a)))}))}function DA(t){const e=De(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function M5(t,e){const n=De(t),s=e.snapshotVersion;let a=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=n.xs.newChangeBuffer({trackRemovals:!0});a=n.vs;const f=[];e.targetChanges.forEach(((v,_)=>{const w=a.get(_);if(!w)return;f.push(n.li.removeMatchingKeys(l,v.removedDocuments,_).next((()=>n.li.addMatchingKeys(l,v.addedDocuments,_))));let S=w.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(_)!==null?S=S.withResumeToken(dn.EMPTY_BYTE_STRING,Ne.min()).withLastLimboFreeSnapshotVersion(Ne.min()):v.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(v.resumeToken,s)),a=a.insert(_,S),(function(M,O,B){return M.resumeToken.approximateByteSize()===0||O.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=N5?!0:B.addedDocuments.size+B.modifiedDocuments.size+B.removedDocuments.size>0})(w,S,v)&&f.push(n.li.updateTargetData(l,S))}));let m=Qs(),p=Ge();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&f.push(n.persistence.referenceDelegate.updateLimboDocument(l,v))})),f.push(V5(l,c,e.documentUpdates).next((v=>{m=v.Bs,p=v.Ls}))),!s.isEqual(Ne.min())){const v=n.li.getLastRemoteSnapshotVersion(l).next((_=>n.li.setTargetsMetadata(l,l.currentSequenceNumber,s)));f.push(v)}return se.waitFor(f).next((()=>c.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,m,p))).next((()=>m))})).then((l=>(n.vs=a,l)))}function V5(t,e,n){let s=Ge(),a=Ge();return n.forEach((l=>s=s.add(l))),e.getEntries(t,s).next((l=>{let c=Qs();return n.forEach(((f,m)=>{const p=l.get(f);m.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(f)),m.isNoDocument()&&m.version.isEqual(Ne.min())?(e.removeEntry(f,m.readTime),c=c.insert(f,m)):!p.isValidDocument()||m.version.compareTo(p.version)>0||m.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(m),c=c.insert(f,m)):pe(C0,"Ignoring outdated watch update for ",f,". Current version:",p.version," Watch version:",m.version)})),{Bs:c,Ls:a}}))}function O5(t,e){const n=De(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=m0),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function j5(t,e){const n=De(t);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let a;return n.li.getTargetData(s,e).next((l=>l?(a=l,se.resolve(a)):n.li.allocateTargetId(s).next((c=>(a=new Br(e,c,"TargetPurposeListen",s.currentSequenceNumber),n.li.addTargetData(s,a).next((()=>a)))))))})).then((s=>{const a=n.vs.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.vs=n.vs.insert(s.targetId,s),n.Fs.set(e,s.targetId)),s}))}async function dy(t,e,n){const s=De(t),a=s.vs.get(e),l=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",l,(c=>s.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!Cl(c))throw c;pe(C0,`Failed to update sequence numbers for target ${e}: ${c}`)}s.vs=s.vs.remove(e),s.Fs.delete(a.target)}function vw(t,e,n){const s=De(t);let a=Ne.min(),l=Ge();return s.persistence.runTransaction("Execute query","readwrite",(c=>(function(m,p,v){const _=De(m),w=_.Fs.get(v);return w!==void 0?se.resolve(_.vs.get(w)):_.li.getTargetData(p,v)})(s,c,cs(e)).next((f=>{if(f)return a=f.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(c,f.targetId).next((m=>{l=m}))})).next((()=>s.Cs.getDocumentsMatchingQuery(c,e,n?a:Ne.min(),n?l:Ge()))).next((f=>(P5(s,w3(e),f),{documents:f,ks:l})))))}function P5(t,e,n){let s=t.Ms.get(e)||Ne.min();n.forEach(((a,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)})),t.Ms.set(e,s)}class _w{constructor(){this.activeTargetIds=C3()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class L5{constructor(){this.vo=new _w,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,s){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new _w,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U5{Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bw="ConnectivityMonitor";class xw{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){pe(bw,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){pe(bw,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sf=null;function my(){return Sf===null?Sf=(function(){return 268435456+Math.round(2147483648*Math.random())})():Sf++,"0x"+Sf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _g="RestConnection",z5={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class B5{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${s}/databases/${a}`,this.$o=this.databaseId.database===ld?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Wo(e,n,s,a,l){const c=my(),f=this.Qo(e,n.toUriEncodedString());pe(_g,`Sending RPC '${e}' ${c}:`,f,s);const m={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(m,a,l);const{host:p}=new URL(f),v=ia(p);return this.zo(e,f,m,s,v).then((_=>(pe(_g,`Received RPC '${e}' ${c}: `,_),_)),(_=>{throw dl(_g,`RPC '${e}' ${c} failed with error: `,_,"url: ",f,"request:",s),_}))}jo(e,n,s,a,l,c){return this.Wo(e,n,s,a,l)}Go(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Al})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,l)=>e[l]=a)),s&&s.headers.forEach(((a,l)=>e[l]=a))}Qo(e,n){const s=z5[e];let a=`${this.qo}/v1/${n}:${s}`;return this.databaseInfo.apiKey&&(a=`${a}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),a}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F5{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pn="WebChannelConnection",Lu=(t,e,n)=>{t.listen(e,(s=>{try{n(s)}catch(a){setTimeout((()=>{throw a}),0)}}))};class al extends B5{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!al.c_){const e=jS();Lu(e,OS.STAT_EVENT,(n=>{n.stat===ty.PROXY?pe(pn,"STAT_EVENT: detected buffering proxy"):n.stat===ty.NOPROXY&&pe(pn,"STAT_EVENT: detected no buffering proxy")})),al.c_=!0}}zo(e,n,s,a,l){const c=my();return new Promise(((f,m)=>{const p=new MS;p.setWithCredentials(!0),p.listenOnce(VS.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case zf.NO_ERROR:const _=p.getResponseJson();pe(pn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(_)),f(_);break;case zf.TIMEOUT:pe(pn,`RPC '${e}' ${c} timed out`),m(new fe(ie.DEADLINE_EXCEEDED,"Request time out"));break;case zf.HTTP_ERROR:const w=p.getStatus();if(pe(pn,`RPC '${e}' ${c} failed with status:`,w,"response text:",p.getResponseText()),w>0){let S=p.getResponseJson();Array.isArray(S)&&(S=S[0]);const N=S==null?void 0:S.error;if(N&&N.status&&N.message){const M=(function(B){const G=B.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf(G)>=0?G:ie.UNKNOWN})(N.status);m(new fe(M,N.message))}else m(new fe(ie.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new fe(ie.UNAVAILABLE,"Connection failed."));break;default:Ae(9055,{l_:e,streamId:c,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{pe(pn,`RPC '${e}' ${c} completed.`)}}));const v=JSON.stringify(a);pe(pn,`RPC '${e}' ${c} sending request:`,a),p.send(n,"POST",v,s,15)}))}T_(e,n,s){const a=my(),l=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=this.createWebChannelTransport(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(f.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Go(f.initMessageHeaders,n,s),f.encodeInitMessageHeaders=!0;const p=l.join("");pe(pn,`Creating RPC '${e}' stream ${a}: ${p}`,f);const v=c.createWebChannel(p,f);this.I_(v);let _=!1,w=!1;const S=new F5({Ho:N=>{w?pe(pn,`Not sending because RPC '${e}' stream ${a} is closed:`,N):(_||(pe(pn,`Opening RPC '${e}' stream ${a} transport.`),v.open(),_=!0),pe(pn,`RPC '${e}' stream ${a} sending:`,N),v.send(N))},Jo:()=>v.close()});return Lu(v,qu.EventType.OPEN,(()=>{w||(pe(pn,`RPC '${e}' stream ${a} transport opened.`),S.i_())})),Lu(v,qu.EventType.CLOSE,(()=>{w||(w=!0,pe(pn,`RPC '${e}' stream ${a} transport closed`),S.o_(),this.E_(v))})),Lu(v,qu.EventType.ERROR,(N=>{w||(w=!0,dl(pn,`RPC '${e}' stream ${a} transport errored. Name:`,N.name,"Message:",N.message),S.o_(new fe(ie.UNAVAILABLE,"The operation could not be completed")))})),Lu(v,qu.EventType.MESSAGE,(N=>{var M;if(!w){const O=N.data[0];tt(!!O,16349);const B=O,G=(B==null?void 0:B.error)||((M=B[0])==null?void 0:M.error);if(G){pe(pn,`RPC '${e}' stream ${a} received error:`,G);const F=G.status;let oe=(function(C){const A=qt[C];if(A!==void 0)return yA(A)})(F),re=G.message;oe===void 0&&(oe=ie.INTERNAL,re="Unknown error status: "+F+" with message "+G.message),w=!0,S.o_(new fe(oe,re)),v.close()}else pe(pn,`RPC '${e}' stream ${a} received:`,O),S.__(O)}})),al.u_(),setTimeout((()=>{S.s_()}),0),S}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,s){super.Go(e,n,s),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return PS()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H5(t){return new al(t)}function bg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qd(t){return new K3(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */al.c_=!1;class kA{constructor(e,n,s=1e3,a=1.5,l=6e4){this.Ci=e,this.timerId=n,this.R_=s,this.A_=a,this.V_=l,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-s);a>0&&pe("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ww="PersistentStream";class MA{constructor(e,n,s,a,l,c,f,m){this.Ci=e,this.b_=s,this.S_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=f,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new kA(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ie.RESOURCE_EXHAUSTED?(Ys(n.toString()),Ys("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,a])=>{this.D_===n&&this.G_(s,a)}),(s=>{e((()=>{const a=new fe(ie.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(a)}))}))}G_(e,n){const s=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((a=>{s((()=>this.z_(a)))})),this.stream.onMessage((a=>{s((()=>++this.F_==1?this.H_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return pe(ww,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(pe(ww,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class q5 extends MA{constructor(e,n,s,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,a,c),this.serializer=l}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=X3(this.serializer,e),s=(function(l){if(!("targetChange"in l))return Ne.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Ne.min():c.readTime?hs(c.readTime):Ne.min()})(e);return this.listener.J_(n,s)}Z_(e){const n={};n.database=fy(this.serializer),n.addTarget=(function(l,c){let f;const m=c.target;if(f=ay(m)?{documents:Z3(l,m)}:{query:e5(l,m).ft},f.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){f.resumeToken=bA(l,c.resumeToken);const p=uy(l,c.expectedCount);p!==null&&(f.expectedCount=p)}else if(c.snapshotVersion.compareTo(Ne.min())>0){f.readTime=md(l,c.snapshotVersion.toTimestamp());const p=uy(l,c.expectedCount);p!==null&&(f.expectedCount=p)}return f})(this.serializer,e);const s=n5(this.serializer,e);s&&(n.labels=s),this.K_(n)}X_(e){const n={};n.database=fy(this.serializer),n.removeTarget=e,this.K_(n)}}class G5 extends MA{constructor(e,n,s,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,a,c),this.serializer=l}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return tt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,tt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){tt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=J3(e.writeResults,e.commitTime),s=hs(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=fy(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>W3(this.serializer,s)))};this.K_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $5{}class K5 extends $5{constructor(e,n,s,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new fe(ie.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Wo(e,cy(n,s),a,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new fe(ie.UNKNOWN,l.toString())}))}jo(e,n,s,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,f])=>this.connection.jo(e,cy(n,s),a,c,f,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new fe(ie.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function Y5(t,e,n,s){return new K5(t,e,n,s)}class Q5{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ys(n),this.aa=!1):pe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xa="RemoteStore";class X5{constructor(e,n,s,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=l,this.Aa.Mo((c=>{s.enqueueAndForget((async()=>{to(this)&&(pe(Xa,"Restarting streams for network reachability change."),await(async function(m){const p=De(m);p.Ea.add(4),await jc(p),p.Va.set("Unknown"),p.Ea.delete(4),await Gd(p)})(this))}))})),this.Va=new Q5(s,a)}}async function Gd(t){if(to(t))for(const e of t.Ra)await e(!0)}async function jc(t){for(const e of t.Ra)await e(!1)}function VA(t,e){const n=De(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),k0(n)?D0(n):Nl(n).O_()&&I0(n,e))}function N0(t,e){const n=De(t),s=Nl(n);n.Ia.delete(e),s.O_()&&OA(n,e),n.Ia.size===0&&(s.O_()?s.L_():to(n)&&n.Va.set("Unknown"))}function I0(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ne.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Nl(t).Z_(e)}function OA(t,e){t.da.$e(e),Nl(t).X_(e)}function D0(t){t.da=new H3({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Nl(t).start(),t.Va.ua()}function k0(t){return to(t)&&!Nl(t).x_()&&t.Ia.size>0}function to(t){return De(t).Ea.size===0}function jA(t){t.da=void 0}async function W5(t){t.Va.set("Online")}async function J5(t){t.Ia.forEach(((e,n)=>{I0(t,e)}))}async function Z5(t,e){jA(t),k0(t)?(t.Va.ha(e),D0(t)):t.Va.set("Unknown")}async function eO(t,e,n){if(t.Va.set("Online"),e instanceof _A&&e.state===2&&e.cause)try{await(async function(a,l){const c=l.cause;for(const f of l.targetIds)a.Ia.has(f)&&(await a.remoteSyncer.rejectListen(f,c),a.Ia.delete(f),a.da.removeTarget(f))})(t,e)}catch(s){pe(Xa,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await gd(t,s)}else if(e instanceof qf?t.da.Xe(e):e instanceof vA?t.da.st(e):t.da.tt(e),!n.isEqual(Ne.min()))try{const s=await DA(t.localStore);n.compareTo(s)>=0&&await(function(l,c){const f=l.da.Tt(c);return f.targetChanges.forEach(((m,p)=>{if(m.resumeToken.approximateByteSize()>0){const v=l.Ia.get(p);v&&l.Ia.set(p,v.withResumeToken(m.resumeToken,c))}})),f.targetMismatches.forEach(((m,p)=>{const v=l.Ia.get(m);if(!v)return;l.Ia.set(m,v.withResumeToken(dn.EMPTY_BYTE_STRING,v.snapshotVersion)),OA(l,m);const _=new Br(v.target,m,p,v.sequenceNumber);I0(l,_)})),l.remoteSyncer.applyRemoteEvent(f)})(t,n)}catch(s){pe(Xa,"Failed to raise snapshot:",s),await gd(t,s)}}async function gd(t,e,n){if(!Cl(e))throw e;t.Ea.add(1),await jc(t),t.Va.set("Offline"),n||(n=()=>DA(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{pe(Xa,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Gd(t)}))}function PA(t,e){return e().catch((n=>gd(t,n,e)))}async function $d(t){const e=De(t),n=Jr(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:m0;for(;tO(e);)try{const a=await O5(e.localStore,s);if(a===null){e.Ta.length===0&&n.L_();break}s=a.batchId,nO(e,a)}catch(a){await gd(e,a)}LA(e)&&UA(e)}function tO(t){return to(t)&&t.Ta.length<10}function nO(t,e){t.Ta.push(e);const n=Jr(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function LA(t){return to(t)&&!Jr(t).x_()&&t.Ta.length>0}function UA(t){Jr(t).start()}async function iO(t){Jr(t).ra()}async function sO(t){const e=Jr(t);for(const n of t.Ta)e.ea(n.mutations)}async function rO(t,e,n){const s=t.Ta.shift(),a=w0.from(s,e,n);await PA(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await $d(t)}async function aO(t,e){e&&Jr(t).Y_&&await(async function(s,a){if((function(c){return z3(c)&&c!==ie.ABORTED})(a.code)){const l=s.Ta.shift();Jr(s).B_(),await PA(s,(()=>s.remoteSyncer.rejectFailedWrite(l.batchId,a))),await $d(s)}})(t,e),LA(t)&&UA(t)}async function Tw(t,e){const n=De(t);n.asyncQueue.verifyOperationInProgress(),pe(Xa,"RemoteStore received new credentials");const s=to(n);n.Ea.add(3),await jc(n),s&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Gd(n)}async function oO(t,e){const n=De(t);e?(n.Ea.delete(2),await Gd(n)):e||(n.Ea.add(2),await jc(n),n.Va.set("Unknown"))}function Nl(t){return t.ma||(t.ma=(function(n,s,a){const l=De(n);return l.sa(),new q5(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Zo:W5.bind(null,t),Yo:J5.bind(null,t),t_:Z5.bind(null,t),J_:eO.bind(null,t)}),t.Ra.push((async e=>{e?(t.ma.B_(),k0(t)?D0(t):t.Va.set("Unknown")):(await t.ma.stop(),jA(t))}))),t.ma}function Jr(t){return t.fa||(t.fa=(function(n,s,a){const l=De(n);return l.sa(),new G5(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:iO.bind(null,t),t_:aO.bind(null,t),ta:sO.bind(null,t),na:rO.bind(null,t)}),t.Ra.push((async e=>{e?(t.fa.B_(),await $d(t)):(await t.fa.stop(),t.Ta.length>0&&(pe(Xa,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M0{constructor(e,n,s,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=l,this.deferred=new Hs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,a,l){const c=Date.now()+s,f=new M0(e,n,c,a,l);return f.start(s),f}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function V0(t,e){if(Ys("AsyncQueue",`${e}: ${t}`),Cl(t))return new fe(ie.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol{static emptySet(e){return new ol(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||be.comparator(n.key,s.key):(n,s)=>be.comparator(n.key,s.key),this.keyedMap=Gu(),this.sortedSet=new xt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ol)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new ol;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew{constructor(){this.ga=new xt(be.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ae(63341,{Vt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class vl{constructor(e,n,s,a,l,c,f,m,p){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=f,this.excludesMetadataChanges=m,this.hasCachedResults=p}static fromInitialDocuments(e,n,s,a,l){const c=[];return n.forEach((f=>{c.push({type:0,doc:f})})),new vl(e,n,ol.emptySet(n),c,s,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ud(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lO{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class uO{constructor(){this.queries=Sw(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const a=De(n),l=a.queries;a.queries=Sw(),l.forEach(((c,f)=>{for(const m of f.ba)m.onError(s)}))})(this,new fe(ie.ABORTED,"Firestore shutting down"))}}function Sw(){return new eo((t=>rA(t)),Ud)}async function zA(t,e){const n=De(t);let s=3;const a=e.query;let l=n.queries.get(a);l?!l.Sa()&&e.Da()&&(s=2):(l=new lO,s=e.Da()?0:1);try{switch(s){case 0:l.wa=await n.onListen(a,!0);break;case 1:l.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(c){const f=V0(c,`Initialization of query '${Ko(e.query)}' failed`);return void e.onError(f)}n.queries.set(a,l),l.ba.push(e),e.va(n.onlineState),l.wa&&e.Fa(l.wa)&&O0(n)}async function BA(t,e){const n=De(t),s=e.query;let a=3;const l=n.queries.get(s);if(l){const c=l.ba.indexOf(e);c>=0&&(l.ba.splice(c,1),l.ba.length===0?a=e.Da()?0:1:!l.Sa()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function cO(t,e){const n=De(t);let s=!1;for(const a of e){const l=a.query,c=n.queries.get(l);if(c){for(const f of c.ba)f.Fa(a)&&(s=!0);c.wa=a}}s&&O0(n)}function hO(t,e,n){const s=De(t),a=s.queries.get(e);if(a)for(const l of a.ba)l.onError(n);s.queries.delete(e)}function O0(t){t.Ca.forEach((e=>{e.next()}))}var py,Aw;(Aw=py||(py={})).Ma="default",Aw.Cache="cache";class FA{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new vl(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.Ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=vl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==py.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HA{constructor(e){this.key=e}}class qA{constructor(e){this.key=e}}class fO{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ge(),this.mutatedKeys=Ge(),this.eu=aA(e),this.tu=new ol(this.eu)}get nu(){return this.Za}ru(e,n){const s=n?n.iu:new Ew,a=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,c=a,f=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((v,_)=>{const w=a.get(v),S=zd(this.query,_)?_:null,N=!!w&&this.mutatedKeys.has(w.key),M=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let O=!1;w&&S?w.data.isEqual(S.data)?N!==M&&(s.track({type:3,doc:S}),O=!0):this.su(w,S)||(s.track({type:2,doc:S}),O=!0,(m&&this.eu(S,m)>0||p&&this.eu(S,p)<0)&&(f=!0)):!w&&S?(s.track({type:0,doc:S}),O=!0):w&&!S&&(s.track({type:1,doc:w}),O=!0,(m||p)&&(f=!0)),O&&(S?(c=c.add(S),l=M?l.add(v):l.delete(v)):(c=c.delete(v),l=l.delete(v)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),l=l.delete(v.key),s.track({type:1,doc:v})}return{tu:c,iu:s,Ss:f,mutatedKeys:l}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((v,_)=>(function(S,N){const M=O=>{switch(O){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ae(20277,{Vt:O})}};return M(S)-M(N)})(v.type,_.type)||this.eu(v.doc,_.doc))),this.ou(s),a=a??!1;const f=n&&!a?this._u():[],m=this.Ya.size===0&&this.current&&!a?1:0,p=m!==this.Xa;return this.Xa=m,c.length!==0||p?{snapshot:new vl(this.query,e.tu,l,c,e.mutatedKeys,m===0,p,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:f}:{au:f}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Ew,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Ge(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const n=[];return e.forEach((s=>{this.Ya.has(s)||n.push(new qA(s))})),this.Ya.forEach((s=>{e.has(s)||n.push(new HA(s))})),n}cu(e){this.Za=e.ks,this.Ya=Ge();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return vl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const j0="SyncEngine";class dO{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class mO{constructor(e){this.key=e,this.hu=!1}}class pO{constructor(e,n,s,a,l,c){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new eo((f=>rA(f)),Ud),this.Iu=new Map,this.Eu=new Set,this.Ru=new xt(be.comparator),this.Au=new Map,this.Vu=new S0,this.du={},this.mu=new Map,this.fu=yl.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function gO(t,e,n=!0){const s=XA(t);let a;const l=s.Tu.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await GA(s,e,n,!0),a}async function yO(t,e){const n=XA(t);await GA(n,e,!0,!1)}async function GA(t,e,n,s){const a=await j5(t.localStore,cs(e)),l=a.targetId,c=t.sharedClientState.addLocalQueryTarget(l,n);let f;return s&&(f=await vO(t,e,l,c==="current",a.resumeToken)),t.isPrimaryClient&&n&&VA(t.remoteStore,a),f}async function vO(t,e,n,s,a){t.pu=(_,w,S)=>(async function(M,O,B,G){let F=O.view.ru(B);F.Ss&&(F=await vw(M.localStore,O.query,!1).then((({documents:C})=>O.view.ru(C,F))));const oe=G&&G.targetChanges.get(O.targetId),re=G&&G.targetMismatches.get(O.targetId)!=null,ce=O.view.applyChanges(F,M.isPrimaryClient,oe,re);return Cw(M,O.targetId,ce.au),ce.snapshot})(t,_,w,S);const l=await vw(t.localStore,e,!0),c=new fO(e,l.ks),f=c.ru(l.documents),m=Oc.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",a),p=c.applyChanges(f,t.isPrimaryClient,m);Cw(t,n,p.au);const v=new dO(e,n,c);return t.Tu.set(e,v),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),p.snapshot}async function _O(t,e,n){const s=De(t),a=s.Tu.get(e),l=s.Iu.get(a.targetId);if(l.length>1)return s.Iu.set(a.targetId,l.filter((c=>!Ud(c,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await dy(s.localStore,a.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(a.targetId),n&&N0(s.remoteStore,a.targetId),gy(s,a.targetId)})).catch(Rl)):(gy(s,a.targetId),await dy(s.localStore,a.targetId,!0))}async function bO(t,e){const n=De(t),s=n.Tu.get(e),a=n.Iu.get(s.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),N0(n.remoteStore,s.targetId))}async function xO(t,e,n){const s=CO(t);try{const a=await(function(c,f){const m=De(c),p=pt.now(),v=f.reduce(((S,N)=>S.add(N.key)),Ge());let _,w;return m.persistence.runTransaction("Locally write mutations","readwrite",(S=>{let N=Qs(),M=Ge();return m.xs.getEntries(S,v).next((O=>{N=O,N.forEach(((B,G)=>{G.isValidDocument()||(M=M.add(B))}))})).next((()=>m.localDocuments.getOverlayedDocuments(S,N))).next((O=>{_=O;const B=[];for(const G of f){const F=O3(G,_.get(G.key).overlayedDocument);F!=null&&B.push(new ra(G.key,F,WS(F.value.mapValue),di.exists(!0)))}return m.mutationQueue.addMutationBatch(S,p,B,f)})).next((O=>{w=O;const B=O.applyToLocalDocumentSet(_,M);return m.documentOverlayCache.saveOverlays(S,O.batchId,B)}))})).then((()=>({batchId:w.batchId,changes:lA(_)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),(function(c,f,m){let p=c.du[c.currentUser.toKey()];p||(p=new xt(qe)),p=p.insert(f,m),c.du[c.currentUser.toKey()]=p})(s,a.batchId,n),await Pc(s,a.changes),await $d(s.remoteStore)}catch(a){const l=V0(a,"Failed to persist write");n.reject(l)}}async function $A(t,e){const n=De(t);try{const s=await M5(n.localStore,e);e.targetChanges.forEach(((a,l)=>{const c=n.Au.get(l);c&&(tt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?tt(c.hu,14607):a.removedDocuments.size>0&&(tt(c.hu,42227),c.hu=!1))})),await Pc(n,s,e)}catch(s){await Rl(s)}}function Rw(t,e,n){const s=De(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const a=[];s.Tu.forEach(((l,c)=>{const f=c.view.va(e);f.snapshot&&a.push(f.snapshot)})),(function(c,f){const m=De(c);m.onlineState=f;let p=!1;m.queries.forEach(((v,_)=>{for(const w of _.ba)w.va(f)&&(p=!0)})),p&&O0(m)})(s.eventManager,e),a.length&&s.Pu.J_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function wO(t,e,n){const s=De(t);s.sharedClientState.updateQueryState(e,"rejected",n);const a=s.Au.get(e),l=a&&a.key;if(l){let c=new xt(be.comparator);c=c.insert(l,yn.newNoDocument(l,Ne.min()));const f=Ge().add(l),m=new Hd(Ne.min(),new Map,new xt(qe),c,f);await $A(s,m),s.Ru=s.Ru.remove(l),s.Au.delete(e),P0(s)}else await dy(s.localStore,e,!1).then((()=>gy(s,e,n))).catch(Rl)}async function TO(t,e){const n=De(t),s=e.batch.batchId;try{const a=await k5(n.localStore,e);YA(n,s,null),KA(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Pc(n,a)}catch(a){await Rl(a)}}async function EO(t,e,n){const s=De(t);try{const a=await(function(c,f){const m=De(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let v;return m.mutationQueue.lookupMutationBatch(p,f).next((_=>(tt(_!==null,37113),v=_.keys(),m.mutationQueue.removeMutationBatch(p,_)))).next((()=>m.mutationQueue.performConsistencyCheck(p))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(p,v,f))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,v))).next((()=>m.localDocuments.getDocuments(p,v)))}))})(s.localStore,e);YA(s,e,n),KA(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Pc(s,a)}catch(a){await Rl(a)}}function KA(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function YA(t,e,n){const s=De(t);let a=s.du[s.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),s.du[s.currentUser.toKey()]=a}}function gy(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t.Iu.get(e))t.Tu.delete(s),n&&t.Pu.yu(s,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach((s=>{t.Vu.containsKey(s)||QA(t,s)}))}function QA(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&(N0(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),P0(t))}function Cw(t,e,n){for(const s of n)s instanceof HA?(t.Vu.addReference(s.key,e),SO(t,s)):s instanceof qA?(pe(j0,"Document no longer in limbo: "+s.key),t.Vu.removeReference(s.key,e),t.Vu.containsKey(s.key)||QA(t,s.key)):Ae(19791,{wu:s})}function SO(t,e){const n=e.key,s=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(s)||(pe(j0,"New document in limbo: "+n),t.Eu.add(s),P0(t))}function P0(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new be(ft.fromString(e)),s=t.fu.next();t.Au.set(s,new mO(n)),t.Ru=t.Ru.insert(n,s),VA(t.remoteStore,new Br(cs(_0(n.path)),s,"TargetPurposeLimboResolution",jd.ce))}}async function Pc(t,e,n){const s=De(t),a=[],l=[],c=[];s.Tu.isEmpty()||(s.Tu.forEach(((f,m)=>{c.push(s.pu(m,e,n).then((p=>{var v;if((p||n)&&s.isPrimaryClient){const _=p?!p.fromCache:(v=n==null?void 0:n.targetChanges.get(m.targetId))==null?void 0:v.current;s.sharedClientState.updateQueryState(m.targetId,_?"current":"not-current")}if(p){a.push(p);const _=R0.Es(m.targetId,p);l.push(_)}})))})),await Promise.all(c),s.Pu.J_(a),await(async function(m,p){const v=De(m);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(_=>se.forEach(p,(w=>se.forEach(w.Ts,(S=>v.persistence.referenceDelegate.addReference(_,w.targetId,S))).next((()=>se.forEach(w.Is,(S=>v.persistence.referenceDelegate.removeReference(_,w.targetId,S)))))))))}catch(_){if(!Cl(_))throw _;pe(C0,"Failed to update sequence numbers: "+_)}for(const _ of p){const w=_.targetId;if(!_.fromCache){const S=v.vs.get(w),N=S.snapshotVersion,M=S.withLastLimboFreeSnapshotVersion(N);v.vs=v.vs.insert(w,M)}}})(s.localStore,l))}async function AO(t,e){const n=De(t);if(!n.currentUser.isEqual(e)){pe(j0,"User change. New user:",e.toKey());const s=await IA(n.localStore,e);n.currentUser=e,(function(l,c){l.mu.forEach((f=>{f.forEach((m=>{m.reject(new fe(ie.CANCELLED,c))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Pc(n,s.Ns)}}function RO(t,e){const n=De(t),s=n.Au.get(e);if(s&&s.hu)return Ge().add(s.key);{let a=Ge();const l=n.Iu.get(e);if(!l)return a;for(const c of l){const f=n.Tu.get(c);a=a.unionWith(f.view.nu)}return a}}function XA(t){const e=De(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=$A.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=RO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=wO.bind(null,e),e.Pu.J_=cO.bind(null,e.eventManager),e.Pu.yu=hO.bind(null,e.eventManager),e}function CO(t){const e=De(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=TO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=EO.bind(null,e),e}class yd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=qd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return D5(this.persistence,new C5,e.initialUser,this.serializer)}Cu(e){return new NA(A0.Vi,this.serializer)}Du(e){return new L5}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}yd.provider={build:()=>new yd};class NO extends yd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){tt(this.persistence.referenceDelegate instanceof pd,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new d5(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?kn.withCacheSize(this.cacheSizeBytes):kn.DEFAULT;return new NA((s=>pd.Vi(s,n)),this.serializer)}}class yy{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Rw(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=AO.bind(null,this.syncEngine),await oO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new uO})()}createDatastore(e){const n=qd(e.databaseInfo.databaseId),s=H5(e.databaseInfo);return Y5(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,a,l,c,f){return new X5(s,a,l,c,f)})(this.localStore,this.datastore,e.asyncQueue,(n=>Rw(this.syncEngine,n,0)),(function(){return xw.v()?new xw:new U5})())}createSyncEngine(e,n){return(function(a,l,c,f,m,p,v){const _=new pO(a,l,c,f,m,p);return v&&(_.gu=!0),_})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(a){const l=De(a);pe(Xa,"RemoteStore shutting down."),l.Ea.add(5),await jc(l),l.Aa.shutdown(),l.Va.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}yy.provider={build:()=>new yy};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ys("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zr="FirestoreClient";class IO{constructor(e,n,s,a,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this._databaseInfo=a,this.user=gn.UNAUTHENTICATED,this.clientId=d0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,(async c=>{pe(Zr,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(s,(c=>(pe(Zr,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Hs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=V0(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function xg(t,e){t.asyncQueue.verifyOperationInProgress(),pe(Zr,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener((async a=>{s.isEqual(a)||(await IA(e.localStore,a),s=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function Nw(t,e){t.asyncQueue.verifyOperationInProgress();const n=await DO(t);pe(Zr,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((s=>Tw(e.remoteStore,s))),t.setAppCheckTokenChangeListener(((s,a)=>Tw(e.remoteStore,a))),t._onlineComponents=e}async function DO(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){pe(Zr,"Using user provided OfflineComponentProvider");try{await xg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===ie.FAILED_PRECONDITION||a.code===ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;dl("Error using user provided cache. Falling back to memory cache: "+n),await xg(t,new yd)}}else pe(Zr,"Using default OfflineComponentProvider"),await xg(t,new NO(void 0));return t._offlineComponents}async function JA(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(pe(Zr,"Using user provided OnlineComponentProvider"),await Nw(t,t._uninitializedComponentsProvider._online)):(pe(Zr,"Using default OnlineComponentProvider"),await Nw(t,new yy))),t._onlineComponents}function kO(t){return JA(t).then((e=>e.syncEngine))}async function ZA(t){const e=await JA(t),n=e.eventManager;return n.onListen=gO.bind(null,e.syncEngine),n.onUnlisten=_O.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=yO.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=bO.bind(null,e.syncEngine),n}function MO(t,e,n={}){const s=new Hs;return t.asyncQueue.enqueueAndForget((async()=>(function(l,c,f,m,p){const v=new WA({next:w=>{v.Nu(),c.enqueueAndForget((()=>BA(l,_)));const S=w.docs.has(f);!S&&w.fromCache?p.reject(new fe(ie.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&w.fromCache&&m&&m.source==="server"?p.reject(new fe(ie.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(w)},error:w=>p.reject(w)}),_=new FA(_0(f.path),v,{includeMetadataChanges:!0,Ka:!0});return zA(l,_)})(await ZA(t),t.asyncQueue,e,n,s))),s.promise}function VO(t,e,n={}){const s=new Hs;return t.asyncQueue.enqueueAndForget((async()=>(function(l,c,f,m,p){const v=new WA({next:w=>{v.Nu(),c.enqueueAndForget((()=>BA(l,_))),w.fromCache&&m.source==="server"?p.reject(new fe(ie.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(w)},error:w=>p.reject(w)}),_=new FA(f,v,{includeMetadataChanges:!0,Ka:!0});return zA(l,_)})(await ZA(t),t.asyncQueue,e,n,s))),s.promise}function OO(t,e){const n=new Hs;return t.asyncQueue.enqueueAndForget((async()=>xO(await kO(t),e,n))),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e2(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jO="ComponentProvider",Iw=new Map;function PO(t,e,n,s,a){return new s3(t,e,n,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,e2(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator,s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t2="firestore.googleapis.com",Dw=!0;class kw{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new fe(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=t2,this.ssl=Dw}else this.host=e.host,this.ssl=e.ssl??Dw;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=CA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<h5)throw new fe(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}KV("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=e2(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new fe(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new fe(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new fe(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,a){return s.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Kd{constructor(e,n,s,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new kw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new kw(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new PV;switch(s.type){case"firstParty":return new BV(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new fe(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=Iw.get(n);s&&(pe(jO,"Removing Datastore"),Iw.delete(n),s.terminate())})(this),Promise.resolve()}}function LO(t,e,n,s={}){var p;t=Mi(t,Kd);const a=ia(e),l=t._getSettings(),c={...l,emulatorOptions:t._getEmulatorOptions()},f=`${e}:${n}`;a&&(Wy(`https://${f}`),Jy("Firestore",!0)),l.host!==t2&&l.host!==f&&dl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...l,host:f,ssl:a,emulatorOptions:s};if(!$a(m,c)&&(t._setSettings(m),s.mockUserToken)){let v,_;if(typeof s.mockUserToken=="string")v=s.mockUserToken,_=gn.MOCK_USER;else{v=XE(s.mockUserToken,(p=t._app)==null?void 0:p.options.projectId);const w=s.mockUserToken.sub||s.mockUserToken.user_id;if(!w)throw new fe(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new gn(w)}t._authCredentials=new LV(new US(v,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Il(this.firestore,e,this._query)}}class Ot{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new $r(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ot(this.firestore,e,this._key)}toJSON(){return{type:Ot._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(kc(n,Ot._jsonSchema))return new Ot(e,s||null,new be(ft.fromString(n.referencePath)))}}Ot._jsonSchemaVersion="firestore/documentReference/1.0",Ot._jsonSchema={type:Kt("string",Ot._jsonSchemaVersion),referencePath:Kt("string")};class $r extends Il{constructor(e,n,s){super(e,n,_0(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ot(this.firestore,null,new be(e))}withConverter(e){return new $r(this.firestore,e,this._path)}}function ui(t,e,...n){if(t=At(t),zS("collection","path",e),t instanceof Kd){const s=ft.fromString(e,...n);return Gx(s),new $r(t,null,s)}{if(!(t instanceof Ot||t instanceof $r))throw new fe(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(ft.fromString(e,...n));return Gx(s),new $r(t.firestore,null,s)}}function rs(t,e,...n){if(t=At(t),arguments.length===1&&(e=d0.newId()),zS("doc","path",e),t instanceof Kd){const s=ft.fromString(e,...n);return qx(s),new Ot(t,null,new be(s))}{if(!(t instanceof Ot||t instanceof $r))throw new fe(ie.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(ft.fromString(e,...n));return qx(s),new Ot(t.firestore,t instanceof $r?t.converter:null,new be(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mw="AsyncQueue";class Vw{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new kA(this,"async_queue_retry"),this._c=()=>{const s=bg();s&&pe(Mw,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=bg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=bg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Hs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Cl(e))throw e;pe(Mw,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Ys("INTERNAL UNHANDLED ERROR: ",Ow(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=M0.createAndSchedule(this,e,n,s,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&Ae(47125,{Pc:Ow(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Ow(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class no extends Kd{constructor(e,n,s,a){super(e,n,s,a),this.type="firestore",this._queue=new Vw,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Vw(e),this._firestoreClient=void 0,await e}}}function UO(t,e){const n=typeof t=="object"?t:t0(),s=typeof t=="string"?t:ld,a=Dd(n,"firestore").getImmediate({identifier:s});if(!a._initialized){const l=KE("firestore");l&&LO(a,...l)}return a}function L0(t){if(t._terminated)throw new fe(ie.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||zO(t),t._firestoreClient}function zO(t){var s,a,l,c;const e=t._freezeSettings(),n=PO(t._databaseId,((s=t._app)==null?void 0:s.options.appId)||"",t._persistenceKey,(a=t._app)==null?void 0:a.options.apiKey,e);t._componentsProvider||(l=e.localCache)!=null&&l._offlineComponentProvider&&((c=e.localCache)!=null&&c._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new IO(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new hi(dn.fromBase64String(e))}catch(n){throw new fe(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new hi(dn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:hi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(kc(e,hi._jsonSchema))return hi.fromBase64String(e.bytes)}}hi._jsonSchemaVersion="firestore/bytes/1.0",hi._jsonSchema={type:Kt("string",hi._jsonSchemaVersion),bytes:Kt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new fe(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new fn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new fe(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new fe(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return qe(this._lat,e._lat)||qe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:fs._jsonSchemaVersion}}static fromJSON(e){if(kc(e,fs._jsonSchema))return new fs(e.latitude,e.longitude)}}fs._jsonSchemaVersion="firestore/geoPoint/1.0",fs._jsonSchema={type:Kt("string",fs._jsonSchemaVersion),latitude:Kt("number"),longitude:Kt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,a){if(s.length!==a.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ki._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(kc(e,ki._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new ki(e.vectorValues);throw new fe(ie.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ki._jsonSchemaVersion="firestore/vectorValue/1.0",ki._jsonSchema={type:Kt("string",ki._jsonSchemaVersion),vectorValues:Kt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BO=/^__.*__$/;class FO{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new ra(e,this.data,this.fieldMask,n,this.fieldTransforms):new Vc(e,this.data,n,this.fieldTransforms)}}class n2{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new ra(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function i2(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ae(40011,{dataSource:t})}}class B0{constructor(e,n,s,a,l,c){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=a,l===void 0&&this.validatePath(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new B0({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var a;const n=(a=this.path)==null?void 0:a.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePathSegment(e),s}childContextForFieldPath(e){var a;const n=(a=this.path)==null?void 0:a.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePath(),s}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return vd(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(i2(this.dataSource)&&BO.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class HO{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||qd(e)}createContext(e,n,s,a=!1){return new B0({dataSource:e,methodName:n,targetDoc:s,path:fn.emptyPath(),arrayElement:!1,hasConverter:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Yd(t){const e=t._freezeSettings(),n=qd(t._databaseId);return new HO(t._databaseId,!!e.ignoreUndefinedProperties,n)}function s2(t,e,n,s,a,l={}){const c=t.createContext(l.merge||l.mergeFields?2:0,e,n,a);F0("Data must be an object, but it was:",c,s);const f=r2(s,c);let m,p;if(l.merge)m=new Gn(c.fieldMask),p=c.fieldTransforms;else if(l.mergeFields){const v=[];for(const _ of l.mergeFields){const w=vc(e,_,n);if(!c.contains(w))throw new fe(ie.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);l2(v,w)||v.push(w)}m=new Gn(v),p=c.fieldTransforms.filter((_=>m.covers(_.field)))}else m=null,p=c.fieldTransforms;return new FO(new Mn(f),m,p)}class Qd extends z0{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Qd}}function qO(t,e,n,s){const a=t.createContext(1,e,n);F0("Data must be an object, but it was:",a,s);const l=[],c=Mn.empty();sa(s,((m,p)=>{const v=o2(e,m,n);p=At(p);const _=a.childContextForFieldPath(v);if(p instanceof Qd)l.push(v);else{const w=Lc(p,_);w!=null&&(l.push(v),c.set(v,w))}}));const f=new Gn(l);return new n2(c,f,a.fieldTransforms)}function GO(t,e,n,s,a,l){const c=t.createContext(1,e,n),f=[vc(e,s,n)],m=[a];if(l.length%2!=0)throw new fe(ie.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<l.length;w+=2)f.push(vc(e,l[w])),m.push(l[w+1]);const p=[],v=Mn.empty();for(let w=f.length-1;w>=0;--w)if(!l2(p,f[w])){const S=f[w];let N=m[w];N=At(N);const M=c.childContextForFieldPath(S);if(N instanceof Qd)p.push(S);else{const O=Lc(N,M);O!=null&&(p.push(S),v.set(S,O))}}const _=new Gn(p);return new n2(v,_,c.fieldTransforms)}function $O(t,e,n,s=!1){return Lc(n,t.createContext(s?4:3,e))}function Lc(t,e){if(a2(t=At(t)))return F0("Unsupported field value:",e,t),r2(t,e);if(t instanceof z0)return(function(s,a){if(!i2(a.dataSource))throw a.createError(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.createError(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(s,a){const l=[];let c=0;for(const f of s){let m=Lc(f,a.childContextForArray(c));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),c++}return{arrayValue:{values:l}}})(t,e)}return(function(s,a){if((s=At(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return N3(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=pt.fromDate(s);return{timestampValue:md(a.serializer,l)}}if(s instanceof pt){const l=new pt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:md(a.serializer,l)}}if(s instanceof fs)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof hi)return{bytesValue:bA(a.serializer,s._byteString)};if(s instanceof Ot){const l=a.databaseId,c=s.firestore._databaseId;if(!c.isEqual(l))throw a.createError(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:E0(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof ki)return(function(c,f){const m=c instanceof ki?c.toArray():c;return{mapValue:{fields:{[QS]:{stringValue:XS},[ud]:{arrayValue:{values:m.map((v=>{if(typeof v!="number")throw f.createError("VectorValues must only contain numeric values.");return b0(f.serializer,v)}))}}}}}})(s,a);if(RA(s))return s._toProto(a.serializer);throw a.createError(`Unsupported field value: ${Od(s)}`)})(t,e)}function r2(t,e){const n={};return HS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):sa(t,((s,a)=>{const l=Lc(a,e.childContextForField(s));l!=null&&(n[s]=l)})),{mapValue:{fields:n}}}function a2(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof pt||t instanceof fs||t instanceof hi||t instanceof Ot||t instanceof z0||t instanceof ki||RA(t))}function F0(t,e,n){if(!a2(n)||!BS(n)){const s=Od(n);throw s==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+s)}}function vc(t,e,n){if((e=At(e))instanceof U0)return e._internalPath;if(typeof e=="string")return o2(t,e);throw vd("Field path arguments must be of type string or ",t,!1,void 0,n)}const KO=new RegExp("[~\\*/\\[\\]]");function o2(t,e,n){if(e.search(KO)>=0)throw vd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new U0(...e.split("."))._internalPath}catch{throw vd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function vd(t,e,n,s,a){const l=s&&!s.isEmpty(),c=a!==void 0;let f=`Function ${e}() called with invalid data`;n&&(f+=" (via `toFirestore()`)"),f+=". ";let m="";return(l||c)&&(m+=" (found",l&&(m+=` in field ${s}`),c&&(m+=` in document ${a}`),m+=")"),new fe(ie.INVALID_ARGUMENT,f+t+m)}function l2(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YO{convertValue(e,n="none"){switch(Wr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Xr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ae(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return sa(e,((a,l)=>{s[a]=this.convertValue(l,n)})),s}convertVectorValue(e){var s,a,l;const n=(l=(a=(s=e.fields)==null?void 0:s[ud].arrayValue)==null?void 0:a.values)==null?void 0:l.map((c=>Vt(c.doubleValue)));return new ki(n)}convertGeoPoint(e){return new fs(Vt(e.latitude),Vt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Ld(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(dc(e));default:return null}}convertTimestamp(e){const n=Qr(e);return new pt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=ft.fromString(e);tt(AA(s),9688,{name:e});const a=new mc(s.get(1),s.get(3)),l=new be(s.popFirst(5));return a.isEqual(n)||Ys(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2 extends YO{constructor(e){super(),this.firestore=e}convertBytes(e){return new hi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ot(this.firestore,null,n)}}const jw="@firebase/firestore",Pw="4.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2{constructor(e,n,s,a,l){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Ot(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new QO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const n=this._document.data.field(vc("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class QO extends c2{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XO(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new fe(ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class H0{}class WO extends H0{}function JO(t,e,...n){let s=[];e instanceof H0&&s.push(e),s=s.concat(n),(function(l){const c=l.filter((m=>m instanceof G0)).length,f=l.filter((m=>m instanceof q0)).length;if(c>1||c>0&&f>0)throw new fe(ie.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const a of s)t=a._apply(t);return t}class q0 extends WO{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new q0(e,n,s)}_apply(e){const n=this._parse(e);return h2(e._query,n),new Il(e.firestore,e.converter,oy(e._query,n))}_parse(e){const n=Yd(e.firestore);return(function(l,c,f,m,p,v,_){let w;if(p.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new fe(ie.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){Uw(_,v);const N=[];for(const M of _)N.push(Lw(m,l,M));w={arrayValue:{values:N}}}else w=Lw(m,l,_)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||Uw(_,v),w=$O(f,c,_,v==="in"||v==="not-in");return $t.create(p,v,w)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class G0 extends H0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new G0(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:Vi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(a,l){let c=a;const f=l.getFlattenedFilters();for(const m of f)h2(c,m),c=oy(c,m)})(e._query,n),new Il(e.firestore,e.converter,oy(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Lw(t,e,n){if(typeof(n=At(n))=="string"){if(n==="")throw new fe(ie.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!sA(e)&&n.indexOf("/")!==-1)throw new fe(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(ft.fromString(n));if(!be.isDocumentKey(s))throw new fe(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Zx(t,new be(s))}if(n instanceof Ot)return Zx(t,n._key);throw new fe(ie.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Od(n)}.`)}function Uw(t,e){if(!Array.isArray(t)||t.length===0)throw new fe(ie.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function h2(t,e){const n=(function(a,l){for(const c of a)for(const f of c.getFlattenedFilters())if(l.indexOf(f.op)>=0)return f.op;return null})(t.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new fe(ie.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new fe(ie.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function f2(t,e,n){let s;return s=t?t.toFirestore(e):e,s}class Ku{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ha extends c2{constructor(e,n,s,a,l,c){super(e,n,s,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Gf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(vc("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(ie.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ha._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ha._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ha._jsonSchema={type:Kt("string",Ha._jsonSchemaVersion),bundleSource:Kt("string","DocumentSnapshot"),bundleName:Kt("string"),bundle:Kt("string")};class Gf extends Ha{data(e={}){return super.data(e)}}class ll{constructor(e,n,s,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new Ku(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new Gf(this._firestore,this._userDataWriter,s.key,s,new Ku(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new fe(ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((f=>{const m=new Gf(a._firestore,a._userDataWriter,f.doc.key,f.doc,new Ku(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);return f.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((f=>l||f.type!==3)).map((f=>{const m=new Gf(a._firestore,a._userDataWriter,f.doc.key,f.doc,new Ku(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,v=-1;return f.type!==0&&(p=c.indexOf(f.doc.key),c=c.delete(f.doc.key)),f.type!==1&&(c=c.add(f.doc),v=c.indexOf(f.doc.key)),{type:ZO(f.type),doc:m,oldIndex:p,newIndex:v}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(ie.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ll._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=d0.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),s.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function ZO(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ae(61501,{type:t})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ll._jsonSchemaVersion="firestore/querySnapshot/1.0",ll._jsonSchema={type:Kt("string",ll._jsonSchemaVersion),bundleSource:Kt("string","QuerySnapshot"),bundleName:Kt("string"),bundle:Kt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d2(t){t=Mi(t,Ot);const e=Mi(t.firestore,no),n=L0(e);return MO(n,t._key).then((s=>nj(e,t,s)))}function Us(t){t=Mi(t,Il);const e=Mi(t.firestore,no),n=L0(e),s=new u2(e);return XO(t._query),VO(n,t._query).then((a=>new ll(e,s,t,a)))}function ej(t,e,n){t=Mi(t,Ot);const s=Mi(t.firestore,no),a=f2(t.converter,e),l=Yd(s);return Xd(s,[s2(l,"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,di.none())])}function tj(t,e,n,...s){t=Mi(t,Ot);const a=Mi(t.firestore,no),l=Yd(a);let c;return c=typeof(e=At(e))=="string"||e instanceof U0?GO(l,"updateDoc",t._key,e,n,s):qO(l,"updateDoc",t._key,e),Xd(a,[c.toMutation(t._key,di.exists(!0))])}function Uu(t){return Xd(Mi(t.firestore,no),[new x0(t._key,di.none())])}function wg(t,e){const n=Mi(t.firestore,no),s=rs(t),a=f2(t.converter,e),l=Yd(t.firestore);return Xd(n,[s2(l,"addDoc",s._key,a,t.converter!==null,{}).toMutation(s._key,di.exists(!1))]).then((()=>s))}function Xd(t,e){const n=L0(t);return OO(n,e)}function nj(t,e,n){const s=n.docs.get(e._key),a=new u2(t);return new Ha(t,a,e._key,s,new Ku(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){jV(Ja),Ka(new Kr("firestore",((s,{instanceIdentifier:a,options:l})=>{const c=s.getProvider("app").getImmediate(),f=new no(new UV(s.getProvider("auth-internal")),new FV(c,s.getProvider("app-check-internal")),r3(c,a),c);return l={useFetchStreams:n,...l},f._setSettings(l),f}),"PUBLIC").setMultipleInstances(!0)),ls(jw,Pw,e),ls(jw,Pw,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m2="firebasestorage.googleapis.com",p2="storageBucket",ij=120*1e3,sj=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct extends ys{constructor(e,n,s=0){super(Tg(e),`Firebase Storage: ${n} (${Tg(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ct.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Tg(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Rt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Rt||(Rt={}));function Tg(t){return"storage/"+t}function $0(){const t="An unknown error occurred, please check the error payload for server response.";return new Ct(Rt.UNKNOWN,t)}function rj(t){return new Ct(Rt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function aj(t){return new Ct(Rt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function oj(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Ct(Rt.UNAUTHENTICATED,t)}function lj(){return new Ct(Rt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function uj(t){return new Ct(Rt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function cj(){return new Ct(Rt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function hj(){return new Ct(Rt.CANCELED,"User canceled the upload/download.")}function fj(t){return new Ct(Rt.INVALID_URL,"Invalid URL '"+t+"'.")}function dj(t){return new Ct(Rt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function mj(){return new Ct(Rt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+p2+"' property when initializing the app?")}function pj(){return new Ct(Rt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function gj(){return new Ct(Rt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function yj(t){return new Ct(Rt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function vy(t){return new Ct(Rt.INVALID_ARGUMENT,t)}function g2(){return new Ct(Rt.APP_DELETED,"The Firebase app was deleted.")}function vj(t){return new Ct(Rt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function nc(t,e){return new Ct(Rt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function zu(t){throw new Ct(Rt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=$n.makeFromUrl(e,n)}catch{return new $n(e,"")}if(s.path==="")return s;throw dj(e)}static makeFromUrl(e,n){let s=null;const a="([A-Za-z0-9.\\-_]+)";function l(oe){oe.path.charAt(oe.path.length-1)==="/"&&(oe.path_=oe.path_.slice(0,-1))}const c="(/(.*))?$",f=new RegExp("^gs://"+a+c,"i"),m={bucket:1,path:3};function p(oe){oe.path_=decodeURIComponent(oe.path)}const v="v[A-Za-z0-9_]+",_=n.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",S=new RegExp(`^https?://${_}/${v}/b/${a}/o${w}`,"i"),N={bucket:1,path:3},M=n===m2?"(?:storage.googleapis.com|storage.cloud.google.com)":n,O="([^?#]*)",B=new RegExp(`^https?://${M}/${a}/${O}`,"i"),F=[{regex:f,indices:m,postModify:l},{regex:S,indices:N,postModify:p},{regex:B,indices:{bucket:1,path:2},postModify:p}];for(let oe=0;oe<F.length;oe++){const re=F[oe],ce=re.regex.exec(e);if(ce){const C=ce[re.indices.bucket];let A=ce[re.indices.path];A||(A=""),s=new $n(C,A),re.postModify(s);break}}if(s==null)throw fj(e);return s}}class _j{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bj(t,e,n){let s=1,a=null,l=null,c=!1,f=0;function m(){return f===2}let p=!1;function v(...O){p||(p=!0,e.apply(null,O))}function _(O){a=setTimeout(()=>{a=null,t(S,m())},O)}function w(){l&&clearTimeout(l)}function S(O,...B){if(p){w();return}if(O){w(),v.call(null,O,...B);return}if(m()||c){w(),v.call(null,O,...B);return}s<64&&(s*=2);let F;f===1?(f=2,F=0):F=(s+Math.random())*1e3,_(F)}let N=!1;function M(O){N||(N=!0,w(),!p&&(a!==null?(O||(f=2),clearTimeout(a),_(0)):O||(f=1)))}return _(0),l=setTimeout(()=>{c=!0,M(!0)},n),M}function xj(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wj(t){return t!==void 0}function Tj(t){return typeof t=="object"&&!Array.isArray(t)}function K0(t){return typeof t=="string"||t instanceof String}function zw(t){return Y0()&&t instanceof Blob}function Y0(){return typeof Blob<"u"}function Bw(t,e,n,s){if(s<e)throw vy(`Invalid value for '${t}'. Expected ${e} or greater.`);if(s>n)throw vy(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q0(t,e,n){let s=e;return n==null&&(s=`https://${e}`),`${n}://${s}/v0${t}`}function y2(t){const e=encodeURIComponent;let n="?";for(const s in t)if(t.hasOwnProperty(s)){const a=e(s)+"="+e(t[s]);n=n+a+"&"}return n=n.slice(0,-1),n}var qa;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(qa||(qa={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ej(t,e){const n=t>=500&&t<600,a=[408,429].indexOf(t)!==-1,l=e.indexOf(t)!==-1;return n||a||l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sj{constructor(e,n,s,a,l,c,f,m,p,v,_,w=!0,S=!1){this.url_=e,this.method_=n,this.headers_=s,this.body_=a,this.successCodes_=l,this.additionalRetryCodes_=c,this.callback_=f,this.errorCallback_=m,this.timeout_=p,this.progressCallback_=v,this.connectionFactory_=_,this.retry=w,this.isUsingEmulator=S,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((N,M)=>{this.resolve_=N,this.reject_=M,this.start_()})}start_(){const e=(s,a)=>{if(a){s(!1,new Af(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const c=f=>{const m=f.loaded,p=f.lengthComputable?f.total:-1;this.progressCallback_!==null&&this.progressCallback_(m,p)};this.progressCallback_!==null&&l.addUploadProgressListener(c),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(c),this.pendingConnection_=null;const f=l.getErrorCode()===qa.NO_ERROR,m=l.getStatus();if(!f||Ej(m,this.additionalRetryCodes_)&&this.retry){const v=l.getErrorCode()===qa.ABORT;s(!1,new Af(!1,null,v));return}const p=this.successCodes_.indexOf(m)!==-1;s(!0,new Af(p,l))})},n=(s,a)=>{const l=this.resolve_,c=this.reject_,f=a.connection;if(a.wasSuccessCode)try{const m=this.callback_(f,f.getResponse());wj(m)?l(m):l()}catch(m){c(m)}else if(f!==null){const m=$0();m.serverResponse=f.getErrorText(),this.errorCallback_?c(this.errorCallback_(f,m)):c(m)}else if(a.canceled){const m=this.appDelete_?g2():hj();c(m)}else{const m=cj();c(m)}};this.canceled_?n(!1,new Af(!1,null,!0)):this.backoffId_=bj(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&xj(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Af{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function Aj(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function Rj(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Cj(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Nj(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function Ij(t,e,n,s,a,l,c=!0,f=!1){const m=y2(t.urlParams),p=t.url+m,v=Object.assign({},t.headers);return Cj(v,e),Aj(v,n),Rj(v,l),Nj(v,s),new Sj(p,t.method,v,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,a,c,f)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dj(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function kj(...t){const e=Dj();if(e!==void 0){const n=new e;for(let s=0;s<t.length;s++)n.append(t[s]);return n.getBlob()}else{if(Y0())return new Blob(t);throw new Ct(Rt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Mj(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vj(t){if(typeof atob>"u")throw yj("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const os={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Eg{constructor(e,n){this.data=e,this.contentType=n||null}}function Oj(t,e){switch(t){case os.RAW:return new Eg(v2(e));case os.BASE64:case os.BASE64URL:return new Eg(_2(t,e));case os.DATA_URL:return new Eg(Pj(e),Lj(e))}throw $0()}function v2(t){const e=[];for(let n=0;n<t.length;n++){let s=t.charCodeAt(n);if(s<=127)e.push(s);else if(s<=2047)e.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const l=s,c=t.charCodeAt(++n);s=65536|(l&1023)<<10|c&1023,e.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?e.push(239,191,189):e.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(e)}function jj(t){let e;try{e=decodeURIComponent(t)}catch{throw nc(os.DATA_URL,"Malformed data URL.")}return v2(e)}function _2(t,e){switch(t){case os.BASE64:{const a=e.indexOf("-")!==-1,l=e.indexOf("_")!==-1;if(a||l)throw nc(t,"Invalid character '"+(a?"-":"_")+"' found: is it base64url encoded?");break}case os.BASE64URL:{const a=e.indexOf("+")!==-1,l=e.indexOf("/")!==-1;if(a||l)throw nc(t,"Invalid character '"+(a?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Vj(e)}catch(a){throw a.message.includes("polyfill")?a:nc(t,"Invalid character found")}const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s}class b2{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw nc(os.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=n[1]||null;s!=null&&(this.base64=Uj(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=e.substring(e.indexOf(",")+1)}}function Pj(t){const e=new b2(t);return e.base64?_2(os.BASE64,e.rest):jj(e.rest)}function Lj(t){return new b2(t).contentType}function Uj(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr{constructor(e,n){let s=0,a="";zw(e)?(this.data_=e,s=e.size,a=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),s=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),s=e.length),this.size_=s,this.type_=a}size(){return this.size_}type(){return this.type_}slice(e,n){if(zw(this.data_)){const s=this.data_,a=Mj(s,e,n);return a===null?null:new zr(a)}else{const s=new Uint8Array(this.data_.buffer,e,n-e);return new zr(s,!0)}}static getBlob(...e){if(Y0()){const n=e.map(s=>s instanceof zr?s.data_:s);return new zr(kj.apply(null,n))}else{const n=e.map(c=>K0(c)?Oj(os.RAW,c).data:c.data_);let s=0;n.forEach(c=>{s+=c.byteLength});const a=new Uint8Array(s);let l=0;return n.forEach(c=>{for(let f=0;f<c.length;f++)a[l++]=c[f]}),new zr(a,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x2(t){let e;try{e=JSON.parse(t)}catch{return null}return Tj(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zj(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Bj(t,e){const n=e.split("/").filter(s=>s.length>0).join("/");return t.length===0?n:t+"/"+n}function w2(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fj(t,e){return e}class xn{constructor(e,n,s,a){this.server=e,this.local=n||e,this.writable=!!s,this.xform=a||Fj}}let Rf=null;function Hj(t){return!K0(t)||t.length<2?t:w2(t)}function T2(){if(Rf)return Rf;const t=[];t.push(new xn("bucket")),t.push(new xn("generation")),t.push(new xn("metageneration")),t.push(new xn("name","fullPath",!0));function e(l,c){return Hj(c)}const n=new xn("name");n.xform=e,t.push(n);function s(l,c){return c!==void 0?Number(c):c}const a=new xn("size");return a.xform=s,t.push(a),t.push(new xn("timeCreated")),t.push(new xn("updated")),t.push(new xn("md5Hash",null,!0)),t.push(new xn("cacheControl",null,!0)),t.push(new xn("contentDisposition",null,!0)),t.push(new xn("contentEncoding",null,!0)),t.push(new xn("contentLanguage",null,!0)),t.push(new xn("contentType",null,!0)),t.push(new xn("metadata","customMetadata",!0)),Rf=t,Rf}function qj(t,e){function n(){const s=t.bucket,a=t.fullPath,l=new $n(s,a);return e._makeStorageReference(l)}Object.defineProperty(t,"ref",{get:n})}function Gj(t,e,n){const s={};s.type="file";const a=n.length;for(let l=0;l<a;l++){const c=n[l];s[c.local]=c.xform(s,e[c.server])}return qj(s,t),s}function E2(t,e,n){const s=x2(e);return s===null?null:Gj(t,s,n)}function $j(t,e,n,s){const a=x2(e);if(a===null||!K0(a.downloadTokens))return null;const l=a.downloadTokens;if(l.length===0)return null;const c=encodeURIComponent;return l.split(",").map(p=>{const v=t.bucket,_=t.fullPath,w="/b/"+c(v)+"/o/"+c(_),S=Q0(w,n,s),N=y2({alt:"media",token:p});return S+N})[0]}function Kj(t,e){const n={},s=e.length;for(let a=0;a<s;a++){const l=e[a];l.writable&&(n[l.server]=t[l.local])}return JSON.stringify(n)}class S2{constructor(e,n,s,a){this.url=e,this.method=n,this.handler=s,this.timeout=a,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A2(t){if(!t)throw $0()}function Yj(t,e){function n(s,a){const l=E2(t,a,e);return A2(l!==null),l}return n}function Qj(t,e){function n(s,a){const l=E2(t,a,e);return A2(l!==null),$j(l,a,t.host,t._protocol)}return n}function R2(t){function e(n,s){let a;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?a=lj():a=oj():n.getStatus()===402?a=aj(t.bucket):n.getStatus()===403?a=uj(t.path):a=s,a.status=n.getStatus(),a.serverResponse=s.serverResponse,a}return e}function Xj(t){const e=R2(t);function n(s,a){let l=e(s,a);return s.getStatus()===404&&(l=rj(t.path)),l.serverResponse=a.serverResponse,l}return n}function Wj(t,e,n){const s=e.fullServerUrl(),a=Q0(s,t.host,t._protocol),l="GET",c=t.maxOperationRetryTime,f=new S2(a,l,Qj(t,n),c);return f.errorHandler=Xj(e),f}function Jj(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function Zj(t,e,n){const s=Object.assign({},n);return s.fullPath=t.path,s.size=e.size(),s.contentType||(s.contentType=Jj(null,e)),s}function e6(t,e,n,s,a){const l=e.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"};function f(){let F="";for(let oe=0;oe<2;oe++)F=F+Math.random().toString().slice(2);return F}const m=f();c["Content-Type"]="multipart/related; boundary="+m;const p=Zj(e,s,a),v=Kj(p,n),_="--"+m+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+v+`\r
--`+m+`\r
Content-Type: `+p.contentType+`\r
\r
`,w=`\r
--`+m+"--",S=zr.getBlob(_,s,w);if(S===null)throw pj();const N={name:p.fullPath},M=Q0(l,t.host,t._protocol),O="POST",B=t.maxUploadRetryTime,G=new S2(M,O,Yj(t,n),B);return G.urlParams=N,G.headers=c,G.body=S.uploadData(),G.errorHandler=R2(e),G}class t6{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=qa.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=qa.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=qa.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,s,a,l){if(this.sent_)throw zu("cannot .send() more than once");if(ia(e)&&s&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),l!==void 0)for(const c in l)l.hasOwnProperty(c)&&this.xhr_.setRequestHeader(c,l[c].toString());return a!==void 0?this.xhr_.send(a):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw zu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw zu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw zu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw zu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class n6 extends t6{initXhr(){this.xhr_.responseType="text"}}function C2(){return new n6}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(e,n){this._service=e,n instanceof $n?this._location=n:this._location=$n.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Wa(e,n)}get root(){const e=new $n(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return w2(this._location.path)}get storage(){return this._service}get parent(){const e=zj(this._location.path);if(e===null)return null;const n=new $n(this._location.bucket,e);return new Wa(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw vj(e)}}function i6(t,e,n){t._throwIfRoot("uploadBytes");const s=e6(t.storage,t._location,T2(),new zr(e,!0),n);return t.storage.makeRequestWithTokens(s,C2).then(a=>({metadata:a,ref:t}))}function s6(t){t._throwIfRoot("getDownloadURL");const e=Wj(t.storage,t._location,T2());return t.storage.makeRequestWithTokens(e,C2).then(n=>{if(n===null)throw gj();return n})}function r6(t,e){const n=Bj(t._location.path,e),s=new $n(t._location.bucket,n);return new Wa(t.storage,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a6(t){return/^[A-Za-z]+:\/\//.test(t)}function o6(t,e){return new Wa(t,e)}function N2(t,e){if(t instanceof X0){const n=t;if(n._bucket==null)throw mj();const s=new Wa(n,n._bucket);return e!=null?N2(s,e):s}else return e!==void 0?r6(t,e):t}function l6(t,e){if(e&&a6(e)){if(t instanceof X0)return o6(t,e);throw vy("To use ref(service, url), the first argument must be a Storage instance.")}else return N2(t,e)}function Fw(t,e){const n=e==null?void 0:e[p2];return n==null?null:$n.makeFromBucketSpec(n,t)}function u6(t,e,n,s={}){t.host=`${e}:${n}`;const a=ia(e);a&&(Wy(`https://${t.host}/b`),Jy("Storage",!0)),t._isUsingEmulator=!0,t._protocol=a?"https":"http";const{mockUserToken:l}=s;l&&(t._overrideAuthToken=typeof l=="string"?l:XE(l,t.app.options.projectId))}class X0{constructor(e,n,s,a,l,c=!1){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=a,this._firebaseVersion=l,this._isUsingEmulator=c,this._bucket=null,this._host=m2,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=ij,this._maxUploadRetryTime=sj,this._requests=new Set,a!=null?this._bucket=$n.makeFromBucketSpec(a,this._host):this._bucket=Fw(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=$n.makeFromBucketSpec(this._url,e):this._bucket=Fw(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Bw("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Bw("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(ci(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Wa(this,e)}_makeRequest(e,n,s,a,l=!0){if(this._deleted)return new _j(g2());{const c=Ij(e,this._appId,s,a,n,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,n){const[s,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,a).getPromise()}}const Hw="@firebase/storage",qw="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I2="storage";function c6(t,e,n){return t=At(t),i6(t,e,n)}function h6(t){return t=At(t),s6(t)}function f6(t,e){return t=At(t),l6(t,e)}function d6(t=t0(),e){t=At(t);const s=Dd(t,I2).getImmediate({identifier:e}),a=KE("storage");return a&&m6(s,...a),s}function m6(t,e,n,s={}){u6(t,e,n,s)}function p6(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),s=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return new X0(n,s,a,e,Ja)}function g6(){Ka(new Kr(I2,p6,"PUBLIC").setMultipleInstances(!0)),ls(Hw,qw,""),ls(Hw,qw,"esm2020")}g6();const y6={apiKey:"AIzaSyDl3s_yKbxhsjJUJm-HCjQtL-dvRjV9F7o",authDomain:"rushhourrp-aec24.firebaseapp.com",projectId:"rushhourrp-aec24",storageBucket:"rushhourrp-aec24.firebasestorage.app",messagingSenderId:"539949574077",appId:"1:539949574077:web:92dc4b28c0d12d7d0d54d4",measurementId:"G-P078TYSE0V"},W0=ZE(y6),Dn=kV(W0),v6=new Ls,Mt=UO(W0),_6=d6(W0);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b6=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),x6=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),Gw=t=>{const e=x6(t);return e.charAt(0).toUpperCase()+e.slice(1)},D2=(...t)=>t.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),w6=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var T6={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E6=D.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:a="",children:l,iconNode:c,...f},m)=>D.createElement("svg",{ref:m,...T6,width:e,height:e,stroke:t,strokeWidth:s?Number(n)*24/Number(e):n,className:D2("lucide",a),...!l&&!w6(f)&&{"aria-hidden":"true"},...f},[...c.map(([p,v])=>D.createElement(p,v)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Le=(t,e)=>{const n=D.forwardRef(({className:s,...a},l)=>D.createElement(E6,{ref:l,iconNode:e,className:D2(`lucide-${b6(Gw(t))}`,`lucide-${t}`,s),...a}));return n.displayName=Gw(t),n};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S6=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],k2=Le("banknote",S6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A6=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],_c=Le("book-open",A6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R6=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],C6=Le("briefcase",R6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N6=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],M2=Le("camera",N6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I6=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],V2=Le("car",I6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D6=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],O2=Le("check",D6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k6=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],j2=Le("chevron-down",k6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M6=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],$w=Le("chevron-right",M6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V6=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],P2=Le("chevron-up",V6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O6=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],j6=Le("copy",O6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P6=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],L2=Le("crown",P6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L6=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Kw=Le("file-text",L6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U6=[["path",{d:"m14 13-8.381 8.38a1 1 0 0 1-3.001-3l8.384-8.381",key:"pgg06f"}],["path",{d:"m16 16 6-6",key:"vzrcl6"}],["path",{d:"m21.5 10.5-8-8",key:"a17d9x"}],["path",{d:"m8 8 6-6",key:"18bi4p"}],["path",{d:"m8.5 7.5 8 8",key:"1oyaui"}]],J0=Le("gavel",U6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z6=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],U2=Le("heart",z6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B6=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],F6=Le("house",B6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H6=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Sg=Le("image",H6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q6=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],G6=Le("layout-dashboard",q6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $6=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],K6=Le("link",$6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y6=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Q6=Le("loader-circle",Y6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X6=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],Yw=Le("log-in",X6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W6=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],_y=Le("log-out",W6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J6=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Z6=Le("map-pin",J6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eP=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],tP=Le("menu",eP);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nP=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],_l=Le("message-square",nP);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iP=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],Qw=Le("monitor",iP);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sP=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Xo=Le("pen",sP);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rP=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],aP=Le("play",rP);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oP=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Wo=Le("plus",oP);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lP=[["path",{d:"M16.247 7.761a6 6 0 0 1 0 8.478",key:"1fwjs5"}],["path",{d:"M19.075 4.933a10 10 0 0 1 0 14.134",key:"ehdyv1"}],["path",{d:"M4.925 19.067a10 10 0 0 1 0-14.134",key:"1q22gi"}],["path",{d:"M7.753 16.239a6 6 0 0 1 0-8.478",key:"r2q7qm"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],z2=Le("radio",lP);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uP=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Xw=Le("save",uP);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cP=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Ww=Le("settings",cP);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hP=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],bl=Le("shield",hP);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fP=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Bu=Le("trash-2",fP);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dP=[["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],mP=Le("trash",dP);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pP=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Wd=Le("triangle-alert",pP);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gP=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Jw=Le("upload",gP);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yP=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],_d=Le("user",yP);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vP=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],xl=Le("users",vP);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _P=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ic=Le("x",_P);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bP=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],ul=Le("zap",bP),Z0=D.createContext({});function ea(t){const e=D.useRef(null);return e.current===null&&(e.current=t()),e.current}const B2=typeof window<"u",Jd=B2?D.useLayoutEffect:D.useEffect,Zd=D.createContext(null);function ev(t,e){t.indexOf(e)===-1&&t.push(e)}function tv(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Oi=(t,e,n)=>n>e?e:n<t?t:n;let bc=()=>{};const Xs={},F2=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function H2(t){return typeof t=="object"&&t!==null}const q2=t=>/^0[^.\s]+$/u.test(t);function nv(t){let e;return()=>(e===void 0&&(e=t()),e)}const Vn=t=>t,xP=(t,e)=>n=>e(t(n)),Uc=(...t)=>t.reduce(xP),wl=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s};class iv{constructor(){this.subscriptions=[]}add(e){return ev(this.subscriptions,e),()=>tv(this.subscriptions,e)}notify(e,n,s){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,s);else for(let l=0;l<a;l++){const c=this.subscriptions[l];c&&c(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const qs=t=>t*1e3,fi=t=>t/1e3;function sv(t,e){return e?t*(1e3/e):0}const G2=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,wP=1e-7,TP=12;function EP(t,e,n,s,a){let l,c,f=0;do c=e+(n-e)/2,l=G2(c,s,a)-t,l>0?n=c:e=c;while(Math.abs(l)>wP&&++f<TP);return c}function zc(t,e,n,s){if(t===e&&n===s)return Vn;const a=l=>EP(l,0,1,t,n);return l=>l===0||l===1?l:G2(a(l),e,s)}const $2=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,K2=t=>e=>1-t(1-e),Y2=zc(.33,1.53,.69,.99),rv=K2(Y2),Q2=$2(rv),X2=t=>(t*=2)<1?.5*rv(t):.5*(2-Math.pow(2,-10*(t-1))),av=t=>1-Math.sin(Math.acos(t)),W2=K2(av),J2=$2(av),SP=zc(.42,0,1,1),AP=zc(0,0,.58,1),Z2=zc(.42,0,.58,1),RP=t=>Array.isArray(t)&&typeof t[0]!="number",eR=t=>Array.isArray(t)&&typeof t[0]=="number",CP={linear:Vn,easeIn:SP,easeInOut:Z2,easeOut:AP,circIn:av,circInOut:J2,circOut:W2,backIn:rv,backInOut:Q2,backOut:Y2,anticipate:X2},NP=t=>typeof t=="string",Zw=t=>{if(eR(t)){bc(t.length===4);const[e,n,s,a]=t;return zc(e,n,s,a)}else if(NP(t))return CP[t];return t},Cf=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function IP(t,e){let n=new Set,s=new Set,a=!1,l=!1;const c=new WeakSet;let f={delta:0,timestamp:0,isProcessing:!1};function m(v){c.has(v)&&(p.schedule(v),t()),v(f)}const p={schedule:(v,_=!1,w=!1)=>{const N=w&&a?n:s;return _&&c.add(v),N.has(v)||N.add(v),v},cancel:v=>{s.delete(v),c.delete(v)},process:v=>{if(f=v,a){l=!0;return}a=!0,[n,s]=[s,n],n.forEach(m),n.clear(),a=!1,l&&(l=!1,p.process(v))}};return p}const DP=40;function tR(t,e){let n=!1,s=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,c=Cf.reduce((F,oe)=>(F[oe]=IP(l),F),{}),{setup:f,read:m,resolveKeyframes:p,preUpdate:v,update:_,preRender:w,render:S,postRender:N}=c,M=()=>{const F=Xs.useManualTiming?a.timestamp:performance.now();n=!1,Xs.useManualTiming||(a.delta=s?1e3/60:Math.max(Math.min(F-a.timestamp,DP),1)),a.timestamp=F,a.isProcessing=!0,f.process(a),m.process(a),p.process(a),v.process(a),_.process(a),w.process(a),S.process(a),N.process(a),a.isProcessing=!1,n&&e&&(s=!1,t(M))},O=()=>{n=!0,s=!0,a.isProcessing||t(M)};return{schedule:Cf.reduce((F,oe)=>{const re=c[oe];return F[oe]=(ce,C=!1,A=!1)=>(n||O(),re.schedule(ce,C,A)),F},{}),cancel:F=>{for(let oe=0;oe<Cf.length;oe++)c[Cf[oe]].cancel(F)},state:a,steps:c}}const{schedule:et,cancel:ji,state:tn,steps:Ag}=tR(typeof requestAnimationFrame<"u"?requestAnimationFrame:Vn,!0);let $f;function kP(){$f=void 0}const wn={now:()=>($f===void 0&&wn.set(tn.isProcessing||Xs.useManualTiming?tn.timestamp:performance.now()),$f),set:t=>{$f=t,queueMicrotask(kP)}},nR=t=>e=>typeof e=="string"&&e.startsWith(t),iR=nR("--"),MP=nR("var(--"),ov=t=>MP(t)?VP.test(t.split("/*")[0].trim()):!1,VP=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function eT(t){return typeof t!="string"?!1:t.split("/*")[0].includes("var(--")}const Dl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},xc={...Dl,transform:t=>Oi(0,1,t)},Nf={...Dl,default:1},sc=t=>Math.round(t*1e5)/1e5,lv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function OP(t){return t==null}const jP=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,uv=(t,e)=>n=>!!(typeof n=="string"&&jP.test(n)&&n.startsWith(t)||e&&!OP(n)&&Object.prototype.hasOwnProperty.call(n,e)),sR=(t,e,n)=>s=>{if(typeof s!="string")return s;const[a,l,c,f]=s.match(lv);return{[t]:parseFloat(a),[e]:parseFloat(l),[n]:parseFloat(c),alpha:f!==void 0?parseFloat(f):1}},PP=t=>Oi(0,255,t),Rg={...Dl,transform:t=>Math.round(PP(t))},za={test:uv("rgb","red"),parse:sR("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+Rg.transform(t)+", "+Rg.transform(e)+", "+Rg.transform(n)+", "+sc(xc.transform(s))+")"};function LP(t){let e="",n="",s="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,s+=s,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}}const by={test:uv("#"),parse:LP,transform:za.transform},Bc=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Or=Bc("deg"),ds=Bc("%"),ge=Bc("px"),UP=Bc("vh"),zP=Bc("vw"),tT={...ds,parse:t=>ds.parse(t)/100,transform:t=>ds.transform(t*100)},Jo={test:uv("hsl","hue"),parse:sR("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+ds.transform(sc(e))+", "+ds.transform(sc(n))+", "+sc(xc.transform(s))+")"},Gt={test:t=>za.test(t)||by.test(t)||Jo.test(t),parse:t=>za.test(t)?za.parse(t):Jo.test(t)?Jo.parse(t):by.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?za.transform(t):Jo.transform(t),getAnimatableNone:t=>{const e=Gt.parse(t);return e.alpha=0,Gt.transform(e)}},BP=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function FP(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(lv))==null?void 0:e.length)||0)+(((n=t.match(BP))==null?void 0:n.length)||0)>0}const rR="number",aR="color",HP="var",qP="var(",nT="${}",GP=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function wc(t){const e=t.toString(),n=[],s={color:[],number:[],var:[]},a=[];let l=0;const f=e.replace(GP,m=>(Gt.test(m)?(s.color.push(l),a.push(aR),n.push(Gt.parse(m))):m.startsWith(qP)?(s.var.push(l),a.push(HP),n.push(m)):(s.number.push(l),a.push(rR),n.push(parseFloat(m))),++l,nT)).split(nT);return{values:n,split:f,indexes:s,types:a}}function oR(t){return wc(t).values}function lR(t){const{split:e,types:n}=wc(t),s=e.length;return a=>{let l="";for(let c=0;c<s;c++)if(l+=e[c],a[c]!==void 0){const f=n[c];f===rR?l+=sc(a[c]):f===aR?l+=Gt.transform(a[c]):l+=a[c]}return l}}const $P=t=>typeof t=="number"?0:Gt.test(t)?Gt.getAnimatableNone(t):t;function KP(t){const e=oR(t);return lR(t)(e.map($P))}const ta={test:FP,parse:oR,createTransformer:lR,getAnimatableNone:KP};function Cg(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function YP({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let a=0,l=0,c=0;if(!e)a=l=c=n;else{const f=n<.5?n*(1+e):n+e-n*e,m=2*n-f;a=Cg(m,f,t+1/3),l=Cg(m,f,t),c=Cg(m,f,t-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:s}}function bd(t,e){return n=>n>0?e:t}const bt=(t,e,n)=>t+(e-t)*n,Ng=(t,e,n)=>{const s=t*t,a=n*(e*e-s)+s;return a<0?0:Math.sqrt(a)},QP=[by,za,Jo],XP=t=>QP.find(e=>e.test(t));function iT(t){const e=XP(t);if(!e)return!1;let n=e.parse(t);return e===Jo&&(n=YP(n)),n}const sT=(t,e)=>{const n=iT(t),s=iT(e);if(!n||!s)return bd(t,e);const a={...n};return l=>(a.red=Ng(n.red,s.red,l),a.green=Ng(n.green,s.green,l),a.blue=Ng(n.blue,s.blue,l),a.alpha=bt(n.alpha,s.alpha,l),za.transform(a))},xy=new Set(["none","hidden"]);function WP(t,e){return xy.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function JP(t,e){return n=>bt(t,e,n)}function cv(t){return typeof t=="number"?JP:typeof t=="string"?ov(t)?bd:Gt.test(t)?sT:tL:Array.isArray(t)?uR:typeof t=="object"?Gt.test(t)?sT:ZP:bd}function uR(t,e){const n=[...t],s=n.length,a=t.map((l,c)=>cv(l)(l,e[c]));return l=>{for(let c=0;c<s;c++)n[c]=a[c](l);return n}}function ZP(t,e){const n={...t,...e},s={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(s[a]=cv(t[a])(t[a],e[a]));return a=>{for(const l in s)n[l]=s[l](a);return n}}function eL(t,e){const n=[],s={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],c=t.indexes[l][s[l]],f=t.values[c]??0;n[a]=f,s[l]++}return n}const tL=(t,e)=>{const n=ta.createTransformer(e),s=wc(t),a=wc(e);return s.indexes.var.length===a.indexes.var.length&&s.indexes.color.length===a.indexes.color.length&&s.indexes.number.length>=a.indexes.number.length?xy.has(t)&&!a.values.length||xy.has(e)&&!s.values.length?WP(t,e):Uc(uR(eL(s,a),a.values),n):bd(t,e)};function cR(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?bt(t,e,n):cv(t)(t,e)}const nL=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>et.update(e,n),stop:()=>ji(e),now:()=>tn.isProcessing?tn.timestamp:wn.now()}},hR=(t,e,n=10)=>{let s="";const a=Math.max(Math.round(e/n),2);for(let l=0;l<a;l++)s+=Math.round(t(l/(a-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},xd=2e4;function hv(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<xd;)e+=n,s=t.next(e);return e>=xd?1/0:e}function iL(t,e=100,n){const s=n({...t,keyframes:[0,e]}),a=Math.min(hv(s),xd);return{type:"keyframes",ease:l=>s.next(a*l).value/e,duration:fi(a)}}const sL=5;function fR(t,e,n){const s=Math.max(e-sL,0);return sv(n-t(s),e-s)}const St={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Ig=.001;function rL({duration:t=St.duration,bounce:e=St.bounce,velocity:n=St.velocity,mass:s=St.mass}){let a,l,c=1-e;c=Oi(St.minDamping,St.maxDamping,c),t=Oi(St.minDuration,St.maxDuration,fi(t)),c<1?(a=p=>{const v=p*c,_=v*t,w=v-n,S=wy(p,c),N=Math.exp(-_);return Ig-w/S*N},l=p=>{const _=p*c*t,w=_*n+n,S=Math.pow(c,2)*Math.pow(p,2)*t,N=Math.exp(-_),M=wy(Math.pow(p,2),c);return(-a(p)+Ig>0?-1:1)*((w-S)*N)/M}):(a=p=>{const v=Math.exp(-p*t),_=(p-n)*t+1;return-Ig+v*_},l=p=>{const v=Math.exp(-p*t),_=(n-p)*(t*t);return v*_});const f=5/t,m=oL(a,l,f);if(t=qs(t),isNaN(m))return{stiffness:St.stiffness,damping:St.damping,duration:t};{const p=Math.pow(m,2)*s;return{stiffness:p,damping:c*2*Math.sqrt(s*p),duration:t}}}const aL=12;function oL(t,e,n){let s=n;for(let a=1;a<aL;a++)s=s-t(s)/e(s);return s}function wy(t,e){return t*Math.sqrt(1-e*e)}const lL=["duration","bounce"],uL=["stiffness","damping","mass"];function rT(t,e){return e.some(n=>t[n]!==void 0)}function cL(t){let e={velocity:St.velocity,stiffness:St.stiffness,damping:St.damping,mass:St.mass,isResolvedFromDuration:!1,...t};if(!rT(t,uL)&&rT(t,lL))if(t.visualDuration){const n=t.visualDuration,s=2*Math.PI/(n*1.2),a=s*s,l=2*Oi(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:St.mass,stiffness:a,damping:l}}else{const n=rL(t);e={...e,...n,mass:St.mass},e.isResolvedFromDuration=!0}return e}function wd(t=St.visualDuration,e=St.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:a}=n;const l=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],f={done:!1,value:l},{stiffness:m,damping:p,mass:v,duration:_,velocity:w,isResolvedFromDuration:S}=cL({...n,velocity:-fi(n.velocity||0)}),N=w||0,M=p/(2*Math.sqrt(m*v)),O=c-l,B=fi(Math.sqrt(m/v)),G=Math.abs(O)<5;s||(s=G?St.restSpeed.granular:St.restSpeed.default),a||(a=G?St.restDelta.granular:St.restDelta.default);let F;if(M<1){const re=wy(B,M);F=ce=>{const C=Math.exp(-M*B*ce);return c-C*((N+M*B*O)/re*Math.sin(re*ce)+O*Math.cos(re*ce))}}else if(M===1)F=re=>c-Math.exp(-B*re)*(O+(N+B*O)*re);else{const re=B*Math.sqrt(M*M-1);F=ce=>{const C=Math.exp(-M*B*ce),A=Math.min(re*ce,300);return c-C*((N+M*B*O)*Math.sinh(A)+re*O*Math.cosh(A))/re}}const oe={calculatedDuration:S&&_||null,next:re=>{const ce=F(re);if(S)f.done=re>=_;else{let C=re===0?N:0;M<1&&(C=re===0?qs(N):fR(F,re,ce));const A=Math.abs(C)<=s,I=Math.abs(c-ce)<=a;f.done=A&&I}return f.value=f.done?c:ce,f},toString:()=>{const re=Math.min(hv(oe),xd),ce=hR(C=>oe.next(re*C).value,re,30);return re+"ms "+ce},toTransition:()=>{}};return oe}wd.applyToOptions=t=>{const e=iL(t,100,wd);return t.ease=e.ease,t.duration=qs(e.duration),t.type="keyframes",t};function Ty({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:c,min:f,max:m,restDelta:p=.5,restSpeed:v}){const _=t[0],w={done:!1,value:_},S=A=>f!==void 0&&A<f||m!==void 0&&A>m,N=A=>f===void 0?m:m===void 0||Math.abs(f-A)<Math.abs(m-A)?f:m;let M=n*e;const O=_+M,B=c===void 0?O:c(O);B!==O&&(M=B-_);const G=A=>-M*Math.exp(-A/s),F=A=>B+G(A),oe=A=>{const I=G(A),P=F(A);w.done=Math.abs(I)<=p,w.value=w.done?B:P};let re,ce;const C=A=>{S(w.value)&&(re=A,ce=wd({keyframes:[w.value,N(w.value)],velocity:fR(F,A,w.value),damping:a,stiffness:l,restDelta:p,restSpeed:v}))};return C(0),{calculatedDuration:null,next:A=>{let I=!1;return!ce&&re===void 0&&(I=!0,oe(A),C(A)),re!==void 0&&A>=re?ce.next(A-re):(!I&&oe(A),w)}}}function hL(t,e,n){const s=[],a=n||Xs.mix||cR,l=t.length-1;for(let c=0;c<l;c++){let f=a(t[c],t[c+1]);if(e){const m=Array.isArray(e)?e[c]||Vn:e;f=Uc(m,f)}s.push(f)}return s}function fv(t,e,{clamp:n=!0,ease:s,mixer:a}={}){const l=t.length;if(bc(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const f=hL(e,s,a),m=f.length,p=v=>{if(c&&v<t[0])return e[0];let _=0;if(m>1)for(;_<t.length-2&&!(v<t[_+1]);_++);const w=wl(t[_],t[_+1],v);return f[_](w)};return n?v=>p(Oi(t[0],t[l-1],v)):p}function fL(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const a=wl(0,e,s);t.push(bt(n,1,a))}}function dR(t){const e=[0];return fL(e,t.length-1),e}function dL(t,e){return t.map(n=>n*e)}function mL(t,e){return t.map(()=>e||Z2).splice(0,t.length-1)}function rc({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const a=RP(s)?s.map(Zw):Zw(s),l={done:!1,value:e[0]},c=dL(n&&n.length===e.length?n:dR(e),t),f=fv(c,e,{ease:Array.isArray(a)?a:mL(e,a)});return{calculatedDuration:t,next:m=>(l.value=f(m),l.done=m>=t,l)}}const pL=t=>t!==null;function dv(t,{repeat:e,repeatType:n="loop"},s,a=1){const l=t.filter(pL),f=a<0||e&&n!=="loop"&&e%2===1?0:l.length-1;return!f||s===void 0?l[f]:s}const gL={decay:Ty,inertia:Ty,tween:rc,keyframes:rc,spring:wd};function mR(t){typeof t.type=="string"&&(t.type=gL[t.type])}class mv{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const yL=t=>t/100;class em extends mv{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var s,a;const{motionValue:n}=this.options;n&&n.updatedAt!==wn.now()&&this.tick(wn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(a=(s=this.options).onStop)==null||a.call(s))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;mR(e);const{type:n=rc,repeat:s=0,repeatDelay:a=0,repeatType:l,velocity:c=0}=e;let{keyframes:f}=e;const m=n||rc;m!==rc&&typeof f[0]!="number"&&(this.mixKeyframes=Uc(yL,cR(f[0],f[1])),f=[0,100]);const p=m({...e,keyframes:f});l==="mirror"&&(this.mirroredGenerator=m({...e,keyframes:[...f].reverse(),velocity:-c})),p.calculatedDuration===null&&(p.calculatedDuration=hv(p));const{calculatedDuration:v}=p;this.calculatedDuration=v,this.resolvedDuration=v+a,this.totalDuration=this.resolvedDuration*(s+1)-a,this.generator=p}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:s,totalDuration:a,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:f,calculatedDuration:m}=this;if(this.startTime===null)return s.next(0);const{delay:p=0,keyframes:v,repeat:_,repeatType:w,repeatDelay:S,type:N,onUpdate:M,finalKeyframe:O}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const B=this.currentTime-p*(this.playbackSpeed>=0?1:-1),G=this.playbackSpeed>=0?B<0:B>a;this.currentTime=Math.max(B,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let F=this.currentTime,oe=s;if(_){const A=Math.min(this.currentTime,a)/f;let I=Math.floor(A),P=A%1;!P&&A>=1&&(P=1),P===1&&I--,I=Math.min(I,_+1),!!(I%2)&&(w==="reverse"?(P=1-P,S&&(P-=S/f)):w==="mirror"&&(oe=c)),F=Oi(0,1,P)*f}const re=G?{done:!1,value:v[0]}:oe.next(F);l&&(re.value=l(re.value));let{done:ce}=re;!G&&m!==null&&(ce=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ce);return C&&N!==Ty&&(re.value=dv(v,this.options,O,this.speed)),M&&M(re.value),C&&this.finish(),re}then(e,n){return this.finished.then(e,n)}get duration(){return fi(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+fi(e)}get time(){return fi(this.currentTime)}set time(e){var n;e=qs(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(wn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=fi(this.currentTime))}play(){var a,l;if(this.isStopped)return;const{driver:e=nL,startTime:n}=this.options;this.driver||(this.driver=e(c=>this.tick(c))),(l=(a=this.options).onPlay)==null||l.call(a);const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(wn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function vL(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Ba=t=>t*180/Math.PI,Ey=t=>{const e=Ba(Math.atan2(t[1],t[0]));return Sy(e)},_L={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Ey,rotateZ:Ey,skewX:t=>Ba(Math.atan(t[1])),skewY:t=>Ba(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Sy=t=>(t=t%360,t<0&&(t+=360),t),aT=Ey,oT=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),lT=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),bL={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:oT,scaleY:lT,scale:t=>(oT(t)+lT(t))/2,rotateX:t=>Sy(Ba(Math.atan2(t[6],t[5]))),rotateY:t=>Sy(Ba(Math.atan2(-t[2],t[0]))),rotateZ:aT,rotate:aT,skewX:t=>Ba(Math.atan(t[4])),skewY:t=>Ba(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Ay(t){return t.includes("scale")?1:0}function Ry(t,e){if(!t||t==="none")return Ay(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,a;if(n)s=bL,a=n;else{const f=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=_L,a=f}if(!a)return Ay(e);const l=s[e],c=a[1].split(",").map(wL);return typeof l=="function"?l(c):c[l]}const xL=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Ry(n,e)};function wL(t){return parseFloat(t.trim())}const kl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ml=new Set(kl),uT=t=>t===Dl||t===ge,TL=new Set(["x","y","z"]),EL=kl.filter(t=>!TL.has(t));function SL(t){const e=[];return EL.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e}const Fr={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Ry(e,"x"),y:(t,{transform:e})=>Ry(e,"y")};Fr.translateX=Fr.x;Fr.translateY=Fr.y;const Ga=new Set;let Cy=!1,Ny=!1,Iy=!1;function pR(){if(Ny){const t=Array.from(Ga).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),n=new Map;e.forEach(s=>{const a=SL(s);a.length&&(n.set(s,a),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const a=n.get(s);a&&a.forEach(([l,c])=>{var f;(f=s.getValue(l))==null||f.set(c)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}Ny=!1,Cy=!1,Ga.forEach(t=>t.complete(Iy)),Ga.clear()}function gR(){Ga.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Ny=!0)})}function AL(){Iy=!0,gR(),pR(),Iy=!1}class pv{constructor(e,n,s,a,l,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=s,this.motionValue=a,this.element=l,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(Ga.add(this),Cy||(Cy=!0,et.read(gR),et.resolveKeyframes(pR))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:s,motionValue:a}=this;if(e[0]===null){const l=a==null?void 0:a.get(),c=e[e.length-1];if(l!==void 0)e[0]=l;else if(s&&n){const f=s.readValue(n,c);f!=null&&(e[0]=f)}e[0]===void 0&&(e[0]=c),a&&l===void 0&&a.set(e[0])}vL(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Ga.delete(this)}cancel(){this.state==="scheduled"&&(Ga.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const RL=t=>t.startsWith("--");function CL(t,e,n){RL(e)?t.style.setProperty(e,n):t.style[e]=n}const yR=nv(()=>window.ScrollTimeline!==void 0),NL={};function IL(t,e){const n=nv(t);return()=>NL[e]??n()}const vR=IL(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Yu=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,cT={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Yu([0,.65,.55,1]),circOut:Yu([.55,0,1,.45]),backIn:Yu([.31,.01,.66,-.59]),backOut:Yu([.33,1.53,.69,.99])};function _R(t,e){if(t)return typeof t=="function"?vR()?hR(t,e):"ease-out":eR(t)?Yu(t):Array.isArray(t)?t.map(n=>_R(n,e)||cT.easeOut):cT[t]}function DL(t,e,n,{delay:s=0,duration:a=300,repeat:l=0,repeatType:c="loop",ease:f="easeOut",times:m}={},p=void 0){const v={[e]:n};m&&(v.offset=m);const _=_R(f,a);Array.isArray(_)&&(v.easing=_);const w={delay:s,duration:a,easing:Array.isArray(_)?"linear":_,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return p&&(w.pseudoElement=p),t.animate(v,w)}function bR(t){return typeof t=="function"&&"applyToOptions"in t}function kL({type:t,...e}){return bR(t)&&vR()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class ML extends mv{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:n,name:s,keyframes:a,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:f,onComplete:m}=e;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=e,bc(typeof e.type!="string");const p=kL(e);this.animation=DL(n,s,a,p,l),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const v=dv(a,this.options,f,this.speed);this.updateMotionValue?this.updateMotionValue(v):CL(n,s,v),this.animation.cancel()}m==null||m(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,s;const e=((s=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:s.call(n).duration)||0;return fi(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+fi(e)}get time(){return fi(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=qs(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var s;return this.allowFlatten&&((s=this.animation.effect)==null||s.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&yR()?(this.animation.timeline=e,Vn):n(this)}}const xR={anticipate:X2,backInOut:Q2,circInOut:J2};function VL(t){return t in xR}function OL(t){typeof t.ease=="string"&&VL(t.ease)&&(t.ease=xR[t.ease])}const Dg=10;class jL extends ML{constructor(e){OL(e),mR(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:s,onComplete:a,element:l,...c}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const f=new em({...c,autoplay:!1}),m=Math.max(Dg,wn.now()-this.startTime),p=Oi(0,Dg,m-Dg);n.setWithVelocity(f.sample(Math.max(0,m-p)).value,f.sample(m).value,p),f.stop()}}const hT=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(ta.test(t)||t==="0")&&!t.startsWith("url("));function PL(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function LL(t,e,n,s){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],c=hT(a,e),f=hT(l,e);return!c||!f?!1:PL(t)||(n==="spring"||bR(n))&&s}function Dy(t){t.duration=0,t.type="keyframes"}const UL=new Set(["opacity","clipPath","filter","transform"]),zL=nv(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function BL(t){var v;const{motionValue:e,name:n,repeatDelay:s,repeatType:a,damping:l,type:c}=t;if(!(((v=e==null?void 0:e.owner)==null?void 0:v.current)instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:p}=e.owner.getProps();return zL()&&n&&UL.has(n)&&(n!=="transform"||!p)&&!m&&!s&&a!=="mirror"&&l!==0&&c!=="inertia"}const FL=40;class HL extends mv{constructor({autoplay:e=!0,delay:n=0,type:s="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:c="loop",keyframes:f,name:m,motionValue:p,element:v,..._}){var N;super(),this.stop=()=>{var M,O;this._animation&&(this._animation.stop(),(M=this.stopTimeline)==null||M.call(this)),(O=this.keyframeResolver)==null||O.cancel()},this.createdAt=wn.now();const w={autoplay:e,delay:n,type:s,repeat:a,repeatDelay:l,repeatType:c,name:m,motionValue:p,element:v,..._},S=(v==null?void 0:v.KeyframeResolver)||pv;this.keyframeResolver=new S(f,(M,O,B)=>this.onKeyframesResolved(M,O,w,!B),m,p,v),(N=this.keyframeResolver)==null||N.scheduleResolve()}onKeyframesResolved(e,n,s,a){var O,B;this.keyframeResolver=void 0;const{name:l,type:c,velocity:f,delay:m,isHandoff:p,onUpdate:v}=s;this.resolvedAt=wn.now(),LL(e,l,c,f)||((Xs.instantAnimations||!m)&&(v==null||v(dv(e,s,n))),e[0]=e[e.length-1],Dy(s),s.repeat=0);const w={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>FL?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:e},S=!p&&BL(w),N=(B=(O=w.motionValue)==null?void 0:O.owner)==null?void 0:B.current,M=S?new jL({...w,element:N}):new em(w);M.finished.then(()=>{this.notifyFinished()}).catch(Vn),this.pendingTimeline&&(this.stopTimeline=M.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=M}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),AL()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}function wR(t,e,n,s=0,a=1){const l=Array.from(t).sort((p,v)=>p.sortNodePosition(v)).indexOf(e),c=t.size,f=(c-1)*s;return typeof n=="function"?n(l,c):a===1?l*s:f-l*s}const qL=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function GL(t){const e=qL.exec(t);if(!e)return[,];const[,n,s,a]=e;return[`--${n??s}`,a]}function TR(t,e,n=1){const[s,a]=GL(t);if(!s)return;const l=window.getComputedStyle(e).getPropertyValue(s);if(l){const c=l.trim();return F2(c)?parseFloat(c):c}return ov(a)?TR(a,e,n+1):a}const $L={type:"spring",stiffness:500,damping:25,restSpeed:10},KL=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),YL={type:"keyframes",duration:.8},QL={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},XL=(t,{keyframes:e})=>e.length>2?YL:Ml.has(t)?t.startsWith("scale")?KL(e[1]):$L:QL,WL=t=>t!==null;function JL(t,{repeat:e,repeatType:n="loop"},s){const a=t.filter(WL),l=e&&n!=="loop"&&e%2===1?0:a.length-1;return a[l]}function gv(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}function ZL({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:a,repeat:l,repeatType:c,repeatDelay:f,from:m,elapsed:p,...v}){return!!Object.keys(v).length}const yv=(t,e,n,s={},a,l)=>c=>{const f=gv(s,t)||{},m=f.delay||s.delay||0;let{elapsed:p=0}=s;p=p-qs(m);const v={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...f,delay:-p,onUpdate:w=>{e.set(w),f.onUpdate&&f.onUpdate(w)},onComplete:()=>{c(),f.onComplete&&f.onComplete()},name:t,motionValue:e,element:l?void 0:a};ZL(f)||Object.assign(v,XL(t,v)),v.duration&&(v.duration=qs(v.duration)),v.repeatDelay&&(v.repeatDelay=qs(v.repeatDelay)),v.from!==void 0&&(v.keyframes[0]=v.from);let _=!1;if((v.type===!1||v.duration===0&&!v.repeatDelay)&&(Dy(v),v.delay===0&&(_=!0)),(Xs.instantAnimations||Xs.skipAnimations)&&(_=!0,Dy(v),v.delay=0),v.allowFlatten=!f.type&&!f.ease,_&&!l&&e.get()!==void 0){const w=JL(v.keyframes,f);if(w!==void 0){et.update(()=>{v.onUpdate(w),v.onComplete()});return}}return f.isSync?new em(v):new HL(v)};function fT(t){const e=[{},{}];return t==null||t.values.forEach((n,s)=>{e[0][s]=n.get(),e[1][s]=n.getVelocity()}),e}function vv(t,e,n,s){if(typeof e=="function"){const[a,l]=fT(s);e=e(n!==void 0?n:t.custom,a,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,l]=fT(s);e=e(n!==void 0?n:t.custom,a,l)}return e}function cl(t,e,n){const s=t.getProps();return vv(s,e,n!==void 0?n:s.custom,t)}const ER=new Set(["width","height","top","left","right","bottom",...kl]),dT=30,e9=t=>!isNaN(parseFloat(t)),ac={current:void 0};class t9{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{var l;const a=wn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&((l=this.events.change)==null||l.notify(this.current),this.dependents))for(const c of this.dependents)c.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=wn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=e9(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new iv);const s=this.events[e].add(n);return e==="change"?()=>{s(),et.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return ac.current&&ac.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=wn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>dT)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,dT);return sv(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ii(t,e){return new t9(t,e)}const ky=t=>Array.isArray(t);function n9(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Ii(n))}function i9(t){return ky(t)?t[t.length-1]||0:t}function s9(t,e){const n=cl(t,e);let{transitionEnd:s={},transition:a={},...l}=n||{};l={...l,...s};for(const c in l){const f=i9(l[c]);n9(t,c,f)}}const sn=t=>!!(t&&t.getVelocity);function r9(t){return!!(sn(t)&&t.add)}function My(t,e){const n=t.getValue("willChange");if(r9(n))return n.add(e);if(!n&&Xs.WillChange){const s=new Xs.WillChange("auto");t.addValue("willChange",s),s.add(e)}}function _v(t){return t.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}const a9="framerAppearId",SR="data-"+_v(a9);function AR(t){return t.props[SR]}function o9({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function RR(t,e,{delay:n=0,transitionOverride:s,type:a}={}){let{transition:l=t.getDefaultTransition(),transitionEnd:c,...f}=e;s&&(l=s);const m=[],p=a&&t.animationState&&t.animationState.getState()[a];for(const v in f){const _=t.getValue(v,t.latestValues[v]??null),w=f[v];if(w===void 0||p&&o9(p,v))continue;const S={delay:n,...gv(l||{},v)},N=_.get();if(N!==void 0&&!_.isAnimating&&!Array.isArray(w)&&w===N&&!S.velocity)continue;let M=!1;if(window.MotionHandoffAnimation){const B=AR(t);if(B){const G=window.MotionHandoffAnimation(B,v,et);G!==null&&(S.startTime=G,M=!0)}}My(t,v),_.start(yv(v,_,w,t.shouldReduceMotion&&ER.has(v)?{type:!1}:S,t,M));const O=_.animation;O&&m.push(O)}return c&&Promise.all(m).then(()=>{et.update(()=>{c&&s9(t,c)})}),m}function Vy(t,e,n={}){var m;const s=cl(t,e,n.type==="exit"?(m=t.presenceContext)==null?void 0:m.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(a=n.transitionOverride);const l=s?()=>Promise.all(RR(t,s,n)):()=>Promise.resolve(),c=t.variantChildren&&t.variantChildren.size?(p=0)=>{const{delayChildren:v=0,staggerChildren:_,staggerDirection:w}=a;return l9(t,e,p,v,_,w,n)}:()=>Promise.resolve(),{when:f}=a;if(f){const[p,v]=f==="beforeChildren"?[l,c]:[c,l];return p().then(()=>v())}else return Promise.all([l(),c(n.delay)])}function l9(t,e,n=0,s=0,a=0,l=1,c){const f=[];for(const m of t.variantChildren)m.notify("AnimationStart",e),f.push(Vy(m,e,{...c,delay:n+(typeof s=="function"?0:s)+wR(t.variantChildren,m,s,a,l)}).then(()=>m.notify("AnimationComplete",e)));return Promise.all(f)}function u9(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const a=e.map(l=>Vy(t,l,n));s=Promise.all(a)}else if(typeof e=="string")s=Vy(t,e,n);else{const a=typeof e=="function"?cl(t,e,n.custom):e;s=Promise.all(RR(t,a,n))}return s.then(()=>{t.notify("AnimationComplete",e)})}const c9={test:t=>t==="auto",parse:t=>t},CR=t=>e=>e.test(t),NR=[Dl,ge,ds,Or,zP,UP,c9],mT=t=>NR.find(CR(t));function h9(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||q2(t):!0}const f9=new Set(["brightness","contrast","saturate","opacity"]);function d9(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(lv)||[];if(!s)return t;const a=n.replace(s,"");let l=f9.has(e)?1:0;return s!==n&&(l*=100),e+"("+l+a+")"}const m9=/\b([a-z-]*)\(.*?\)/gu,Oy={...ta,getAnimatableNone:t=>{const e=t.match(m9);return e?e.map(d9).join(" "):t}},pT={...Dl,transform:Math.round},p9={rotate:Or,rotateX:Or,rotateY:Or,rotateZ:Or,scale:Nf,scaleX:Nf,scaleY:Nf,scaleZ:Nf,skew:Or,skewX:Or,skewY:Or,distance:ge,translateX:ge,translateY:ge,translateZ:ge,x:ge,y:ge,z:ge,perspective:ge,transformPerspective:ge,opacity:xc,originX:tT,originY:tT,originZ:ge},bv={borderWidth:ge,borderTopWidth:ge,borderRightWidth:ge,borderBottomWidth:ge,borderLeftWidth:ge,borderRadius:ge,radius:ge,borderTopLeftRadius:ge,borderTopRightRadius:ge,borderBottomRightRadius:ge,borderBottomLeftRadius:ge,width:ge,maxWidth:ge,height:ge,maxHeight:ge,top:ge,right:ge,bottom:ge,left:ge,inset:ge,insetBlock:ge,insetBlockStart:ge,insetBlockEnd:ge,insetInline:ge,insetInlineStart:ge,insetInlineEnd:ge,padding:ge,paddingTop:ge,paddingRight:ge,paddingBottom:ge,paddingLeft:ge,paddingBlock:ge,paddingBlockStart:ge,paddingBlockEnd:ge,paddingInline:ge,paddingInlineStart:ge,paddingInlineEnd:ge,margin:ge,marginTop:ge,marginRight:ge,marginBottom:ge,marginLeft:ge,marginBlock:ge,marginBlockStart:ge,marginBlockEnd:ge,marginInline:ge,marginInlineStart:ge,marginInlineEnd:ge,backgroundPositionX:ge,backgroundPositionY:ge,...p9,zIndex:pT,fillOpacity:xc,strokeOpacity:xc,numOctaves:pT},g9={...bv,color:Gt,backgroundColor:Gt,outlineColor:Gt,fill:Gt,stroke:Gt,borderColor:Gt,borderTopColor:Gt,borderRightColor:Gt,borderBottomColor:Gt,borderLeftColor:Gt,filter:Oy,WebkitFilter:Oy},IR=t=>g9[t];function DR(t,e){let n=IR(t);return n!==Oy&&(n=ta),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const y9=new Set(["auto","none","0"]);function v9(t,e,n){let s=0,a;for(;s<t.length&&!a;){const l=t[s];typeof l=="string"&&!y9.has(l)&&wc(l).values.length&&(a=t[s]),s++}if(a&&n)for(const l of e)t[l]=DR(n,a)}class _9 extends pv{constructor(e,n,s,a,l){super(e,n,s,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let v=0;v<e.length;v++){let _=e[v];if(typeof _=="string"&&(_=_.trim(),ov(_))){const w=TR(_,n.current);w!==void 0&&(e[v]=w),v===e.length-1&&(this.finalKeyframe=_)}}if(this.resolveNoneKeyframes(),!ER.has(s)||e.length!==2)return;const[a,l]=e,c=mT(a),f=mT(l),m=eT(a),p=eT(l);if(m!==p&&Fr[s]){this.needsMeasurement=!0;return}if(c!==f)if(uT(c)&&uT(f))for(let v=0;v<e.length;v++){const _=e[v];typeof _=="string"&&(e[v]=parseFloat(_))}else Fr[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,s=[];for(let a=0;a<e.length;a++)(e[a]===null||h9(e[a]))&&s.push(a);s.length&&v9(e,s,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Fr[s](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(s,a).jump(a,!1)}measureEndState(){var f;const{element:e,name:n,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=s.length-1,c=s[l];s[l]=Fr[n](e.measureViewportBox(),window.getComputedStyle(e.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),(f=this.removedTransforms)!=null&&f.length&&this.removedTransforms.forEach(([m,p])=>{e.getValue(m).set(p)}),this.resolveNoneKeyframes()}}function kR(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){const a=document.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}const MR=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function xv(t){return H2(t)&&"offsetHeight"in t}const{schedule:wv}=tR(queueMicrotask,!1),Ci={x:!1,y:!1};function VR(){return Ci.x||Ci.y}function b9(t){return t==="x"||t==="y"?Ci[t]?null:(Ci[t]=!0,()=>{Ci[t]=!1}):Ci.x||Ci.y?null:(Ci.x=Ci.y=!0,()=>{Ci.x=Ci.y=!1})}function OR(t,e){const n=kR(t),s=new AbortController,a={passive:!0,...e,signal:s.signal};return[n,a,()=>s.abort()]}function gT(t){return!(t.pointerType==="touch"||VR())}function x9(t,e,n={}){const[s,a,l]=OR(t,n),c=f=>{if(!gT(f))return;const{target:m}=f,p=e(m,f);if(typeof p!="function"||!m)return;const v=_=>{gT(_)&&(p(_),m.removeEventListener("pointerleave",v))};m.addEventListener("pointerleave",v,a)};return s.forEach(f=>{f.addEventListener("pointerenter",c,a)}),l}const jR=(t,e)=>e?t===e?!0:jR(t,e.parentElement):!1,Tv=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,w9=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function PR(t){return w9.has(t.tagName)||t.isContentEditable===!0}const Kf=new WeakSet;function yT(t){return e=>{e.key==="Enter"&&t(e)}}function kg(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const T9=(t,e)=>{const n=t.currentTarget;if(!n)return;const s=yT(()=>{if(Kf.has(n))return;kg(n,"down");const a=yT(()=>{kg(n,"up")}),l=()=>kg(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",s,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),e)};function vT(t){return Tv(t)&&!VR()}function E9(t,e,n={}){const[s,a,l]=OR(t,n),c=f=>{const m=f.currentTarget;if(!vT(f))return;Kf.add(m);const p=e(m,f),v=(S,N)=>{window.removeEventListener("pointerup",_),window.removeEventListener("pointercancel",w),Kf.has(m)&&Kf.delete(m),vT(S)&&typeof p=="function"&&p(S,{success:N})},_=S=>{v(S,m===window||m===document||n.useGlobalTarget||jR(m,S.target))},w=S=>{v(S,!1)};window.addEventListener("pointerup",_,a),window.addEventListener("pointercancel",w,a)};return s.forEach(f=>{(n.useGlobalTarget?window:f).addEventListener("pointerdown",c,a),xv(f)&&(f.addEventListener("focus",p=>T9(p,a)),!PR(f)&&!f.hasAttribute("tabindex")&&(f.tabIndex=0))}),l}function Ev(t){return H2(t)&&"ownerSVGElement"in t}const Yf=new WeakMap;let jr;const LR=(t,e,n)=>(s,a)=>a&&a[0]?a[0][t+"Size"]:Ev(s)&&"getBBox"in s?s.getBBox()[e]:s[n],S9=LR("inline","width","offsetWidth"),A9=LR("block","height","offsetHeight");function R9({target:t,borderBoxSize:e}){var n;(n=Yf.get(t))==null||n.forEach(s=>{s(t,{get width(){return S9(t,e)},get height(){return A9(t,e)}})})}function C9(t){t.forEach(R9)}function N9(){typeof ResizeObserver>"u"||(jr=new ResizeObserver(C9))}function I9(t,e){jr||N9();const n=kR(t);return n.forEach(s=>{let a=Yf.get(s);a||(a=new Set,Yf.set(s,a)),a.add(e),jr==null||jr.observe(s)}),()=>{n.forEach(s=>{const a=Yf.get(s);a==null||a.delete(e),a!=null&&a.size||jr==null||jr.unobserve(s)})}}const Qf=new Set;let Zo;function D9(){Zo=()=>{const t={get width(){return window.innerWidth},get height(){return window.innerHeight}};Qf.forEach(e=>e(t))},window.addEventListener("resize",Zo)}function k9(t){return Qf.add(t),Zo||D9(),()=>{Qf.delete(t),!Qf.size&&typeof Zo=="function"&&(window.removeEventListener("resize",Zo),Zo=void 0)}}function M9(t,e){return typeof t=="function"?k9(t):I9(t,e)}function UR(t,e){let n;const s=()=>{const{currentTime:a}=e,c=(a===null?0:a.value)/100;n!==c&&t(c),n=c};return et.preUpdate(s,!0),()=>ji(s)}function V9(t){return Ev(t)&&t.tagName==="svg"}function O9(...t){const e=!Array.isArray(t[0]),n=e?0:-1,s=t[0+n],a=t[1+n],l=t[2+n],c=t[3+n],f=fv(a,l,c);return e?f(s):f}function j9(t,e,n){const s=t.get();let a=null,l=s,c;const f=typeof s=="string"?s.replace(/[\d.-]/g,""):void 0,m=()=>{a&&(a.stop(),a=null)},p=()=>{m(),a=new em({keyframes:[bT(t.get()),bT(l)],velocity:t.getVelocity(),type:"spring",restDelta:.001,restSpeed:.01,...n,onUpdate:c})};if(t.attach((v,_)=>{l=v,c=w=>_(_T(w,f)),et.postRender(()=>{var w;p(),(w=t.events.animationStart)==null||w.notify(),a==null||a.then(()=>{var S;(S=t.events.animationComplete)==null||S.notify()})})},m),sn(e)){const v=e.on("change",w=>t.set(_T(w,f))),_=t.on("destroy",v);return()=>{v(),_()}}return m}function _T(t,e){return e?t+e:t}function bT(t){return typeof t=="number"?t:parseFloat(t)}const P9=[...NR,Gt,ta],L9=t=>P9.find(CR(t)),xT=()=>({translate:0,scale:1,origin:0,originPoint:0}),el=()=>({x:xT(),y:xT()}),wT=()=>({min:0,max:0}),Qt=()=>({x:wT(),y:wT()}),jy={current:null},zR={current:!1},U9=typeof window<"u";function z9(){if(zR.current=!0,!!U9)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>jy.current=t.matches;t.addEventListener("change",e),e()}else jy.current=!1}const B9=new WeakMap;function tm(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Tc(t){return typeof t=="string"||Array.isArray(t)}const Sv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Av=["initial",...Sv];function nm(t){return tm(t.animate)||Av.some(e=>Tc(t[e]))}function BR(t){return!!(nm(t)||t.variants)}function F9(t,e,n){for(const s in e){const a=e[s],l=n[s];if(sn(a))t.addValue(s,a);else if(sn(l))t.addValue(s,Ii(a,{owner:t}));else if(l!==a)if(t.hasValue(s)){const c=t.getValue(s);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=t.getStaticValue(s);t.addValue(s,Ii(c!==void 0?c:a,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const TT=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let Td={};function FR(t){Td=t}function H9(){return Td}class q9{scrapeMotionValuesFromProps(e,n,s){return{}}constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:a,blockInitialAnimation:l,visualState:c},f={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=pv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const w=wn.now();this.renderScheduledAt<w&&(this.renderScheduledAt=w,et.render(this.render,!1,!0))};const{latestValues:m,renderState:p}=c;this.latestValues=m,this.baseTarget={...m},this.initialValues=n.initial?{...m}:{},this.renderState=p,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=f,this.blockInitialAnimation=!!l,this.isControllingVariants=nm(n),this.isVariantNode=BR(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:v,..._}=this.scrapeMotionValuesFromProps(n,{},this);for(const w in _){const S=_[w];m[w]!==void 0&&sn(S)&&S.set(m[w])}}mount(e){var n;this.current=e,B9.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,a)=>this.bindToMotionValue(a,s)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(zR.current||z9(),this.shouldReduceMotion=jy.current),(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),ji(this.notifyUpdate),ji(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const s=this.features[n];s&&(s.unmount(),s.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=Ml.has(e);s&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&et.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;typeof window<"u"&&window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Td){const n=Td[e];if(!n)continue;const{isEnabled:s,Feature:a}=n;if(!this.features[e]&&a&&s(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Qt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<TT.length;s++){const a=TT[s];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,c=e[l];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=F9(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const s=this.values.get(e);n!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=Ii(n===null?void 0:n,{owner:this}),this.addValue(e,s)),s}readValue(e,n){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(F2(s)||q2(s))?s=parseFloat(s):!L9(s)&&ta.test(n)&&(s=DR(e,n)),this.setBaseTarget(e,sn(s)?s.get():s)),sn(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var l;const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const c=vv(this.props,n,(l=this.presenceContext)==null?void 0:l.custom);c&&(s=c[e])}if(n&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!sn(a)?a:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new iv),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){wv.render(this.render)}}class HR extends q9{constructor(){super(...arguments),this.KeyframeResolver=_9}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){const s=e.style;return s?s[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;sn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class aa{constructor(e){this.isMounted=!1,this.node=e}update(){}}function qR({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function G9({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function $9(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function Mg(t){return t===void 0||t===1}function Py({scale:t,scaleX:e,scaleY:n}){return!Mg(t)||!Mg(e)||!Mg(n)}function Pa(t){return Py(t)||GR(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function GR(t){return ET(t.x)||ET(t.y)}function ET(t){return t&&t!=="0%"}function Ed(t,e,n){const s=t-n,a=e*s;return n+a}function ST(t,e,n,s,a){return a!==void 0&&(t=Ed(t,a,s)),Ed(t,n,s)+e}function Ly(t,e=0,n=1,s,a){t.min=ST(t.min,e,n,s,a),t.max=ST(t.max,e,n,s,a)}function $R(t,{x:e,y:n}){Ly(t.x,e.translate,e.scale,e.originPoint),Ly(t.y,n.translate,n.scale,n.originPoint)}const AT=.999999999999,RT=1.0000000000001;function K9(t,e,n,s=!1){const a=n.length;if(!a)return;e.x=e.y=1;let l,c;for(let f=0;f<a;f++){l=n[f],c=l.projectionDelta;const{visualElement:m}=l.options;m&&m.props.style&&m.props.style.display==="contents"||(s&&l.options.layoutScroll&&l.scroll&&l!==l.root&&nl(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,$R(t,c)),s&&Pa(l.latestValues)&&nl(t,l.latestValues))}e.x<RT&&e.x>AT&&(e.x=1),e.y<RT&&e.y>AT&&(e.y=1)}function tl(t,e){t.min=t.min+e,t.max=t.max+e}function CT(t,e,n,s,a=.5){const l=bt(t.min,t.max,a);Ly(t,e,n,l,s)}function nl(t,e){CT(t.x,e.x,e.scaleX,e.scale,e.originX),CT(t.y,e.y,e.scaleY,e.scale,e.originY)}function KR(t,e){return qR($9(t.getBoundingClientRect(),e))}function Y9(t,e,n){const s=KR(t,n),{scroll:a}=e;return a&&(tl(s.x,a.offset.x),tl(s.y,a.offset.y)),s}const Q9={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},X9=kl.length;function W9(t,e,n){let s="",a=!0;for(let l=0;l<X9;l++){const c=kl[l],f=t[c];if(f===void 0)continue;let m=!0;if(typeof f=="number"?m=f===(c.startsWith("scale")?1:0):m=parseFloat(f)===0,!m||n){const p=MR(f,bv[c]);if(!m){a=!1;const v=Q9[c]||c;s+=`${v}(${p}) `}n&&(e[c]=p)}}return s=s.trim(),n?s=n(e,a?"":s):a&&(s="none"),s}function Rv(t,e,n){const{style:s,vars:a,transformOrigin:l}=t;let c=!1,f=!1;for(const m in e){const p=e[m];if(Ml.has(m)){c=!0;continue}else if(iR(m)){a[m]=p;continue}else{const v=MR(p,bv[m]);m.startsWith("origin")?(f=!0,l[m]=v):s[m]=v}}if(e.transform||(c||n?s.transform=W9(e,t.transform,n):s.transform&&(s.transform="none")),f){const{originX:m="50%",originY:p="50%",originZ:v=0}=l;s.transformOrigin=`${m} ${p} ${v}`}}function YR(t,{style:e,vars:n},s,a){const l=t.style;let c;for(c in e)l[c]=e[c];a==null||a.applyProjectionStyles(l,s);for(c in n)l.setProperty(c,n[c])}function NT(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Fu={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(ge.test(t))t=parseFloat(t);else return t;const n=NT(t,e.target.x),s=NT(t,e.target.y);return`${n}% ${s}%`}},J9={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,a=ta.parse(t);if(a.length>5)return s;const l=ta.createTransformer(t),c=typeof a[0]!="number"?1:0,f=n.x.scale*e.x,m=n.y.scale*e.y;a[0+c]/=f,a[1+c]/=m;const p=bt(f,m,.5);return typeof a[2+c]=="number"&&(a[2+c]/=p),typeof a[3+c]=="number"&&(a[3+c]/=p),l(a)}},Uy={borderRadius:{...Fu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Fu,borderTopRightRadius:Fu,borderBottomLeftRadius:Fu,borderBottomRightRadius:Fu,boxShadow:J9};function QR(t,{layout:e,layoutId:n}){return Ml.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Uy[t]||t==="opacity")}function Cv(t,e,n){var c;const s=t.style,a=e==null?void 0:e.style,l={};if(!s)return l;for(const f in s)(sn(s[f])||a&&sn(a[f])||QR(f,t)||((c=n==null?void 0:n.getValue(f))==null?void 0:c.liveStyle)!==void 0)&&(l[f]=s[f]);return l}function Z9(t){return window.getComputedStyle(t)}class eU extends HR{constructor(){super(...arguments),this.type="html",this.renderInstance=YR}readValueFromInstance(e,n){var s;if(Ml.has(n))return(s=this.projection)!=null&&s.isProjecting?Ay(n):xL(e,n);{const a=Z9(e),l=(iR(n)?a.getPropertyValue(n):a[n])||0;return typeof l=="string"?l.trim():l}}measureInstanceViewportBox(e,{transformPagePoint:n}){return KR(e,n)}build(e,n,s){Rv(e,n,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,s){return Cv(e,n,s)}}const tU={offset:"stroke-dashoffset",array:"stroke-dasharray"},nU={offset:"strokeDashoffset",array:"strokeDasharray"};function iU(t,e,n=1,s=0,a=!0){t.pathLength=1;const l=a?tU:nU;t[l.offset]=ge.transform(-s);const c=ge.transform(e),f=ge.transform(n);t[l.array]=`${c} ${f}`}const sU=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function XR(t,{attrX:e,attrY:n,attrScale:s,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...f},m,p,v){if(Rv(t,f,p),m){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:_,style:w}=t;_.transform&&(w.transform=_.transform,delete _.transform),(w.transform||_.transformOrigin)&&(w.transformOrigin=_.transformOrigin??"50% 50%",delete _.transformOrigin),w.transform&&(w.transformBox=(v==null?void 0:v.transformBox)??"fill-box",delete _.transformBox);for(const S of sU)_[S]!==void 0&&(w[S]=_[S],delete _[S]);e!==void 0&&(_.x=e),n!==void 0&&(_.y=n),s!==void 0&&(_.scale=s),a!==void 0&&iU(_,a,l,c,!1)}const WR=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),JR=t=>typeof t=="string"&&t.toLowerCase()==="svg";function rU(t,e,n,s){YR(t,e,void 0,s);for(const a in e.attrs)t.setAttribute(WR.has(a)?a:_v(a),e.attrs[a])}function ZR(t,e,n){const s=Cv(t,e,n);for(const a in t)if(sn(t[a])||sn(e[a])){const l=kl.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[l]=t[a]}return s}class aU extends HR{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Qt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Ml.has(n)){const s=IR(n);return s&&s.default||0}return n=WR.has(n)?n:_v(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,s){return ZR(e,n,s)}build(e,n,s){XR(e,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,n,s,a){rU(e,n,s,a)}mount(e){this.isSVGTag=JR(e.tagName),super.mount(e)}}const oU=Av.length;function eC(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?eC(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<oU;n++){const s=Av[n],a=t.props[s];(Tc(a)||a===!1)&&(e[s]=a)}return e}function tC(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}const lU=[...Sv].reverse(),uU=Sv.length;function cU(t){return e=>Promise.all(e.map(({animation:n,options:s})=>u9(t,n,s)))}function hU(t){let e=cU(t),n=IT(),s=!0;const a=m=>(p,v)=>{var w;const _=cl(t,v,m==="exit"?(w=t.presenceContext)==null?void 0:w.custom:void 0);if(_){const{transition:S,transitionEnd:N,...M}=_;p={...p,...M,...N}}return p};function l(m){e=m(t)}function c(m){const{props:p}=t,v=eC(t.parent)||{},_=[],w=new Set;let S={},N=1/0;for(let O=0;O<uU;O++){const B=lU[O],G=n[B],F=p[B]!==void 0?p[B]:v[B],oe=Tc(F),re=B===m?G.isActive:null;re===!1&&(N=O);let ce=F===v[B]&&F!==p[B]&&oe;if(ce&&s&&t.manuallyAnimateOnMount&&(ce=!1),G.protectedKeys={...S},!G.isActive&&re===null||!F&&!G.prevProp||tm(F)||typeof F=="boolean")continue;const C=fU(G.prevProp,F);let A=C||B===m&&G.isActive&&!ce&&oe||O>N&&oe,I=!1;const P=Array.isArray(F)?F:[F];let k=P.reduce(a(B),{});re===!1&&(k={});const{prevResolvedValues:z={}}=G,V={...z,...k},Qe=ae=>{A=!0,w.has(ae)&&(I=!0,w.delete(ae)),G.needsAnimating[ae]=!0;const de=t.getValue(ae);de&&(de.liveStyle=!1)};for(const ae in V){const de=k[ae],Te=z[ae];if(S.hasOwnProperty(ae))continue;let Oe=!1;ky(de)&&ky(Te)?Oe=!tC(de,Te):Oe=de!==Te,Oe?de!=null?Qe(ae):w.add(ae):de!==void 0&&w.has(ae)?Qe(ae):G.protectedKeys[ae]=!0}G.prevProp=F,G.prevResolvedValues=k,G.isActive&&(S={...S,...k}),s&&t.blockInitialAnimation&&(A=!1);const ut=ce&&C;A&&(!ut||I)&&_.push(...P.map(ae=>{const de={type:B};if(typeof ae=="string"&&s&&!ut&&t.manuallyAnimateOnMount&&t.parent){const{parent:Te}=t,Oe=cl(Te,ae);if(Te.enteringChildren&&Oe){const{delayChildren:L}=Oe.transition||{};de.delay=wR(Te.enteringChildren,t,L)}}return{animation:ae,options:de}}))}if(w.size){const O={};if(typeof p.initial!="boolean"){const B=cl(t,Array.isArray(p.initial)?p.initial[0]:p.initial);B&&B.transition&&(O.transition=B.transition)}w.forEach(B=>{const G=t.getBaseTarget(B),F=t.getValue(B);F&&(F.liveStyle=!0),O[B]=G??null}),_.push({animation:O})}let M=!!_.length;return s&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(M=!1),s=!1,M?e(_):Promise.resolve()}function f(m,p){var _;if(n[m].isActive===p)return Promise.resolve();(_=t.variantChildren)==null||_.forEach(w=>{var S;return(S=w.animationState)==null?void 0:S.setActive(m,p)}),n[m].isActive=p;const v=c(m);for(const w in n)n[w].protectedKeys={};return v}return{animateChanges:c,setActive:f,setAnimateFunction:l,getState:()=>n,reset:()=>{n=IT()}}}function fU(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!tC(e,t):!1}function Oa(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function IT(){return{animate:Oa(!0),whileInView:Oa(),whileHover:Oa(),whileTap:Oa(),whileDrag:Oa(),whileFocus:Oa(),exit:Oa()}}function DT(t,e){t.min=e.min,t.max=e.max}function Ri(t,e){DT(t.x,e.x),DT(t.y,e.y)}function kT(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}const nC=1e-4,dU=1-nC,mU=1+nC,iC=.01,pU=0-iC,gU=0+iC;function Tn(t){return t.max-t.min}function yU(t,e,n){return Math.abs(t-e)<=n}function MT(t,e,n,s=.5){t.origin=s,t.originPoint=bt(e.min,e.max,t.origin),t.scale=Tn(n)/Tn(e),t.translate=bt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=dU&&t.scale<=mU||isNaN(t.scale))&&(t.scale=1),(t.translate>=pU&&t.translate<=gU||isNaN(t.translate))&&(t.translate=0)}function oc(t,e,n,s){MT(t.x,e.x,n.x,s?s.originX:void 0),MT(t.y,e.y,n.y,s?s.originY:void 0)}function VT(t,e,n){t.min=n.min+e.min,t.max=t.min+Tn(e)}function vU(t,e,n){VT(t.x,e.x,n.x),VT(t.y,e.y,n.y)}function OT(t,e,n){t.min=e.min-n.min,t.max=t.min+Tn(e)}function Sd(t,e,n){OT(t.x,e.x,n.x),OT(t.y,e.y,n.y)}function jT(t,e,n,s,a){return t-=e,t=Ed(t,1/n,s),a!==void 0&&(t=Ed(t,1/a,s)),t}function _U(t,e=0,n=1,s=.5,a,l=t,c=t){if(ds.test(e)&&(e=parseFloat(e),e=bt(c.min,c.max,e/100)-c.min),typeof e!="number")return;let f=bt(l.min,l.max,s);t===l&&(f-=e),t.min=jT(t.min,e,n,f,a),t.max=jT(t.max,e,n,f,a)}function PT(t,e,[n,s,a],l,c){_U(t,e[n],e[s],e[a],e.scale,l,c)}const bU=["x","scaleX","originX"],xU=["y","scaleY","originY"];function LT(t,e,n,s){PT(t.x,e,bU,n?n.x:void 0,s?s.x:void 0),PT(t.y,e,xU,n?n.y:void 0,s?s.y:void 0)}function UT(t){return t.translate===0&&t.scale===1}function sC(t){return UT(t.x)&&UT(t.y)}function zT(t,e){return t.min===e.min&&t.max===e.max}function wU(t,e){return zT(t.x,e.x)&&zT(t.y,e.y)}function BT(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function rC(t,e){return BT(t.x,e.x)&&BT(t.y,e.y)}function FT(t){return Tn(t.x)/Tn(t.y)}function HT(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}function li(t){return[t("x"),t("y")]}function TU(t,e,n){let s="";const a=t.x.translate/e.x,l=t.y.translate/e.y,c=(n==null?void 0:n.z)||0;if((a||l||c)&&(s=`translate3d(${a}px, ${l}px, ${c}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:v,rotateX:_,rotateY:w,skewX:S,skewY:N}=n;p&&(s=`perspective(${p}px) ${s}`),v&&(s+=`rotate(${v}deg) `),_&&(s+=`rotateX(${_}deg) `),w&&(s+=`rotateY(${w}deg) `),S&&(s+=`skewX(${S}deg) `),N&&(s+=`skewY(${N}deg) `)}const f=t.x.scale*e.x,m=t.y.scale*e.y;return(f!==1||m!==1)&&(s+=`scale(${f}, ${m})`),s||"none"}const aC=["TopLeft","TopRight","BottomLeft","BottomRight"],EU=aC.length,qT=t=>typeof t=="string"?parseFloat(t):t,GT=t=>typeof t=="number"||ge.test(t);function SU(t,e,n,s,a,l){a?(t.opacity=bt(0,n.opacity??1,AU(s)),t.opacityExit=bt(e.opacity??1,0,RU(s))):l&&(t.opacity=bt(e.opacity??1,n.opacity??1,s));for(let c=0;c<EU;c++){const f=`border${aC[c]}Radius`;let m=$T(e,f),p=$T(n,f);if(m===void 0&&p===void 0)continue;m||(m=0),p||(p=0),m===0||p===0||GT(m)===GT(p)?(t[f]=Math.max(bt(qT(m),qT(p),s),0),(ds.test(p)||ds.test(m))&&(t[f]+="%")):t[f]=p}(e.rotate||n.rotate)&&(t.rotate=bt(e.rotate||0,n.rotate||0,s))}function $T(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const AU=oC(0,.5,W2),RU=oC(.5,.95,Vn);function oC(t,e,n){return s=>s<t?0:s>e?1:n(wl(t,e,s))}function CU(t,e,n){const s=sn(t)?t:Ii(t);return s.start(yv("",s,e,n)),s.animation}function Ec(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}const NU=(t,e)=>t.depth-e.depth;class IU{constructor(){this.children=[],this.isDirty=!1}add(e){ev(this.children,e),this.isDirty=!0}remove(e){tv(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(NU),this.isDirty=!1,this.children.forEach(e)}}function DU(t,e){const n=wn.now(),s=({timestamp:a})=>{const l=a-n;l>=e&&(ji(s),t(l-e))};return et.setup(s,!0),()=>ji(s)}function Xf(t){return sn(t)?t.get():t}class kU{constructor(){this.members=[]}add(e){ev(this.members,e),e.scheduleRender()}remove(e){if(tv(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let s;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){s=l;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Wf={hasAnimatedSinceResize:!0,hasEverUpdated:!1},Vg=["","X","Y","Z"],MU=1e3;let VU=0;function Og(t,e,n,s){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),s&&(s[t]=0))}function lC(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=AR(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",et,!(a||l))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&lC(s)}function uC({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(c={},f=e==null?void 0:e()){this.id=VU++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(PU),this.nodes.forEach(BU),this.nodes.forEach(FU),this.nodes.forEach(LU)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=f?f.root||f:this,this.path=f?[...f.path,f]:[],this.parent=f,this.depth=f?f.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new IU)}addEventListener(c,f){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new iv),this.eventHandlers.get(c).add(f)}notifyListeners(c,...f){const m=this.eventHandlers.get(c);m&&m.notify(...f)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=Ev(c)&&!V9(c),this.instance=c;const{layoutId:f,layout:m,visualElement:p}=this.options;if(p&&!p.current&&p.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||f)&&(this.isLayoutDirty=!0),t){let v,_=0;const w=()=>this.root.updateBlockedByResize=!1;et.read(()=>{_=window.innerWidth}),t(c,()=>{const S=window.innerWidth;S!==_&&(_=S,this.root.updateBlockedByResize=!0,v&&v(),v=DU(w,250),Wf.hasAnimatedSinceResize&&(Wf.hasAnimatedSinceResize=!1,this.nodes.forEach(QT)))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&p&&(f||m)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:_,hasRelativeLayoutChanged:w,layout:S})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const N=this.options.transition||p.getDefaultTransition()||KU,{onLayoutAnimationStart:M,onLayoutAnimationComplete:O}=p.getProps(),B=!this.targetLayout||!rC(this.targetLayout,S),G=!_&&w;if(this.options.layoutRoot||this.resumeFrom||G||_&&(B||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const F={...gv(N,"layout"),onPlay:M,onComplete:O};(p.shouldReduceMotion||this.options.layoutRoot)&&(F.delay=0,F.type=!1),this.startAnimation(F),this.setAnimationOrigin(v,G)}else _||QT(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=S})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ji(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(HU),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&lC(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let v=0;v<this.path.length;v++){const _=this.path[v];_.shouldResetTransform=!0,_.updateScroll("snapshot"),_.options.layoutRoot&&_.willUpdate(!1)}const{layoutId:f,layout:m}=this.options;if(f===void 0&&!m)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(KT);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(YT);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(zU),this.nodes.forEach(OU),this.nodes.forEach(jU)):this.nodes.forEach(YT),this.clearAllSnapshots();const f=wn.now();tn.delta=Oi(0,1e3/60,f-tn.timestamp),tn.timestamp=f,tn.isProcessing=!0,Ag.update.process(tn),Ag.preRender.process(tn),Ag.render.process(tn),tn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,wv.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(UU),this.sharedNodes.forEach(qU)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,et.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){et.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Tn(this.snapshot.measuredBox.x)&&!Tn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Qt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:f}=this.options;f&&f.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let f=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(f=!1),f&&this.instance){const m=s(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:m,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,f=this.projectionDelta&&!sC(this.projectionDelta),m=this.getTransformTemplate(),p=m?m(this.latestValues,""):void 0,v=p!==this.prevTransformTemplateValue;c&&this.instance&&(f||Pa(this.latestValues)||v)&&(a(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const f=this.measurePageBox();let m=this.removeElementScroll(f);return c&&(m=this.removeTransform(m)),YU(m),{animationId:this.root.animationId,measuredBox:f,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){var p;const{visualElement:c}=this.options;if(!c)return Qt();const f=c.measureViewportBox();if(!(((p=this.scroll)==null?void 0:p.wasRoot)||this.path.some(QU))){const{scroll:v}=this.root;v&&(tl(f.x,v.offset.x),tl(f.y,v.offset.y))}return f}removeElementScroll(c){var m;const f=Qt();if(Ri(f,c),(m=this.scroll)!=null&&m.wasRoot)return f;for(let p=0;p<this.path.length;p++){const v=this.path[p],{scroll:_,options:w}=v;v!==this.root&&_&&w.layoutScroll&&(_.wasRoot&&Ri(f,c),tl(f.x,_.offset.x),tl(f.y,_.offset.y))}return f}applyTransform(c,f=!1){const m=Qt();Ri(m,c);for(let p=0;p<this.path.length;p++){const v=this.path[p];!f&&v.options.layoutScroll&&v.scroll&&v!==v.root&&nl(m,{x:-v.scroll.offset.x,y:-v.scroll.offset.y}),Pa(v.latestValues)&&nl(m,v.latestValues)}return Pa(this.latestValues)&&nl(m,this.latestValues),m}removeTransform(c){const f=Qt();Ri(f,c);for(let m=0;m<this.path.length;m++){const p=this.path[m];if(!p.instance||!Pa(p.latestValues))continue;Py(p.latestValues)&&p.updateSnapshot();const v=Qt(),_=p.measurePageBox();Ri(v,_),LT(f,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,v)}return Pa(this.latestValues)&&LT(f,this.latestValues),f}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==tn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var S;const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==f;if(!(c||m&&this.isSharedProjectionDirty||this.isProjectionDirty||(S=this.parent)!=null&&S.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:v,layoutId:_}=this.options;if(!this.layout||!(v||_))return;this.resolvedRelativeTargetAt=tn.timestamp;const w=this.getClosestProjectingParent();w&&this.linkedParentVersion!==w.layoutVersion&&!w.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(w&&w.layout?this.createRelativeTarget(w,this.layout.layoutBox,w.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Qt(),this.targetWithTransforms=Qt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),vU(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ri(this.target,this.layout.layoutBox),$R(this.target,this.targetDelta)):Ri(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,w&&!!w.resumingFrom==!!this.resumingFrom&&!w.options.layoutScroll&&w.target&&this.animationProgress!==1?this.createRelativeTarget(w,this.target,w.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Py(this.parent.latestValues)||GR(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(c,f,m){this.relativeParent=c,this.linkedParentVersion=c.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Qt(),this.relativeTargetOrigin=Qt(),Sd(this.relativeTargetOrigin,f,m),Ri(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var N;const c=this.getLead(),f=!!this.resumingFrom||this!==c;let m=!0;if((this.isProjectionDirty||(N=this.parent)!=null&&N.isProjectionDirty)&&(m=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===tn.timestamp&&(m=!1),m)return;const{layout:p,layoutId:v}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||v))return;Ri(this.layoutCorrected,this.layout.layoutBox);const _=this.treeScale.x,w=this.treeScale.y;K9(this.layoutCorrected,this.treeScale,this.path,f),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Qt());const{target:S}=c;if(!S){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(kT(this.prevProjectionDelta.x,this.projectionDelta.x),kT(this.prevProjectionDelta.y,this.projectionDelta.y)),oc(this.projectionDelta,this.layoutCorrected,S,this.latestValues),(this.treeScale.x!==_||this.treeScale.y!==w||!HT(this.projectionDelta.x,this.prevProjectionDelta.x)||!HT(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",S))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var f;if((f=this.options.visualElement)==null||f.scheduleRender(),c){const m=this.getStack();m&&m.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=el(),this.projectionDelta=el(),this.projectionDeltaWithTransform=el()}setAnimationOrigin(c,f=!1){const m=this.snapshot,p=m?m.latestValues:{},v={...this.latestValues},_=el();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!f;const w=Qt(),S=m?m.source:void 0,N=this.layout?this.layout.source:void 0,M=S!==N,O=this.getStack(),B=!O||O.members.length<=1,G=!!(M&&!B&&this.options.crossfade===!0&&!this.path.some($U));this.animationProgress=0;let F;this.mixTargetDelta=oe=>{const re=oe/1e3;XT(_.x,c.x,re),XT(_.y,c.y,re),this.setTargetDelta(_),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Sd(w,this.layout.layoutBox,this.relativeParent.layout.layoutBox),GU(this.relativeTarget,this.relativeTargetOrigin,w,re),F&&wU(this.relativeTarget,F)&&(this.isProjectionDirty=!1),F||(F=Qt()),Ri(F,this.relativeTarget)),M&&(this.animationValues=v,SU(v,p,this.latestValues,re,G,B)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=re},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){var f,m,p;this.notifyListeners("animationStart"),(f=this.currentAnimation)==null||f.stop(),(p=(m=this.resumingFrom)==null?void 0:m.currentAnimation)==null||p.stop(),this.pendingAnimation&&(ji(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=et.update(()=>{Wf.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Ii(0)),this.currentAnimation=CU(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:v=>{this.mixTargetDelta(v),c.onUpdate&&c.onUpdate(v)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(MU),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:f,target:m,layout:p,latestValues:v}=c;if(!(!f||!m||!p)){if(this!==c&&this.layout&&p&&cC(this.options.animationType,this.layout.layoutBox,p.layoutBox)){m=this.target||Qt();const _=Tn(this.layout.layoutBox.x);m.x.min=c.target.x.min,m.x.max=m.x.min+_;const w=Tn(this.layout.layoutBox.y);m.y.min=c.target.y.min,m.y.max=m.y.min+w}Ri(f,m),nl(f,v),oc(this.projectionDeltaWithTransform,this.layoutCorrected,f,v)}}registerSharedNode(c,f){this.sharedNodes.has(c)||this.sharedNodes.set(c,new kU),this.sharedNodes.get(c).add(f);const p=f.options.initialPromotionConfig;f.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(f):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var f;const{layoutId:c}=this.options;return c?((f=this.getStack())==null?void 0:f.lead)||this:this}getPrevLead(){var f;const{layoutId:c}=this.options;return c?(f=this.getStack())==null?void 0:f.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:f,preserveFollowOpacity:m}={}){const p=this.getStack();p&&p.promote(this,m),c&&(this.projectionDelta=void 0,this.needsReset=!0),f&&this.setOptions({transition:f})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let f=!1;const{latestValues:m}=c;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(f=!0),!f)return;const p={};m.z&&Og("z",c,p,this.animationValues);for(let v=0;v<Vg.length;v++)Og(`rotate${Vg[v]}`,c,p,this.animationValues),Og(`skew${Vg[v]}`,c,p,this.animationValues);c.render();for(const v in p)c.setStaticValue(v,p[v]),this.animationValues&&(this.animationValues[v]=p[v]);c.scheduleRender()}applyProjectionStyles(c,f){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const m=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=Xf(f==null?void 0:f.pointerEvents)||"",c.transform=m?m(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=Xf(f==null?void 0:f.pointerEvents)||""),this.hasProjected&&!Pa(this.latestValues)&&(c.transform=m?m({},""):"none",this.hasProjected=!1);return}c.visibility="";const v=p.animationValues||p.latestValues;this.applyTransformsToTarget();let _=TU(this.projectionDeltaWithTransform,this.treeScale,v);m&&(_=m(v,_)),c.transform=_;const{x:w,y:S}=this.projectionDelta;c.transformOrigin=`${w.origin*100}% ${S.origin*100}% 0`,p.animationValues?c.opacity=p===this?v.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:c.opacity=p===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const N in Uy){if(v[N]===void 0)continue;const{correct:M,applyTo:O,isCSSVariable:B}=Uy[N],G=_==="none"?v[N]:M(v[N],p);if(O){const F=O.length;for(let oe=0;oe<F;oe++)c[O[oe]]=G}else B?this.options.visualElement.renderState.vars[N]=G:c[N]=G}this.options.layoutId&&(c.pointerEvents=p===this?Xf(f==null?void 0:f.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var f;return(f=c.currentAnimation)==null?void 0:f.stop()}),this.root.nodes.forEach(KT),this.root.sharedNodes.clear()}}}function OU(t){t.updateLayout()}function jU(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:a}=t.layout,{animationType:l}=t.options,c=e.source!==t.layout.source;l==="size"?li(_=>{const w=c?e.measuredBox[_]:e.layoutBox[_],S=Tn(w);w.min=s[_].min,w.max=w.min+S}):cC(l,e.layoutBox,s)&&li(_=>{const w=c?e.measuredBox[_]:e.layoutBox[_],S=Tn(s[_]);w.max=w.min+S,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[_].max=t.relativeTarget[_].min+S)});const f=el();oc(f,s,e.layoutBox);const m=el();c?oc(m,t.applyTransform(a,!0),e.measuredBox):oc(m,s,e.layoutBox);const p=!sC(f);let v=!1;if(!t.resumeFrom){const _=t.getClosestProjectingParent();if(_&&!_.resumeFrom){const{snapshot:w,layout:S}=_;if(w&&S){const N=Qt();Sd(N,e.layoutBox,w.layoutBox);const M=Qt();Sd(M,s,S.layoutBox),rC(N,M)||(v=!0),_.options.layoutRoot&&(t.relativeTarget=M,t.relativeTargetOrigin=N,t.relativeParent=_)}}}t.notifyListeners("didUpdate",{layout:s,snapshot:e,delta:m,layoutDelta:f,hasLayoutChanged:p,hasRelativeLayoutChanged:v})}else if(t.isLead()){const{onExitComplete:s}=t.options;s&&s()}t.options.transition=void 0}function PU(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function LU(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function UU(t){t.clearSnapshot()}function KT(t){t.clearMeasurements()}function YT(t){t.isLayoutDirty=!1}function zU(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function QT(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function BU(t){t.resolveTargetDelta()}function FU(t){t.calcProjection()}function HU(t){t.resetSkewAndRotation()}function qU(t){t.removeLeadSnapshot()}function XT(t,e,n){t.translate=bt(e.translate,0,n),t.scale=bt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function WT(t,e,n,s){t.min=bt(e.min,n.min,s),t.max=bt(e.max,n.max,s)}function GU(t,e,n,s){WT(t.x,e.x,n.x,s),WT(t.y,e.y,n.y,s)}function $U(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const KU={duration:.45,ease:[.4,0,.1,1]},JT=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),ZT=JT("applewebkit/")&&!JT("chrome/")?Math.round:Vn;function eE(t){t.min=ZT(t.min),t.max=ZT(t.max)}function YU(t){eE(t.x),eE(t.y)}function cC(t,e,n){return t==="position"||t==="preserve-aspect"&&!yU(FT(e),FT(n),.2)}function QU(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const XU=uC({attachResizeListener:(t,e)=>Ec(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),jg={current:void 0},hC=uC({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!jg.current){const t=new XU({});t.mount(window),t.setOptions({layoutScroll:!0}),jg.current=t}return jg.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Fc=D.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function tE(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function WU(...t){return e=>{let n=!1;const s=t.map(a=>{const l=tE(a,e);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let a=0;a<s.length;a++){const l=s[a];typeof l=="function"?l():tE(t[a],null)}}}}function JU(...t){return D.useCallback(WU(...t),t)}class ZU extends D.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const s=n.offsetParent,a=xv(s)&&s.offsetWidth||0,l=this.props.sizeRef.current;l.height=n.offsetHeight||0,l.width=n.offsetWidth||0,l.top=n.offsetTop,l.left=n.offsetLeft,l.right=a-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function e8({children:t,isPresent:e,anchorX:n,root:s}){var v;const a=D.useId(),l=D.useRef(null),c=D.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:f}=D.useContext(Fc),m=((v=t.props)==null?void 0:v.ref)??(t==null?void 0:t.ref),p=JU(l,m);return D.useInsertionEffect(()=>{const{width:_,height:w,top:S,left:N,right:M}=c.current;if(e||!l.current||!_||!w)return;const O=n==="left"?`left: ${N}`:`right: ${M}`;l.current.dataset.motionPopId=a;const B=document.createElement("style");f&&(B.nonce=f);const G=s??document.head;return G.appendChild(B),B.sheet&&B.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${_}px !important;
            height: ${w}px !important;
            ${O}px !important;
            top: ${S}px !important;
          }
        `),()=>{G.contains(B)&&G.removeChild(B)}},[e]),y.jsx(ZU,{isPresent:e,childRef:l,sizeRef:c,children:D.cloneElement(t,{ref:p})})}const t8=({children:t,initial:e,isPresent:n,onExitComplete:s,custom:a,presenceAffectsLayout:l,mode:c,anchorX:f,root:m})=>{const p=ea(n8),v=D.useId();let _=!0,w=D.useMemo(()=>(_=!1,{id:v,initial:e,isPresent:n,custom:a,onExitComplete:S=>{p.set(S,!0);for(const N of p.values())if(!N)return;s&&s()},register:S=>(p.set(S,!1),()=>p.delete(S))}),[n,p,s]);return l&&_&&(w={...w}),D.useMemo(()=>{p.forEach((S,N)=>p.set(N,!1))},[n]),D.useEffect(()=>{!n&&!p.size&&s&&s()},[n]),c==="popLayout"&&(t=y.jsx(e8,{isPresent:n,anchorX:f,root:m,children:t})),y.jsx(Zd.Provider,{value:w,children:t})};function n8(){return new Map}function fC(t=!0){const e=D.useContext(Zd);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:a}=e,l=D.useId();D.useEffect(()=>{if(t)return a(l)},[t]);const c=D.useCallback(()=>t&&s&&s(l),[l,s,t]);return!n&&s?[!1,c]:[!0]}const If=t=>t.key||"";function nE(t){const e=[];return D.Children.forEach(t,n=>{D.isValidElement(n)&&e.push(n)}),e}const na=({children:t,custom:e,initial:n=!0,onExitComplete:s,presenceAffectsLayout:a=!0,mode:l="sync",propagate:c=!1,anchorX:f="left",root:m})=>{const[p,v]=fC(c),_=D.useMemo(()=>nE(t),[t]),w=c&&!p?[]:_.map(If),S=D.useRef(!0),N=D.useRef(_),M=ea(()=>new Map),O=D.useRef(new Set),[B,G]=D.useState(_),[F,oe]=D.useState(_);Jd(()=>{S.current=!1,N.current=_;for(let C=0;C<F.length;C++){const A=If(F[C]);w.includes(A)?(M.delete(A),O.current.delete(A)):M.get(A)!==!0&&M.set(A,!1)}},[F,w.length,w.join("-")]);const re=[];if(_!==B){let C=[..._];for(let A=0;A<F.length;A++){const I=F[A],P=If(I);w.includes(P)||(C.splice(A,0,I),re.push(I))}return l==="wait"&&re.length&&(C=re),oe(nE(C)),G(_),null}const{forceRender:ce}=D.useContext(Z0);return y.jsx(y.Fragment,{children:F.map(C=>{const A=If(C),I=c&&!p?!1:_===F||w.includes(A),P=()=>{if(O.current.has(A))return;if(O.current.add(A),M.has(A))M.set(A,!0);else return;let k=!0;M.forEach(z=>{z||(k=!1)}),k&&(ce==null||ce(),oe(N.current),c&&(v==null||v()),s&&s())};return y.jsx(t8,{isPresent:I,initial:!S.current||n?void 0:!1,custom:e,presenceAffectsLayout:a,mode:l,root:m,onExitComplete:I?void 0:P,anchorX:f,children:C},A)})})},dC=D.createContext({strict:!1}),iE={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let sE=!1;function i8(){if(sE)return;const t={};for(const e in iE)t[e]={isEnabled:n=>iE[e].some(s=>!!n[s])};FR(t),sE=!0}function mC(){return i8(),H9()}function s8(t){const e=mC();for(const n in t)e[n]={...e[n],...t[n]};FR(e)}const r8=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ad(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||r8.has(t)}let pC=t=>!Ad(t);function a8(t){typeof t=="function"&&(pC=e=>e.startsWith("on")?!Ad(e):t(e))}try{a8(require("@emotion/is-prop-valid").default)}catch{}function o8(t,e,n){const s={};for(const a in t)a==="values"&&typeof t.values=="object"||(pC(a)||n===!0&&Ad(a)||!e&&!Ad(a)||t.draggable&&a.startsWith("onDrag"))&&(s[a]=t[a]);return s}const im=D.createContext({});function l8(t,e){if(nm(t)){const{initial:n,animate:s}=t;return{initial:n===!1||Tc(n)?n:void 0,animate:Tc(s)?s:void 0}}return t.inherit!==!1?e:{}}function u8(t){const{initial:e,animate:n}=l8(t,D.useContext(im));return D.useMemo(()=>({initial:e,animate:n}),[rE(e),rE(n)])}function rE(t){return Array.isArray(t)?t.join(" "):t}const Nv=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function gC(t,e,n){for(const s in e)!sn(e[s])&&!QR(s,n)&&(t[s]=e[s])}function c8({transformTemplate:t},e){return D.useMemo(()=>{const n=Nv();return Rv(n,e,t),Object.assign({},n.vars,n.style)},[e])}function h8(t,e){const n=t.style||{},s={};return gC(s,n,t),Object.assign(s,c8(t,e)),s}function f8(t,e){const n={},s=h8(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=s,n}const yC=()=>({...Nv(),attrs:{}});function d8(t,e,n,s){const a=D.useMemo(()=>{const l=yC();return XR(l,e,JR(s),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};gC(l,t.style,t),a.style={...l,...a.style}}return a}const m8=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Iv(t){return typeof t!="string"||t.includes("-")?!1:!!(m8.indexOf(t)>-1||/[A-Z]/u.test(t))}function p8(t,e,n,{latestValues:s},a,l=!1,c){const m=(c??Iv(t)?d8:f8)(e,s,a,t),p=o8(e,typeof t=="string",l),v=t!==D.Fragment?{...p,...m,ref:n}:{},{children:_}=e,w=D.useMemo(()=>sn(_)?_.get():_,[_]);return D.createElement(t,{...v,children:w})}function g8({scrapeMotionValuesFromProps:t,createRenderState:e},n,s,a){return{latestValues:y8(n,s,a,t),renderState:e()}}function y8(t,e,n,s){const a={},l=s(t,{});for(const w in l)a[w]=Xf(l[w]);let{initial:c,animate:f}=t;const m=nm(t),p=BR(t);e&&p&&!m&&t.inherit!==!1&&(c===void 0&&(c=e.initial),f===void 0&&(f=e.animate));let v=n?n.initial===!1:!1;v=v||c===!1;const _=v?f:c;if(_&&typeof _!="boolean"&&!tm(_)){const w=Array.isArray(_)?_:[_];for(let S=0;S<w.length;S++){const N=vv(t,w[S]);if(N){const{transitionEnd:M,transition:O,...B}=N;for(const G in B){let F=B[G];if(Array.isArray(F)){const oe=v?F.length-1:0;F=F[oe]}F!==null&&(a[G]=F)}for(const G in M)a[G]=M[G]}}}return a}const vC=t=>(e,n)=>{const s=D.useContext(im),a=D.useContext(Zd),l=()=>g8(t,e,s,a);return n?l():ea(l)},v8=vC({scrapeMotionValuesFromProps:Cv,createRenderState:Nv}),_8=vC({scrapeMotionValuesFromProps:ZR,createRenderState:yC}),b8=Symbol.for("motionComponentSymbol");function x8(t,e,n){const s=D.useRef(n);D.useInsertionEffect(()=>{s.current=n});const a=D.useRef(null);return D.useCallback(l=>{var f;l&&((f=t.onMount)==null||f.call(t,l)),e&&(l?e.mount(l):e.unmount());const c=s.current;if(typeof c=="function")if(l){const m=c(l);typeof m=="function"&&(a.current=m)}else a.current?(a.current(),a.current=null):c(l);else c&&(c.current=l)},[e])}const _C=D.createContext({});function Qu(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function w8(t,e,n,s,a,l){var O,B;const{visualElement:c}=D.useContext(im),f=D.useContext(dC),m=D.useContext(Zd),p=D.useContext(Fc).reducedMotion,v=D.useRef(null);s=s||f.renderer,!v.current&&s&&(v.current=s(t,{visualState:e,parent:c,props:n,presenceContext:m,blockInitialAnimation:m?m.initial===!1:!1,reducedMotionConfig:p,isSVG:l}));const _=v.current,w=D.useContext(_C);_&&!_.projection&&a&&(_.type==="html"||_.type==="svg")&&T8(v.current,n,a,w);const S=D.useRef(!1);D.useInsertionEffect(()=>{_&&S.current&&_.update(n,m)});const N=n[SR],M=D.useRef(!!N&&!((O=window.MotionHandoffIsComplete)!=null&&O.call(window,N))&&((B=window.MotionHasOptimisedAnimation)==null?void 0:B.call(window,N)));return Jd(()=>{_&&(S.current=!0,window.MotionIsMounted=!0,_.updateFeatures(),_.scheduleRenderMicrotask(),M.current&&_.animationState&&_.animationState.animateChanges())}),D.useEffect(()=>{_&&(!M.current&&_.animationState&&_.animationState.animateChanges(),M.current&&(queueMicrotask(()=>{var G;(G=window.MotionHandoffMarkAsComplete)==null||G.call(window,N)}),M.current=!1),_.enteringChildren=void 0)}),_}function T8(t,e,n,s){const{layoutId:a,layout:l,drag:c,dragConstraints:f,layoutScroll:m,layoutRoot:p,layoutCrossfade:v}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:bC(t.parent)),t.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!c||f&&Qu(f),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:s,crossfade:v,layoutScroll:m,layoutRoot:p})}function bC(t){if(t)return t.options.allowProjection!==!1?t.projection:bC(t.parent)}function Pg(t,{forwardMotionProps:e=!1,type:n}={},s,a){s&&s8(s);const l=n?n==="svg":Iv(t),c=l?_8:v8;function f(p,v){let _;const w={...D.useContext(Fc),...p,layoutId:E8(p)},{isStatic:S}=w,N=u8(p),M=c(p,S);if(!S&&B2){S8();const O=A8(w);_=O.MeasureLayout,N.visualElement=w8(t,M,w,a,O.ProjectionNode,l)}return y.jsxs(im.Provider,{value:N,children:[_&&N.visualElement?y.jsx(_,{visualElement:N.visualElement,...w}):null,p8(t,p,x8(M,N.visualElement,v),M,S,e,l)]})}f.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const m=D.forwardRef(f);return m[b8]=t,m}function E8({layoutId:t}){const e=D.useContext(Z0).id;return e&&t!==void 0?e+"-"+t:t}function S8(t,e){D.useContext(dC).strict}function A8(t){const e=mC(),{drag:n,layout:s}=e;if(!n&&!s)return{};const a={...n,...s};return{MeasureLayout:n!=null&&n.isEnabled(t)||s!=null&&s.isEnabled(t)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}function R8(t,e){if(typeof Proxy>"u")return Pg;const n=new Map,s=(l,c)=>Pg(l,c,t,e),a=(l,c)=>s(l,c);return new Proxy(a,{get:(l,c)=>c==="create"?s:(n.has(c)||n.set(c,Pg(c,void 0,t,e)),n.get(c))})}const C8=(t,e)=>e.isSVG??Iv(t)?new aU(e):new eU(e,{allowProjection:t!==D.Fragment});class N8 extends aa{constructor(e){super(e),e.animationState||(e.animationState=hU(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();tm(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let I8=0;class D8 extends aa{constructor(){super(...arguments),this.id=I8++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const k8={animation:{Feature:N8},exit:{Feature:D8}};function Hc(t){return{point:{x:t.pageX,y:t.pageY}}}const M8=t=>e=>Tv(e)&&t(e,Hc(e));function lc(t,e,n,s){return Ec(t,e,M8(n),s)}const xC=({current:t})=>t?t.ownerDocument.defaultView:null,aE=(t,e)=>Math.abs(t-e);function V8(t,e){const n=aE(t.x,e.x),s=aE(t.y,e.y);return Math.sqrt(n**2+s**2)}const oE=new Set(["auto","scroll"]);class wC{constructor(e,n,{transformPagePoint:s,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:c=3,element:f}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=S=>{this.handleScroll(S.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=Ug(this.lastMoveEventInfo,this.history),N=this.startEvent!==null,M=V8(S.offset,{x:0,y:0})>=this.distanceThreshold;if(!N&&!M)return;const{point:O}=S,{timestamp:B}=tn;this.history.push({...O,timestamp:B});const{onStart:G,onMove:F}=this.handlers;N||(G&&G(this.lastMoveEvent,S),this.startEvent=this.lastMoveEvent),F&&F(this.lastMoveEvent,S)},this.handlePointerMove=(S,N)=>{this.lastMoveEvent=S,this.lastMoveEventInfo=Lg(N,this.transformPagePoint),et.update(this.updatePoint,!0)},this.handlePointerUp=(S,N)=>{this.end();const{onEnd:M,onSessionEnd:O,resumeAnimation:B}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&B&&B(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const G=Ug(S.type==="pointercancel"?this.lastMoveEventInfo:Lg(N,this.transformPagePoint),this.history);this.startEvent&&M&&M(S,G),O&&O(S,G)},!Tv(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=c,this.contextWindow=a||window;const m=Hc(e),p=Lg(m,this.transformPagePoint),{point:v}=p,{timestamp:_}=tn;this.history=[{...v,timestamp:_}];const{onSessionStart:w}=n;w&&w(e,Ug(p,this.history)),this.removeListeners=Uc(lc(this.contextWindow,"pointermove",this.handlePointerMove),lc(this.contextWindow,"pointerup",this.handlePointerUp),lc(this.contextWindow,"pointercancel",this.handlePointerUp)),f&&this.startScrollTracking(f)}startScrollTracking(e){let n=e.parentElement;for(;n;){const s=getComputedStyle(n);(oE.has(s.overflowX)||oE.has(s.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const n=this.scrollPositions.get(e);if(!n)return;const s=e===window,a=s?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},l={x:a.x-n.x,y:a.y-n.y};l.x===0&&l.y===0||(s?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=l.x,this.lastMoveEventInfo.point.y+=l.y):this.history.length>0&&(this.history[0].x-=l.x,this.history[0].y-=l.y),this.scrollPositions.set(e,a),et.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),ji(this.updatePoint)}}function Lg(t,e){return e?{point:e(t.point)}:t}function lE(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Ug({point:t},e){return{point:t,delta:lE(t,TC(e)),offset:lE(t,O8(e)),velocity:j8(e,.1)}}function O8(t){return t[0]}function TC(t){return t[t.length-1]}function j8(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const a=TC(t);for(;n>=0&&(s=t[n],!(a.timestamp-s.timestamp>qs(e)));)n--;if(!s)return{x:0,y:0};const l=fi(a.timestamp-s.timestamp);if(l===0)return{x:0,y:0};const c={x:(a.x-s.x)/l,y:(a.y-s.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function P8(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?bt(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?bt(n,t,s.max):Math.min(t,n)),t}function uE(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function L8(t,{top:e,left:n,bottom:s,right:a}){return{x:uE(t.x,n,a),y:uE(t.y,e,s)}}function cE(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function U8(t,e){return{x:cE(t.x,e.x),y:cE(t.y,e.y)}}function z8(t,e){let n=.5;const s=Tn(t),a=Tn(e);return a>s?n=wl(e.min,e.max-s,t.min):s>a&&(n=wl(t.min,t.max-a,e.min)),Oi(0,1,n)}function B8(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const zy=.35;function F8(t=zy){return t===!1?t=0:t===!0&&(t=zy),{x:hE(t,"left","right"),y:hE(t,"top","bottom")}}function hE(t,e,n){return{min:fE(t,e),max:fE(t,n)}}function fE(t,e){return typeof t=="number"?t:t[e]||0}const H8=new WeakMap;class q8{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Qt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=_=>{n?(this.stopAnimation(),this.snapToCursor(Hc(_).point)):this.pauseAnimation()},c=(_,w)=>{this.stopAnimation();const{drag:S,dragPropagation:N,onDragStart:M}=this.getProps();if(S&&!N&&(this.openDragLock&&this.openDragLock(),this.openDragLock=b9(S),!this.openDragLock))return;this.latestPointerEvent=_,this.latestPanInfo=w,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),li(B=>{let G=this.getAxisMotionValue(B).get()||0;if(ds.test(G)){const{projection:F}=this.visualElement;if(F&&F.layout){const oe=F.layout.layoutBox[B];oe&&(G=Tn(oe)*(parseFloat(G)/100))}}this.originPoint[B]=G}),M&&et.postRender(()=>M(_,w)),My(this.visualElement,"transform");const{animationState:O}=this.visualElement;O&&O.setActive("whileDrag",!0)},f=(_,w)=>{this.latestPointerEvent=_,this.latestPanInfo=w;const{dragPropagation:S,dragDirectionLock:N,onDirectionLock:M,onDrag:O}=this.getProps();if(!S&&!this.openDragLock)return;const{offset:B}=w;if(N&&this.currentDirection===null){this.currentDirection=G8(B),this.currentDirection!==null&&M&&M(this.currentDirection);return}this.updateAxis("x",w.point,B),this.updateAxis("y",w.point,B),this.visualElement.render(),O&&O(_,w)},m=(_,w)=>{this.latestPointerEvent=_,this.latestPanInfo=w,this.stop(_,w),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>li(_=>{var w;return this.getAnimationState(_)==="paused"&&((w=this.getAxisMotionValue(_).animation)==null?void 0:w.play())}),{dragSnapToOrigin:v}=this.getProps();this.panSession=new wC(e,{onSessionStart:l,onStart:c,onMove:f,onSessionEnd:m,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:v,distanceThreshold:s,contextWindow:xC(this.visualElement),element:this.visualElement.current})}stop(e,n){const s=e||this.latestPointerEvent,a=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!s)return;const{velocity:c}=a;this.startAnimation(c);const{onDragEnd:f}=this.getProps();f&&et.postRender(()=>f(s,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,s){const{drag:a}=this.getProps();if(!s||!Df(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let c=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(c=P8(c,this.constraints[e],this.elastic[e])),l.set(c)}resolveConstraints(){var l;const{dragConstraints:e,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(l=this.visualElement.projection)==null?void 0:l.layout,a=this.constraints;e&&Qu(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=L8(s.layoutBox,e):this.constraints=!1,this.elastic=F8(n),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&li(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=B8(s.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Qu(e))return!1;const s=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=Y9(s,a.root,this.visualElement.getTransformPagePoint());let c=U8(a.layout.layoutBox,l);if(n){const f=n(G9(c));this.hasMutatedConstraints=!!f,f&&(c=qR(f))}return c}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:a,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:f}=this.getProps(),m=this.constraints||{},p=li(v=>{if(!Df(v,n,this.currentDirection))return;let _=m&&m[v]||{};c&&(_={min:0,max:0});const w=a?200:1e6,S=a?40:1e7,N={type:"inertia",velocity:s?e[v]:0,bounceStiffness:w,bounceDamping:S,timeConstant:750,restDelta:1,restSpeed:10,...l,..._};return this.startAxisValueAnimation(v,N)});return Promise.all(p).then(f)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return My(this.visualElement,e),s.start(yv(e,s,0,n,this.visualElement,!1))}stopAnimation(){li(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){li(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),a=s[n];return a||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){li(n=>{const{drag:s}=this.getProps();if(!Df(n,s,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:c,max:f}=a.layout.layoutBox[n],m=l.get()||0;l.set(e[n]-bt(c,f,.5)+m)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!Qu(n)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};li(c=>{const f=this.getAxisMotionValue(c);if(f&&this.constraints!==!1){const m=f.get();a[c]=z8({min:m,max:m},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),li(c=>{if(!Df(c,e,null))return;const f=this.getAxisMotionValue(c),{min:m,max:p}=this.constraints[c];f.set(bt(m,p,a[c]))})}addListeners(){if(!this.visualElement.current)return;H8.set(this.visualElement,this);const e=this.visualElement.current,n=lc(e,"pointerdown",m=>{const{drag:p,dragListener:v=!0}=this.getProps();p&&v&&!PR(m.target)&&this.start(m)}),s=()=>{const{dragConstraints:m}=this.getProps();Qu(m)&&m.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",s);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),et.read(s);const c=Ec(window,"resize",()=>this.scalePositionWithinConstraints()),f=a.addEventListener("didUpdate",(({delta:m,hasLayoutChanged:p})=>{this.isDragging&&p&&(li(v=>{const _=this.getAxisMotionValue(v);_&&(this.originPoint[v]+=m[v].translate,_.set(_.get()+m[v].translate))}),this.visualElement.render())}));return()=>{c(),n(),l(),f&&f()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:c=zy,dragMomentum:f=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:a,dragConstraints:l,dragElastic:c,dragMomentum:f}}}function Df(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function G8(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class $8 extends aa{constructor(e){super(e),this.removeGroupControls=Vn,this.removeListeners=Vn,this.controls=new q8(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Vn}update(){const{dragControls:e}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};e!==n&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners()}}const dE=t=>(e,n)=>{t&&et.postRender(()=>t(e,n))};class K8 extends aa{constructor(){super(...arguments),this.removePointerDownListener=Vn}onPointerDown(e){this.session=new wC(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:xC(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:dE(e),onStart:dE(n),onMove:s,onEnd:(l,c)=>{delete this.session,a&&et.postRender(()=>a(l,c))}}}mount(){this.removePointerDownListener=lc(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let zg=!1;class Y8 extends D.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:a}=this.props,{projection:l}=e;l&&(n.group&&n.group.add(l),s&&s.register&&a&&s.register(l),zg&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),Wf.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:a,isPresent:l}=this.props,{projection:c}=s;return c&&(c.isPresent=l,zg=!0,a||e.layoutDependency!==n||n===void 0||e.isPresent!==l?c.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?c.promote():c.relegate()||et.postRender(()=>{const f=c.getStack();(!f||!f.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),wv.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:a}=e;zg=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function EC(t){const[e,n]=fC(),s=D.useContext(Z0);return y.jsx(Y8,{...t,layoutGroup:s,switchLayoutGroup:D.useContext(_C),isPresent:e,safeToRemove:n})}const Q8={pan:{Feature:K8},drag:{Feature:$8,ProjectionNode:hC,MeasureLayout:EC}};function mE(t,e,n){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=s[a];l&&et.postRender(()=>l(e,Hc(e)))}class X8 extends aa{mount(){const{current:e}=this.node;e&&(this.unmount=x9(e,(n,s)=>(mE(this.node,s,"Start"),a=>mE(this.node,a,"End"))))}unmount(){}}class W8 extends aa{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Uc(Ec(this.node.current,"focus",()=>this.onFocus()),Ec(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function pE(t,e,n){const{props:s}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=s[a];l&&et.postRender(()=>l(e,Hc(e)))}class J8 extends aa{mount(){const{current:e}=this.node;e&&(this.unmount=E9(e,(n,s)=>(pE(this.node,s,"Start"),(a,{success:l})=>pE(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const By=new WeakMap,Bg=new WeakMap,Z8=t=>{const e=By.get(t.target);e&&e(t)},ez=t=>{t.forEach(Z8)};function tz({root:t,...e}){const n=t||document;Bg.has(n)||Bg.set(n,{});const s=Bg.get(n),a=JSON.stringify(e);return s[a]||(s[a]=new IntersectionObserver(ez,{root:t,...e})),s[a]}function nz(t,e,n){const s=tz(e);return By.set(t,n),s.observe(t),()=>{By.delete(t),s.unobserve(t)}}const iz={some:0,all:1};class sz extends aa{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:a="some",once:l}=e,c={root:n?n.current:void 0,rootMargin:s,threshold:typeof a=="number"?a:iz[a]},f=m=>{const{isIntersecting:p}=m;if(this.isInView===p||(this.isInView=p,l&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:v,onViewportLeave:_}=this.node.getProps(),w=p?v:_;w&&w(m)};return nz(this.node.current,c,f)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(rz(e,n))&&this.startObserver()}unmount(){}}function rz({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const az={inView:{Feature:sz},tap:{Feature:J8},focus:{Feature:W8},hover:{Feature:X8}},oz={layout:{ProjectionNode:hC,MeasureLayout:EC}},lz={...k8,...az,...Q8,...oz},Pe=R8(lz,C8),uz=50,gE=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),cz=()=>({time:0,x:gE(),y:gE()}),hz={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function yE(t,e,n,s){const a=n[e],{length:l,position:c}=hz[e],f=a.current,m=n.time;a.current=t[`scroll${c}`],a.scrollLength=t[`scroll${l}`]-t[`client${l}`],a.offset.length=0,a.offset[0]=0,a.offset[1]=a.scrollLength,a.progress=wl(0,a.scrollLength,a.current);const p=s-m;a.velocity=p>uz?0:sv(a.current-f,p)}function fz(t,e,n){yE(t,"x",e,n),yE(t,"y",e,n),e.time=n}function dz(t,e){const n={x:0,y:0};let s=t;for(;s&&s!==e;)if(xv(s))n.x+=s.offsetLeft,n.y+=s.offsetTop,s=s.offsetParent;else if(s.tagName==="svg"){const a=s.getBoundingClientRect();s=s.parentElement;const l=s.getBoundingClientRect();n.x+=a.left-l.left,n.y+=a.top-l.top}else if(s instanceof SVGGraphicsElement){const{x:a,y:l}=s.getBBox();n.x+=a,n.y+=l;let c=null,f=s.parentNode;for(;!c;)f.tagName==="svg"&&(c=f),f=s.parentNode;s=c}else break;return n}const Fy={start:0,center:.5,end:1};function vE(t,e,n=0){let s=0;if(t in Fy&&(t=Fy[t]),typeof t=="string"){const a=parseFloat(t);t.endsWith("px")?s=a:t.endsWith("%")?t=a/100:t.endsWith("vw")?s=a/100*document.documentElement.clientWidth:t.endsWith("vh")?s=a/100*document.documentElement.clientHeight:t=a}return typeof t=="number"&&(s=e*t),n+s}const mz=[0,0];function pz(t,e,n,s){let a=Array.isArray(t)?t:mz,l=0,c=0;return typeof t=="number"?a=[t,t]:typeof t=="string"&&(t=t.trim(),t.includes(" ")?a=t.split(" "):a=[t,Fy[t]?t:"0"]),l=vE(a[0],n,s),c=vE(a[1],e),l-c}const gz={All:[[0,0],[1,1]]},yz={x:0,y:0};function vz(t){return"getBBox"in t&&t.tagName!=="svg"?t.getBBox():{width:t.clientWidth,height:t.clientHeight}}function _z(t,e,n){const{offset:s=gz.All}=n,{target:a=t,axis:l="y"}=n,c=l==="y"?"height":"width",f=a!==t?dz(a,t):yz,m=a===t?{width:t.scrollWidth,height:t.scrollHeight}:vz(a),p={width:t.clientWidth,height:t.clientHeight};e[l].offset.length=0;let v=!e[l].interpolate;const _=s.length;for(let w=0;w<_;w++){const S=pz(s[w],p[c],m[c],f[l]);!v&&S!==e[l].interpolatorOffsets[w]&&(v=!0),e[l].offset[w]=S}v&&(e[l].interpolate=fv(e[l].offset,dR(s),{clamp:!1}),e[l].interpolatorOffsets=[...e[l].offset]),e[l].progress=Oi(0,1,e[l].interpolate(e[l].current))}function bz(t,e=t,n){if(n.x.targetOffset=0,n.y.targetOffset=0,e!==t){let s=e;for(;s&&s!==t;)n.x.targetOffset+=s.offsetLeft,n.y.targetOffset+=s.offsetTop,s=s.offsetParent}n.x.targetLength=e===t?e.scrollWidth:e.clientWidth,n.y.targetLength=e===t?e.scrollHeight:e.clientHeight,n.x.containerLength=t.clientWidth,n.y.containerLength=t.clientHeight}function xz(t,e,n,s={}){return{measure:a=>{bz(t,s.target,n),fz(t,n,a),(s.offset||s.target)&&_z(t,n,s)},notify:()=>e(n)}}const Hu=new WeakMap,_E=new WeakMap,Fg=new WeakMap,bE=t=>t===document.scrollingElement?window:t;function SC(t,{container:e=document.scrollingElement,...n}={}){if(!e)return Vn;let s=Fg.get(e);s||(s=new Set,Fg.set(e,s));const a=cz(),l=xz(e,t,a,n);if(s.add(l),!Hu.has(e)){const f=()=>{for(const _ of s)_.measure(tn.timestamp);et.preUpdate(m)},m=()=>{for(const _ of s)_.notify()},p=()=>et.read(f);Hu.set(e,p);const v=bE(e);window.addEventListener("resize",p,{passive:!0}),e!==document.documentElement&&_E.set(e,M9(e,p)),v.addEventListener("scroll",p,{passive:!0}),p()}const c=Hu.get(e);return et.read(c,!1,!0),()=>{var p;ji(c);const f=Fg.get(e);if(!f||(f.delete(l),f.size))return;const m=Hu.get(e);Hu.delete(e),m&&(bE(e).removeEventListener("scroll",m),(p=_E.get(e))==null||p(),window.removeEventListener("resize",m))}}const xE=new Map;function wz(t){const e={value:0},n=SC(s=>{e.value=s[t.axis].progress*100},t);return{currentTime:e,cancel:n}}function AC({source:t,container:e,...n}){const{axis:s}=n;t&&(e=t);const a=xE.get(e)??new Map;xE.set(e,a);const l=n.target??"self",c=a.get(l)??{},f=s+(n.offset??[]).join(",");return c[f]||(c[f]=!n.target&&yR()?new ScrollTimeline({source:e,axis:s}):wz({container:e,...n})),c[f]}function Tz(t,e){const n=AC(e);return t.attachTimeline({timeline:e.target?void 0:n,observe:s=>(s.pause(),UR(a=>{s.time=s.iterationDuration*a},n))})}function Ez(t){return t.length===2}function Sz(t,e){return Ez(t)?SC(n=>{t(n[e.axis].progress,n)},e):UR(t,AC(e))}function Az(t,{axis:e="y",container:n=document.scrollingElement,...s}={}){if(!n)return Vn;const a={axis:e,container:n,...s};return typeof t=="function"?Sz(t,a):Tz(t,a)}const Rz=()=>({scrollX:Ii(0),scrollY:Ii(0),scrollXProgress:Ii(0),scrollYProgress:Ii(0)}),kf=t=>t?!t.current:!1;function RC({container:t,target:e,...n}={}){const s=ea(Rz),a=D.useRef(null),l=D.useRef(!1),c=D.useCallback(()=>(a.current=Az((f,{x:m,y:p})=>{s.scrollX.set(m.current),s.scrollXProgress.set(m.progress),s.scrollY.set(p.current),s.scrollYProgress.set(p.progress)},{...n,container:(t==null?void 0:t.current)||void 0,target:(e==null?void 0:e.current)||void 0}),()=>{var f;(f=a.current)==null||f.call(a)}),[t,e,JSON.stringify(n.offset)]);return Jd(()=>{if(l.current=!1,kf(t)||kf(e)){l.current=!0;return}else return c()},[c]),D.useEffect(()=>{if(l.current)return bc(!kf(t)),bc(!kf(e)),c()},[c]),s}function CC(t){const e=ea(()=>Ii(t)),{isStatic:n}=D.useContext(Fc);if(n){const[,s]=D.useState(t);D.useEffect(()=>e.on("change",s),[])}return e}function NC(t,e){const n=CC(e()),s=()=>n.set(e());return s(),Jd(()=>{const a=()=>et.preRender(s,!1,!0),l=t.map(c=>c.on("change",a));return()=>{l.forEach(c=>c()),ji(s)}}),n}function Cz(t){ac.current=[],t();const e=NC(ac.current,t);return ac.current=void 0,e}function uc(t,e,n,s){if(typeof t=="function")return Cz(t);if(n!==void 0&&!Array.isArray(n)&&typeof e!="function")return Nz(t,e,n,s);const c=typeof e=="function"?e:O9(e,n,s);return Array.isArray(t)?wE(t,c):wE([t],([f])=>c(f))}function wE(t,e){const n=ea(()=>[]);return NC(t,()=>{n.length=0;const s=t.length;for(let a=0;a<s;a++)n[a]=t[a].get();return e(n)})}function Nz(t,e,n,s){const a=ea(()=>Object.keys(n)),l=ea(()=>({}));for(const c of a)l[c]=uc(t,e,n[c],s);return l}function Iz(t,e={}){const{isStatic:n}=D.useContext(Fc),s=()=>sn(t)?t.get():t;if(n)return uc(s);const a=CC(s());return D.useInsertionEffect(()=>j9(a,t,e),[a,JSON.stringify(e)]),a}const IC="/assets/logo-CqHYDWVW.png",Dz=({onLogin:t,onLogout:e,user:n})=>{const[s,a]=D.useState(!1),[l,c]=D.useState(!1),[f,m]=D.useState("Home"),p=Cd(),v=Ws();D.useEffect(()=>{const N=()=>{a(window.scrollY>20)};return window.addEventListener("scroll",N),()=>window.removeEventListener("scroll",N)},[]),D.useEffect(()=>{if(v.pathname==="/"&&v.hash){const N=document.querySelector(v.hash);N&&N.scrollIntoView({behavior:"smooth"})}},[v]);const _=[{name:"Home",href:"#hero"},{name:"Features",href:"#features"},{name:"Gallery",href:"#gallery"},{name:"Staff",href:"#staff"},{name:"Rules",href:"#rules"}],w=(N,M)=>{if(c(!1),m(M),v.pathname!=="/")p("/"+N);else{const O=document.querySelector(N);O&&O.scrollIntoView({behavior:"smooth"})}},S=[{name:"Twitter",href:"https://twitter.com/rushhourrp",color:"hover:text-[#1DA1F2]",icon:y.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 h-5",children:y.jsx("path",{d:"M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"})})},{name:"TikTok",href:"https://www.tiktok.com/@rushhourrp",color:"hover:text-[#ff0050]",icon:y.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 h-5",children:y.jsx("path",{d:"M19.59 6.69a4.83 4.83 0 01-3.77-4.25V2h-3.45v13.67a2.89 2.89 0 01-5.2 1.74 2.89 2.89 0 012.31-4.64 2.93 2.93 0 01.88.13V9.4a6.84 6.84 0 00-1-.05A6.33 6.33 0 005 20.1a6.34 6.34 0 0010.86-4.43v-7a8.16 8.16 0 004.77 1.52v-3.4a4.85 4.85 0 01-1-.1z"})})},{name:"YouTube",href:"https://www.youtube.com/@RushHourRP",color:"hover:text-[#FF0000]",icon:y.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 h-5",children:y.jsx("path",{d:"M23.498 6.186a3.016 3.016 0 00-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 00.502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 002.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 002.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"})})}];return y.jsxs(Pe.nav,{initial:{y:-100},animate:{y:0},transition:{duration:.5},className:`fixed w-full z-50 transition-all duration-300 border-b ${s?"bg-rush-950/90 backdrop-blur-2xl border-white/10 py-3 shadow-[0_10px_40px_-10px_rgba(0,0,0,0.8)]":"bg-transparent border-transparent py-4"}`,children:[y.jsxs("div",{className:"container mx-auto px-4 flex justify-between items-center text-sm",children:[y.jsx("div",{className:"flex items-center gap-2 cursor-pointer group",onClick:()=>w("#hero","Home"),children:y.jsx(Pe.img,{whileHover:{scale:1.05},src:IC,alt:"Rush Hour RP",className:"h-10 md:h-12 drop-shadow-[0_0_15px_rgba(217,70,239,0.5)] group-hover:drop-shadow-[0_0_25px_rgba(6,182,212,0.6)] transition-all duration-300"})}),y.jsxs("div",{className:"hidden lg:flex items-center gap-6",children:[y.jsx("ul",{className:"flex gap-6",children:_.map(N=>y.jsx(Pe.li,{className:"relative group",children:y.jsxs("button",{onClick:()=>w(N.href,N.name),className:`relative px-2 py-1 font-sans text-xs uppercase font-bold tracking-widest transition-all duration-300 z-10 ${f===N.name?"text-neon-cyan":"text-gray-400 hover:text-white"}`,children:[N.name,f===N.name&&y.jsx(Pe.div,{layoutId:"nav-underline",className:"absolute -bottom-1 left-0 right-0 h-[2px] bg-neon-pink shadow-[0_0_10px_rgba(217,70,239,1)]",transition:{type:"spring",stiffness:300,damping:30}})]})},N.name))}),y.jsx("div",{className:"flex items-center gap-4 pl-6 border-l border-white/10",children:S.map(N=>y.jsx("a",{href:N.href,target:"_blank",rel:"noopener noreferrer",className:`text-gray-400 transition-colors ${N.color} hover:scale-110 transform`,title:N.name,children:N.icon},N.name))}),y.jsxs("div",{className:"flex items-center gap-3 pl-2",children:[y.jsxs("a",{href:"https://store.rushhourroleplay.com/",target:"_blank",rel:"noopener noreferrer",className:"px-4 py-1.5 bg-yellow-500/10 border border-yellow-500/50 text-yellow-500 rounded-lg hover:bg-yellow-500/20 transition-all text-[11px] font-bold uppercase tracking-wider flex items-center gap-2 hover:scale-105",children:[y.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-3.5 h-3.5",children:[y.jsx("path",{d:"M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"}),y.jsx("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),y.jsx("path",{d:"M16 10a4 4 0 0 1-8 0"})]}),"Store"]}),y.jsxs("a",{href:"https://discord.gg/6zpQn9hESh",target:"_blank",rel:"noopener noreferrer",className:"px-4 py-1.5 bg-[#5865F2]/10 border border-[#5865F2]/50 text-[#5865F2] rounded-lg hover:bg-[#5865F2]/20 transition-all text-[11px] font-bold uppercase tracking-wider flex items-center gap-2 hover:scale-105",children:[y.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"w-3.5 h-3.5",children:y.jsx("path",{d:"M20.317 4.37a19.791 19.791 0 00-4.885-1.515.074.074 0 00-.079.037c-.21.375-.444.864-.608 1.25a18.27 18.27 0 00-5.487 0 12.64 12.64 0 00-.617-1.25.077.077 0 00-.079-.037A19.736 19.736 0 003.677 4.37a.07.07 0 00-.032.027C.533 9.046-.32 13.58.099 18.057a.082.082 0 00.031.057 19.9 19.9 0 005.993 3.03.078.078 0 00.084-.028 14.09 14.09 0 001.226-1.994.076.076 0 00-.041-.106 13.107 13.107 0 01-1.872-.892.077.077 0 01-.008-.128 10.2 10.2 0 00.372-.292.074.074 0 01.077-.01c3.928 1.793 8.18 1.793 12.062 0a.074.074 0 01.078.01c.12.098.246.198.373.292a.077.077 0 01-.006.127 12.299 12.299 0 01-1.873.892.077.077 0 00-.041.107c.36.698.772 1.362 1.225 1.993a.076.076 0 00.084.028 19.839 19.839 0 006.002-3.03.077.077 0 00.032-.054c.5-5.177-2.313-9.117-6.04-13.682a.074.074 0 00-.038-.028zM8.02 15.33c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.956-2.419 2.157-2.419 1.21 0 2.176 1.086 2.157 2.419 0 1.334-.956 2.42-2.157 2.42zm7.975 0c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.955-2.419 2.157-2.419 1.21 0 2.176 1.086 2.157 2.419 0 1.334-.946 2.42-2.157 2.42z"})}),"Discord"]}),n?y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("button",{onClick:()=>p("/admin"),className:"px-4 py-1.5 bg-white/5 border border-white/10 text-white rounded-lg hover:bg-white/10 transition-all text-[11px] font-bold uppercase tracking-wider flex items-center gap-2 hover:border-white/30",children:y.jsx(_d,{size:14})}),y.jsx("button",{onClick:()=>p("/admin"),className:"px-4 py-1.5 bg-rush-900/50 border border-neon-cyan/30 text-neon-cyan rounded-lg hover:bg-neon-cyan/10 transition-all text-[11px] font-bold uppercase tracking-wider flex items-center gap-2",children:y.jsx(bl,{size:14})}),y.jsx("button",{onClick:e,className:"p-1.5 text-red-400 hover:text-red-300 transition-colors",title:"Logout",children:y.jsx(_y,{size:16})})]}):y.jsx("div",{className:"flex gap-2",children:y.jsxs("button",{onClick:t,className:"px-4 py-1.5 bg-gradient-to-r from-neon-pink to-rush-600 rounded-lg text-white font-bold uppercase text-[11px] tracking-wider shadow-[0_0_15px_rgba(217,70,239,0.4)] hover:shadow-[0_0_25px_rgba(217,70,239,0.6)] hover:-translate-y-0.5 transition-all flex items-center gap-2",children:[y.jsx(Yw,{size:14}),y.jsx("span",{children:"Join"})]})})]})]}),y.jsx("button",{className:"lg:hidden text-white hover:text-neon-pink transition-colors",onClick:()=>c(!l),children:l?y.jsx(ic,{size:32}):y.jsx(tP,{size:32})})]}),y.jsx(na,{children:l&&y.jsx(Pe.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"lg:hidden bg-rush-950/95 backdrop-blur-xl border-b border-rush-500/20 overflow-hidden",children:y.jsxs("ul",{className:"flex flex-col p-6 gap-4",children:[_.map(N=>y.jsx("li",{children:y.jsx("button",{onClick:()=>w(N.href,N.name),className:`block w-full text-left font-display text-xl uppercase tracking-widest ${f===N.name?"text-neon-pink":"text-gray-300"}`,children:N.name})},N.name)),y.jsx("hr",{className:"border-white/10 my-2"}),y.jsx("div",{className:"flex justify-center gap-6 py-2",children:S.map(N=>y.jsx("a",{href:N.href,target:"_blank",rel:"noopener noreferrer",className:`text-gray-400 transition-colors ${N.color} transform scale-125`,children:N.icon},N.name))}),y.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[y.jsx("a",{href:"https://store.rushhourroleplay.com/",target:"_blank",className:"flex items-center justify-center gap-2 px-4 py-3 border border-yellow-500/30 text-yellow-500 rounded-xl font-bold uppercase text-xs",children:"Store"}),y.jsx("a",{href:"https://discord.gg/6zpQn9hESh",target:"_blank",className:"flex items-center justify-center gap-2 px-4 py-3 border border-[#5865F2]/30 text-[#5865F2] rounded-xl font-bold uppercase text-xs",children:"Discord"})]}),y.jsx("hr",{className:"border-white/10 my-2"}),n?y.jsxs(y.Fragment,{children:[y.jsx("li",{children:y.jsxs("button",{onClick:()=>{p("/admin"),c(!1)},className:"flex items-center gap-2 text-white font-bold uppercase tracking-wider",children:[y.jsx(_d,{size:18})," My Profile"]})}),y.jsx("li",{children:y.jsxs("button",{onClick:()=>{p("/admin"),c(!1)},className:"flex items-center gap-2 text-neon-cyan font-bold uppercase tracking-wider",children:[y.jsx(bl,{size:18})," Admin Panel"]})}),y.jsx("li",{children:y.jsxs("button",{onClick:()=>{e(),c(!1)},className:"flex items-center gap-2 text-red-500 font-bold uppercase tracking-wider",children:[y.jsx(_y,{size:18})," Logout"]})})]}):y.jsx("li",{children:y.jsxs("button",{onClick:()=>{t(),c(!1)},className:"flex items-center gap-2 text-neon-pink font-bold uppercase tracking-wider w-full bg-white/5 p-4 rounded-lg justify-center",children:[y.jsx(Yw,{size:18})," Login / Join City"]})})]})})})]})},kz=()=>{const[t,e]=D.useState(!1),[n,s]=D.useState(null),a="cfx.re/join/rushhour",{scrollY:l}=RC(),c=uc(l,[0,1e3],[0,300]),f=uc(l,[0,200],[1,0]),m=uc(l,[0,1e3],[1.05,1.15]);D.useEffect(()=>{(async()=>{try{const M=await d2(rs(Mt,"site_settings","hero"));M.exists()&&s(M.data())}catch(M){console.error("Error fetching hero settings:",M)}})()},[]);const p=()=>{navigator.clipboard.writeText(a),e(!0),setTimeout(()=>e(!1),2e3)},v=N=>{if(!N)return"";const M=N.match(/(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|live\/|watch\?v=|watch\?.+&v=))([^#&?]+)/),O=M?M[1]:null;return O&&O.length>=11?`https://www.youtube.com/embed/${O}?autoplay=1&mute=1&controls=1&loop=1&playlist=${O}`:""},_={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.2,delayChildren:.3}}},w={hidden:{opacity:0,y:30},visible:{opacity:1,y:0,transition:{duration:.8,ease:"easeOut"}}},S=(n==null?void 0:n.isVisible)&&(n==null?void 0:n.videoUrl);return y.jsxs("section",{id:"hero",className:"relative min-h-screen flex items-center justify-center overflow-hidden bg-rush-950 pt-20 lg:pt-0",children:[y.jsx(Pe.div,{style:{y:c,scale:m},className:"absolute inset-0 z-0 will-change-transform",children:y.jsxs("div",{className:"absolute inset-0 bg-[url('https://images.unsplash.com/photo-1605218427306-0223e9a15f07?q=80&w=2669&auto=format&fit=crop')] bg-cover bg-center",children:[y.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-rush-950/90 via-rush-900/60 to-rush-950"}),y.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_center,transparent_0%,rgba(0,0,0,0.8)_100%)]"}),y.jsx("div",{className:"absolute inset-0 bg-grid-pattern opacity-10 [mask-image:linear-gradient(to_bottom,transparent,white,transparent)]"})]})}),y.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none z-0",children:[y.jsx(Pe.div,{animate:{opacity:[.1,.3,.1],scale:[1,1.2,1]},transition:{duration:8,repeat:1/0,ease:"easeInOut"},className:"absolute top-1/4 -right-20 w-[600px] h-[600px] bg-rush-500/20 rounded-full blur-[150px] mix-blend-screen"}),y.jsx(Pe.div,{animate:{opacity:[.1,.3,.1],scale:[1,1.3,1]},transition:{duration:10,repeat:1/0,ease:"easeInOut",delay:1},className:"absolute -bottom-20 -left-20 w-[800px] h-[800px] bg-neon-cyan/20 rounded-full blur-[150px] mix-blend-screen"})]}),y.jsx("div",{className:"container mx-auto px-6 relative z-10 w-full",children:y.jsxs(Pe.div,{variants:_,initial:"hidden",animate:"visible",className:`flex flex-col ${S?"lg:flex-row lg:items-center lg:justify-between":"items-center justify-center text-center"} gap-12 lg:gap-20`,children:[y.jsxs("div",{className:`flex flex-col ${S?"lg:flex-1 lg:items-start text-left":"items-center text-center max-w-4xl"}`,children:[y.jsx(Pe.div,{variants:w,className:"mb-8",children:y.jsxs("div",{className:"inline-flex items-center gap-3 px-5 py-2 rounded-full bg-white/5 border border-white/10 backdrop-blur-md shadow-[0_0_20px_rgba(217,70,239,0.15)] hover:border-neon-pink/50 transition-colors",children:[y.jsxs("span",{className:"relative flex h-3 w-3",children:[y.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-neon-green/80 opacity-75"}),y.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-neon-green"})]}),y.jsx("span",{className:"text-xs font-bold uppercase tracking-[0.2em] text-rush-100",children:"2.0 LIVE NOW"})]})}),y.jsxs(Pe.div,{variants:w,className:"mb-10 relative group max-w-[500px]",children:[y.jsx("div",{className:"absolute inset-0 bg-neon-pink/20 blur-[80px] rounded-full scale-75 group-hover:scale-100 transition-all duration-700"}),y.jsx("img",{src:IC,alt:"Rush Hour RP",className:"relative w-full object-contain drop-shadow-2xl"})]}),y.jsx(Pe.div,{variants:w,children:y.jsxs("p",{className:"text-xl md:text-2xl text-rush-100/90 font-light mb-10 leading-relaxed tracking-wide",children:["Where your story writes the rules. ",y.jsx("br",{className:"hidden md:block"})," Experience ",y.jsx("span",{className:"text-white font-bold border-b border-neon-cyan/50 pb-0.5",children:"immersive roleplay"})," driven by a serious community."]})}),y.jsxs(Pe.div,{variants:w,className:"flex flex-col sm:flex-row gap-6 w-full sm:w-auto",children:[y.jsxs("button",{className:"group relative px-8 py-4 bg-rush-600 hover:bg-rush-500 text-white font-display font-bold text-lg uppercase tracking-wider rounded-xl overflow-hidden shadow-[0_0_30px_rgba(217,70,239,0.3)] transition-all hover:scale-105 hover:shadow-[0_0_50px_rgba(217,70,239,0.5)] active:scale-95",children:[y.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent -translate-x-full group-hover:animate-shimmer"}),y.jsxs("span",{className:"flex items-center gap-3 relative z-10",children:[y.jsx(aP,{fill:"currentColor",size:20})," Play Now"]})]}),y.jsxs("button",{onClick:p,className:"group px-8 py-4 bg-white/5 backdrop-blur-md border border-white/10 text-white font-display font-bold text-lg uppercase tracking-wider rounded-xl hover:bg-white/10 hover:border-cyan-400/50 hover:text-cyan-400 transition-all hover:scale-105 active:scale-95 flex items-center gap-3",children:[t?y.jsx(O2,{size:20,className:"text-green-400"}):y.jsx(j6,{size:20}),y.jsx("span",{children:t?"IP Copied":"Copy IP Address"})]})]})]}),S&&y.jsx(Pe.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,ease:"easeOut",delay:.2},className:"lg:flex-1 w-full max-w-2xl relative z-20 perspective-1000",children:y.jsxs("div",{className:"relative p-[2px] rounded-3xl overflow-hidden group shadow-2xl shadow-neon-cyan/10",children:[y.jsx(Pe.div,{animate:{rotate:360},transition:{duration:8,repeat:1/0,ease:"linear"},className:"absolute inset-[-100%] bg-[conic-gradient(from_0deg,transparent_0_300deg,#00fff2_360deg)] opacity-70 will-change-transform"}),y.jsx(Pe.div,{animate:{rotate:-360},transition:{duration:8,repeat:1/0,ease:"linear"},className:"absolute inset-[-100%] bg-[conic-gradient(from_0deg,transparent_0_300deg,#d946ef_360deg)] opacity-70 will-change-transform mix-blend-screen"}),y.jsxs("div",{className:"relative rounded-[22px] bg-rush-950/90 backdrop-blur-xl overflow-hidden h-full border border-white/5",children:[y.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(rgba(18,16,16,0)_50%,rgba(0,0,0,0.2)_50%),linear-gradient(90deg,rgba(255,0,0,0.06),rgba(0,255,0,0.02),rgba(0,0,255,0.06))] will-change-transform from-transparent to-black bg-[length:100%_4px,3px_100%] pointer-events-none z-10 opacity-20"}),y.jsx("div",{className:"aspect-video w-full relative bg-black/50",children:v(n.videoUrl)?y.jsx("iframe",{className:"absolute inset-0 w-full h-full",src:v(n.videoUrl),title:n.videoTitle,allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowFullScreen:!0}):y.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center text-center p-6 text-gray-400",children:[y.jsx(Qw,{size:48,className:"mb-4 opacity-50"}),y.jsx("p",{className:"font-bold text-white mb-1",children:"Video Unavailable"}),y.jsx("p",{className:"text-xs",children:"Invalid URL or ID. Please check Admin settings."})]})}),y.jsxs("div",{className:"bg-black/90 backdrop-blur border-t border-white/5 p-5 flex items-center gap-4 relative z-20",children:[y.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-neon-cyan/20 to-neon-blue/10 flex items-center justify-center text-neon-cyan shrink-0 border border-neon-cyan/30 shadow-[0_0_15px_rgba(34,211,238,0.2)]",children:y.jsx(Qw,{size:22})}),y.jsxs("div",{className:"min-w-0",children:[y.jsx("h3",{className:"text-white font-bold text-lg leading-tight truncate font-display tracking-wide",children:n.videoTitle||"Featured Video"}),y.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[y.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-red-500 animate-pulse"}),y.jsx("p",{className:"text-gray-400 text-[10px] uppercase tracking-[0.2em] font-bold",children:"Live Transmission"})]})]}),y.jsxs("div",{className:"ml-auto flex gap-1 items-end h-6 opacity-60",children:[y.jsx(Pe.div,{animate:{height:[8,16,6,12]},transition:{repeat:1/0,duration:.5},className:"w-1 bg-neon-pink rounded-full"}),y.jsx(Pe.div,{animate:{height:[12,6,18,8]},transition:{repeat:1/0,duration:.7},className:"w-1 bg-neon-cyan rounded-full"}),y.jsx(Pe.div,{animate:{height:[6,14,8,16]},transition:{repeat:1/0,duration:.6},className:"w-1 bg-neon-purple rounded-full"})]})]})]})]})})]})}),y.jsxs(Pe.div,{style:{opacity:f},className:"absolute bottom-12 left-1/2 -translate-x-1/2 z-20 flex flex-col items-center gap-2 pointer-events-none",children:[y.jsx("span",{className:"text-[10px] font-bold uppercase tracking-[0.3em] text-white/50",children:"Scroll to Explore"}),y.jsx(Pe.div,{animate:{y:[0,8,0],opacity:[.5,1,.5]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:y.jsx(j2,{size:24,className:"text-neon-cyan"})})]})]})},Mz={car:y.jsx(V2,{size:32}),bank:y.jsx(k2,{size:32}),briefcase:y.jsx(C6,{size:32}),zap:y.jsx(ul,{size:32}),radio:y.jsx(z2,{size:32}),users:y.jsx(xl,{size:32}),shield:y.jsx(bl,{size:32}),crown:y.jsx(L2,{size:32}),link:y.jsx(K6,{size:32})},Vz=()=>{const[t,e]=D.useState([]),[n,s]=D.useState(!0);return D.useEffect(()=>{(async()=>{try{const c=(await Us(ui(Mt,"server_features"))).docs.map(f=>({id:f.id,...f.data()}));e(c)}catch(l){console.error("Error fetching features:",l)}finally{s(!1)}})()},[]),y.jsxs("section",{id:"features",className:"py-32 bg-rush-950 relative overflow-hidden",children:[y.jsx("div",{className:"absolute top-0 right-0 w-1/2 h-1/2 bg-neon-pink/10 blur-[150px] rounded-full pointer-events-none"}),y.jsx("div",{className:"absolute bottom-0 left-0 w-1/2 h-1/2 bg-neon-cyan/10 blur-[150px] rounded-full pointer-events-none"}),y.jsx("div",{className:"absolute inset-0 bg-grid-pattern opacity-5 pointer-events-none"}),y.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:[y.jsx("div",{className:"text-center mb-24",children:y.jsxs(Pe.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},children:[y.jsx("h2",{className:"text-neon-cyan font-bold uppercase tracking-[0.3em] text-sm mb-4",children:"Why Choose Us"}),y.jsxs("h3",{className:"text-5xl md:text-6xl font-display font-bold text-white drop-shadow-[0_0_25px_rgba(255,255,255,0.1)]",children:["Server ",y.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-white to-gray-400",children:"Features"})]})]})}),n?y.jsx("div",{className:"text-center text-gray-400 animate-pulse",children:"Loading features..."}):t.length===0?y.jsxs("div",{className:"text-center text-gray-500 py-10 flex flex-col items-center",children:[y.jsx(Wd,{className:"mb-2 opacity-50",size:32}),y.jsx("p",{children:"No features listed yet."})]}):y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:t.map((a,l)=>y.jsxs(Pe.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{delay:l*.1,duration:.5},viewport:{once:!0},whileHover:{y:-10,rotateX:5,rotateY:5},className:"group relative bg-rush-900/40 backdrop-blur-md p-[1px] rounded-2xl overflow-hidden shadow-lg hover:shadow-neon-cyan/20 transition-all duration-500 perspective-1000",children:[y.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/10 to-transparent opacity-100 rounded-2xl p-[1px] group-hover:from-neon-pink group-hover:via-purple-500 group-hover:to-neon-cyan transition-colors duration-500"}),y.jsxs("div",{className:"relative h-full bg-rush-900/90 rounded-2xl p-8 overflow-hidden z-20",children:[y.jsx("div",{className:"absolute -top-20 -right-20 w-40 h-40 bg-neon-purple/20 blur-[60px] group-hover:bg-neon-pink/30 transition-all duration-700 rounded-full"}),y.jsx("div",{className:"absolute -bottom-20 -left-20 w-40 h-40 bg-neon-cyan/10 blur-[60px] group-hover:bg-neon-cyan/20 transition-all duration-700 rounded-full"}),y.jsxs("div",{className:"relative z-10 flex flex-col items-center text-center",children:[y.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-rush-800 to-rush-900 border border-white/10 rounded-2xl flex items-center justify-center text-neon-cyan mb-6 group-hover:scale-110 group-hover:rotate-6 group-hover:border-neon-cyan/50 group-hover:shadow-[0_0_30px_rgba(6,182,212,0.4)] transition-all duration-500",children:Mz[a.icon]||y.jsx(ul,{size:32})}),y.jsx("h4",{className:"text-2xl font-bold text-white mb-4 font-display tracking-wide group-hover:text-neon-cyan transition-colors duration-300",children:a.title}),y.jsx("p",{className:"text-gray-400 leading-relaxed text-sm group-hover:text-gray-200 transition-colors",children:a.description})]})]})]},a.id))})]})]})},Oz=[{id:"1",title:"Midnight Race",imageUrl:"https://picsum.photos/800/600?random=1",location:"Vinewood Hills",tags:["Racing","Night"],photographer:"SpeedDemon"},{id:"2",title:"LSPD Briefing",imageUrl:"https://picsum.photos/800/800?random=2",location:"Mission Row",tags:["Police","RP"],photographer:"Chief_W"},{id:"3",title:"Sunset Blvd",imageUrl:"https://picsum.photos/800/500?random=3",location:"Del Perro",tags:["Scenery"],photographer:"VibeCheck"},{id:"4",title:"Bank Heist",imageUrl:"https://picsum.photos/800/700?random=4",location:"Pacific Standard",tags:["Criminal"],photographer:"HeistMaster"},{id:"5",title:"Car Meet",imageUrl:"https://picsum.photos/800/600?random=5",location:"Terminal",tags:["Cars","Community"],photographer:"JDM_Lover"}],jz=({isAdmin:t})=>{const[e,n]=D.useState(Oz),[s,a]=D.useState(!1),[l,c]=D.useState({}),f=_=>{confirm("Are you sure?")&&n(w=>w.filter(S=>S.id!==_))},m=_=>{if(_.preventDefault(),l.id)n(w=>w.map(S=>S.id===l.id?{...S,...l}:S));else{const w={id:Date.now().toString(),title:l.title||"Untitled",imageUrl:l.imageUrl||`https://picsum.photos/800/600?random=${Date.now()}`,location:l.location||"Unknown",tags:l.tags||[],photographer:l.photographer||"Admin"};n([w,...e])}a(!1),c({})},p=_=>{c(_),a(!0)},v=()=>{c({}),a(!0)};return y.jsxs("section",{id:"gallery",className:"py-32 bg-rush-950 relative overflow-hidden",children:[y.jsx("div",{className:"absolute top-1/4 left-0 w-1/3 h-1/3 bg-neon-pink/5 blur-[120px] rounded-full pointer-events-none"}),y.jsx("div",{className:"absolute bottom-1/4 right-0 w-1/3 h-1/3 bg-neon-cyan/5 blur-[120px] rounded-full pointer-events-none"}),y.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:[y.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-end mb-16 gap-4",children:[y.jsxs("div",{children:[y.jsx("h2",{className:"text-neon-cyan font-bold uppercase tracking-[0.3em] text-sm mb-3",children:"Moments"}),y.jsx("h3",{className:"text-5xl font-display font-bold text-white drop-shadow-[0_0_10px_rgba(255,255,255,0.2)]",children:"City Gallery"})]}),t&&y.jsxs("button",{onClick:v,className:"flex items-center gap-2 bg-rush-900 border border-neon-cyan/50 text-neon-cyan hover:bg-neon-cyan hover:text-black px-6 py-3 rounded-lg font-bold uppercase tracking-wider text-sm transition-all shadow-[0_0_15px_rgba(6,182,212,0.2)] hover:shadow-[0_0_25px_rgba(6,182,212,0.4)]",children:[y.jsx(Wo,{size:18})," Add Photo"]})]}),y.jsx("div",{className:"columns-1 md:columns-2 lg:columns-3 gap-6 space-y-6",children:e.map(_=>y.jsxs(Pe.div,{layout:!0,initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"break-inside-avoid relative group rounded-2xl overflow-hidden bg-rush-900/40 backdrop-blur-md border border-white/5 hover:border-neon-pink/50 transition-all duration-500 hover:shadow-[0_0_30px_rgba(217,70,239,0.15)]",children:[y.jsx("img",{src:_.imageUrl,alt:_.title,className:"w-full h-auto object-cover transform group-hover:scale-105 transition-transform duration-700"}),y.jsxs("div",{className:"absolute inset-0 bg-gradient-to-t from-rush-950 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex flex-col justify-end p-6",children:[y.jsx("h4",{className:"text-white font-bold text-2xl font-display tracking-wide drop-shadow-md",children:_.title}),y.jsxs("div",{className:"flex items-center gap-4 text-gray-300 text-xs font-bold uppercase tracking-wider mt-2",children:[y.jsxs("span",{className:"flex items-center gap-1 text-neon-cyan",children:[y.jsx(Z6,{size:14})," ",_.location]}),y.jsxs("span",{className:"flex items-center gap-1 text-neon-pink",children:[y.jsx(M2,{size:14})," ",_.photographer]})]}),y.jsx("div",{className:"flex gap-2 mt-4 flex-wrap",children:_.tags.map(w=>y.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest bg-white/10 border border-white/10 px-3 py-1 rounded-full text-white",children:w},w))}),t&&y.jsxs("div",{className:"absolute top-4 right-4 flex gap-2",children:[y.jsx("button",{onClick:()=>p(_),className:"p-2 bg-rush-900/80 backdrop-blur text-blue-400 rounded-lg hover:bg-blue-500 hover:text-white transition-all border border-white/10",children:y.jsx(Xo,{size:16})}),y.jsx("button",{onClick:()=>f(_.id),className:"p-2 bg-rush-900/80 backdrop-blur text-red-400 rounded-lg hover:bg-red-500 hover:text-white transition-all border border-white/10",children:y.jsx(mP,{size:16})})]})]})]},_.id))})]}),y.jsx(na,{children:s&&y.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/80 backdrop-blur-sm p-4",children:y.jsxs(Pe.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-rush-900 border border-white/10 rounded-xl p-6 w-full max-w-lg",children:[y.jsx("h3",{className:"text-2xl font-bold text-white mb-6",children:l.id?"Edit Photo":"Add Photo"}),y.jsxs("form",{onSubmit:m,className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Title"}),y.jsx("input",{type:"text",value:l.title||"",onChange:_=>c({...l,title:_.target.value}),className:"w-full bg-black/50 border border-white/10 rounded p-2 text-white focus:border-rush-500 outline-none",required:!0})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Image URL"}),y.jsx("input",{type:"url",value:l.imageUrl||"",onChange:_=>c({...l,imageUrl:_.target.value}),className:"w-full bg-black/50 border border-white/10 rounded p-2 text-white focus:border-rush-500 outline-none",placeholder:"https://...",required:!0})]}),y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Location"}),y.jsx("input",{type:"text",value:l.location||"",onChange:_=>c({...l,location:_.target.value}),className:"w-full bg-black/50 border border-white/10 rounded p-2 text-white focus:border-rush-500 outline-none"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Photographer"}),y.jsx("input",{type:"text",value:l.photographer||"",onChange:_=>c({...l,photographer:_.target.value}),className:"w-full bg-black/50 border border-white/10 rounded p-2 text-white focus:border-rush-500 outline-none"})]})]}),y.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[y.jsx("button",{type:"button",onClick:()=>a(!1),className:"px-4 py-2 text-gray-400 hover:text-white",children:"Cancel"}),y.jsx("button",{type:"submit",className:"px-6 py-2 bg-rush-500 text-black font-bold rounded hover:bg-rush-600",children:"Save"})]})]})]})})})]})},Pz=()=>{const[t,e]=D.useState([]),[n,s]=D.useState(!0),[a,l]=D.useState(null);D.useEffect(()=>{(async()=>{try{const p=JO(ui(Mt,"staff_members")),_=(await Us(p)).docs.map(w=>({id:w.id,...w.data()}));_.sort((w,S)=>(w.order||99)-(S.order||99)),e(_)}catch(p){console.error("Error fetching staff:",p)}finally{s(!1)}})()},[]);const c={"Head of Administration":t.filter(m=>m.category==="Head of Administration"),Management:t.filter(m=>m.category==="Management"),Developer:t.filter(m=>m.category==="Developer"),Staff:t.filter(m=>m.category==="Staff"||!m.category)},f=["Management","Head of Administration","Developer","Staff"];return y.jsxs("section",{id:"staff",className:"py-32 bg-rush-950 relative overflow-hidden",children:[y.jsx("div",{className:"absolute top-0 right-0 w-[500px] h-[500px] bg-neon-cyan/5 blur-[150px] rounded-full pointer-events-none"}),y.jsx("div",{className:"absolute bottom-0 left-0 w-[500px] h-[500px] bg-neon-pink/5 blur-[150px] rounded-full pointer-events-none"}),y.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:[y.jsx("div",{className:"text-center mb-24",children:y.jsxs(Pe.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},children:[y.jsx("span",{className:"text-neon-cyan font-bold uppercase tracking-[0.3em] text-xs mb-4 block",children:"Meet the Team"}),y.jsxs("h2",{className:"text-5xl md:text-6xl font-display font-bold text-white mb-6",children:["The ",y.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-white to-gray-500",children:"Architects"})]}),y.jsx("p",{className:"text-gray-400 max-w-2xl mx-auto leading-relaxed",children:"The passionate individuals behind the scenes, dedicated to crafting the ultimate roleplay experience."})]})}),n?y.jsx("div",{className:"flex justify-center items-center py-20",children:y.jsx(Q6,{className:"animate-spin text-neon-cyan",size:48})}):y.jsx("div",{className:"space-y-24",children:f.map(m=>{const p=c[m];return p.length===0?null:y.jsxs("div",{className:"relative",children:[y.jsxs("h3",{className:"text-2xl font-display font-bold text-white mb-10 pl-6 border-l-4 border-neon-cyan/50 flex items-center gap-3",children:[m," ",y.jsx("span",{className:"text-sm font-sans font-normal text-gray-500 bg-white/5 px-2 py-0.5 rounded-full",children:p.length})]}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:p.map(v=>y.jsxs(Pe.div,{whileHover:{y:-5},onClick:()=>l(v),className:"group relative bg-rush-900/40 backdrop-blur-md border border-white/5 rounded-2xl p-6 cursor-pointer hover:border-white/20 transition-all duration-300 overflow-hidden",children:[y.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-neon-pink/0 to-neon-cyan/0 group-hover:from-neon-pink/5 group-hover:to-neon-cyan/5 transition-all duration-500"}),y.jsxs("div",{className:"relative z-10 flex flex-col items-center text-center",children:[y.jsxs("div",{className:"w-24 h-24 rounded-full p-1 mb-4 relative",children:[y.jsx("div",{className:"absolute inset-0 rounded-full border border-white/10 group-hover:border-neon-cyan/50 transition-colors duration-300"}),y.jsx("img",{src:v.avatarUrl||"https://via.placeholder.com/150",alt:v.name,className:"w-full h-full rounded-full object-cover"}),v.color&&y.jsx("div",{className:"absolute bottom-1 right-1 w-4 h-4 rounded-full border-2 border-rush-950",style:{backgroundColor:v.color}})]}),y.jsx("h4",{className:"text-lg font-bold text-white group-hover:text-neon-cyan transition-colors",children:v.name}),y.jsx("p",{className:"text-sm text-gray-400 mt-1 mb-4 flex-grow line-clamp-2 px-2",children:v.bio||`A valued member of the ${m} team.`}),v.discord&&y.jsx("div",{className:"mt-auto pt-4 w-full border-t border-white/5",children:y.jsxs("div",{className:"flex items-center justify-center gap-2 text-xs font-bold uppercase tracking-wider text-gray-500 group-hover:text-white transition-colors",children:[y.jsx(_l,{size:12}),y.jsx("span",{children:v.discord})]})})]})]},v.id))})]},m)})})]}),y.jsx(na,{children:a&&y.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/90 backdrop-blur-md",onClick:()=>l(null),children:y.jsxs(Pe.div,{initial:{scale:.95,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.95,opacity:0,y:20},onClick:m=>m.stopPropagation(),className:"w-full max-w-2xl bg-rush-900 border border-white/10 rounded-3xl overflow-hidden shadow-2xl relative",children:[y.jsx("div",{className:"absolute top-0 right-0 w-full h-48 bg-gradient-to-b from-white/5 to-transparent pointer-events-none"}),y.jsx("button",{onClick:()=>l(null),className:"absolute top-6 right-6 p-2 rounded-full bg-black/20 hover:bg-white/10 text-gray-400 hover:text-white transition-colors z-20",children:y.jsx(ic,{size:20})}),y.jsxs("div",{className:"flex flex-col md:flex-row",children:[y.jsxs("div",{className:"md:w-2/5 p-8 flex flex-col items-center justify-center border-b md:border-b-0 md:border-r border-white/5 bg-black/20 relative",children:[y.jsxs("div",{className:"w-40 h-40 rounded-full p-2 border-2 border-white/5 shadow-2xl mb-6 relative group",children:[y.jsx("div",{className:"absolute inset-0 rounded-full blur opacity-20 group-hover:opacity-40 transition-opacity duration-500",style:{backgroundColor:a.color||"#fff"}}),y.jsx("img",{src:a.avatarUrl||"https://via.placeholder.com/150",alt:a.name,className:"w-full h-full rounded-full object-cover relative z-10"})]}),y.jsx("h3",{className:"text-2xl font-display font-bold text-white text-center",children:a.name}),y.jsx("span",{className:"mt-2 px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wider bg-white/5 border border-white/10",style:{color:a.color||"white",borderColor:`${a.color}30`},children:a.category})]}),y.jsx("div",{className:"md:w-3/5 p-8 md:p-10 flex flex-col justify-center",children:y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{children:[y.jsxs("h4",{className:"text-sm font-bold uppercase tracking-widest text-gray-500 mb-3 flex items-center gap-2",children:[y.jsx(_d,{size:14,className:"text-neon-cyan"})," Biography"]}),y.jsx("p",{className:"text-gray-300 leading-relaxed text-sm",children:a.bio||"This staff member hasn't written a biography yet, but they are an essential part of our community operations."})]}),a.discord&&y.jsxs("div",{children:[y.jsxs("h4",{className:"text-sm font-bold uppercase tracking-widest text-gray-500 mb-3 flex items-center gap-2",children:[y.jsx(_l,{size:14,className:"text-neon-pink"})," Contact"]}),y.jsxs("div",{className:"bg-white/5 rounded-xl p-4 border border-white/5 flex items-center justify-between group cursor-pointer hover:bg-white/10 transition-colors",children:[y.jsx("span",{className:"text-white font-mono text-sm",children:a.discord}),y.jsx("span",{className:"text-xs text-gray-500 uppercase font-bold group-hover:text-white transition-colors",children:"Discord"})]})]}),y.jsx("div",{className:"pt-6 border-t border-white/5 flex gap-4"})]})})]})]})})})]})},Lz={MessageSquare:y.jsx(_l,{}),BookOpen:y.jsx(_c,{}),Heart:y.jsx(U2,{}),AlertTriangle:y.jsx(Wd,{}),Shield:y.jsx(bl,{}),Users:y.jsx(xl,{}),Gavel:y.jsx(J0,{})},Uz=()=>{const[t,e]=D.useState("rules"),[n,s]=D.useState([]),[a,l]=D.useState([]),[c,f]=D.useState(""),[m,p]=D.useState(null),[v,_]=D.useState(null);D.useEffect(()=>{(async()=>{try{const O=await Us(ui(Mt,"server_rules"));s(O.docs.map(G=>({id:G.id,...G.data()})));const B=await Us(ui(Mt,"rp_guidelines"));l(B.docs.map(G=>({id:G.id,...G.data()})))}catch(O){console.error("Error fetching rules/guidelines:",O),_(O.message||"Failed to load rules.")}})()},[]);const w=M=>{p(m===M?null:M)},S=n.filter(M=>M.title.toLowerCase().includes(c.toLowerCase())||M.description.toLowerCase().includes(c.toLowerCase())||M.category.toLowerCase().includes(c.toLowerCase())),N=a.filter(M=>M.title.toLowerCase().includes(c.toLowerCase())||M.text.toLowerCase().includes(c.toLowerCase()));return y.jsxs("section",{id:"rules",className:"py-24 md:py-32 bg-rush-950 relative overflow-hidden",children:[y.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[url('https://www.transparenttextures.com/patterns/cubes.png')] opacity-5 pointer-events-none"}),y.jsx("div",{className:"absolute bottom-0 right-0 w-2/3 h-2/3 bg-neon-pink/5 blur-[150px] rounded-full pointer-events-none"}),y.jsx("div",{className:"absolute top-20 left-20 w-96 h-96 bg-neon-cyan/5 blur-[100px] rounded-full pointer-events-none"}),y.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:[y.jsxs("div",{className:"text-center mb-16",children:[y.jsx(Pe.h2,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-neon-cyan font-bold uppercase tracking-[0.3em] text-xs md:text-sm mb-3",children:"Rules & Standards"}),y.jsxs(Pe.h3,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.1},className:"text-4xl md:text-6xl font-display font-bold text-white mb-10 drop-shadow-[0_0_15px_rgba(255,255,255,0.1)]",children:["City ",y.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-neon-pink to-purple-500",children:"Rules"})]}),y.jsxs("div",{className:"inline-flex bg-rush-900/80 backdrop-blur-sm p-1.5 rounded-xl border border-white/10 shadow-xl",children:[y.jsx("button",{onClick:()=>e("rules"),className:`px-10 py-3 rounded-lg text-sm font-bold uppercase tracking-wider transition-all duration-300 ${t==="rules"?"bg-gradient-to-r from-neon-pink to-rush-600 text-white shadow-lg shadow-neon-pink/25":"text-gray-400 hover:text-white hover:bg-white/5"}`,children:"Rules"}),y.jsx("button",{onClick:()=>e("guidelines"),className:`px-10 py-3 rounded-lg text-sm font-bold uppercase tracking-wider transition-all duration-300 ${t==="guidelines"?"bg-gradient-to-r from-neon-cyan to-blue-600 text-white shadow-lg shadow-neon-cyan/25":"text-gray-400 hover:text-white hover:bg-white/5"}`,children:"Guidelines"})]})]}),y.jsxs("div",{className:"bg-rush-900/60 backdrop-blur-xl border border-white/10 rounded-3xl p-6 md:p-12 min-h-[500px] shadow-2xl relative overflow-hidden",children:[y.jsx("div",{className:"absolute inset-0 bg-grid-pattern opacity-5 pointer-events-none rounded-3xl"}),y.jsx(na,{mode:"wait",children:v?y.jsxs("div",{className:"text-center text-red-400 py-20",children:[y.jsx(Wd,{size:48,className:"mb-4 mx-auto"}),y.jsx("p",{className:"text-xl font-bold",children:"Error loading content"}),y.jsx("p",{className:"text-sm opacity-70 mt-2",children:v}),y.jsx("p",{className:"text-sm mt-4 text-gray-400",children:"Please check your database permissions."})]}):t==="rules"?y.jsx(Pe.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"space-y-4",children:S.length===0?y.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-gray-500",children:[y.jsx(J0,{size:48,className:"mb-4 opacity-50"}),y.jsx("p",{children:"No rules established yet."})]}):y.jsx("div",{className:"grid grid-cols-1 gap-4",children:S.map((M,O)=>y.jsxs(Pe.div,{layout:!0,initial:{opacity:0,scale:1},animate:{opacity:1},whileHover:{scale:1.01},onClick:()=>w(M.id),className:`cursor-pointer flex flex-col p-6 md:p-8 bg-black/20 border ${m===M.id?"border-neon-pink bg-white/5":"border-white/5"} hover:bg-white/5 transition-all duration-300 rounded-2xl group relative overflow-hidden`,children:[y.jsxs("div",{className:"flex items-center justify-between w-full",children:[y.jsxs("div",{className:"flex items-center gap-6",children:[y.jsx("span",{className:`font-display font-bold text-3xl transition-all inline-block min-w-[3ch] ${m===M.id?"text-neon-pink scale-110":"text-neon-pink/50 group-hover:text-neon-pink"}`,children:O<9?`0${O+1}`:O+1}),y.jsxs("div",{children:[y.jsx("div",{className:"flex items-center gap-3 mb-1",children:y.jsx("span",{className:"text-[10px] uppercase tracking-widest font-bold bg-white/5 text-gray-300 px-3 py-1 rounded-full border border-white/10",children:M.category})}),y.jsx("h4",{className:"text-white font-bold text-xl",children:M.title})]})]}),y.jsx("div",{className:`text-gray-400 transition-transform duration-300 ${m===M.id?"rotate-180 text-neon-pink":""}`,children:m===M.id?y.jsx(P2,{size:24}):y.jsx(j2,{size:24})})]}),y.jsx(na,{children:m===M.id&&y.jsx(Pe.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"overflow-hidden",children:y.jsx("div",{className:"pt-6 mt-6 border-t border-white/10",children:y.jsx("p",{className:"text-gray-300 text-base leading-relaxed pl-[4.5rem]",children:M.description})})})})]},M.id))})},"rules"):y.jsx(Pe.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:N.length===0?y.jsxs("div",{className:"col-span-1 md:col-span-2 flex flex-col items-center justify-center py-20 text-gray-500",children:[y.jsx(_c,{size:48,className:"mb-4 opacity-50"}),y.jsx("p",{children:"No guidelines established yet."})]}):N.map((M,O)=>{const B=Lz[M.icon]||y.jsx(_l,{});return y.jsxs(Pe.div,{layout:!0,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},whileHover:{scale:1.03,y:-5},transition:{delay:O*.05},className:"bg-black/30 p-8 rounded-2xl border border-white/5 hover:border-neon-cyan/50 transition-all duration-300 group shadow-lg hover:shadow-[0_10px_40px_-10px_rgba(6,182,212,0.2)] relative overflow-hidden",children:[y.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-5 group-hover:opacity-10 transition-opacity transform group-hover:scale-125 duration-500",children:Hg.cloneElement(B,{size:100})}),y.jsx("div",{className:"w-14 h-14 rounded-2xl bg-gradient-to-br from-rush-800 to-black text-neon-cyan flex items-center justify-center mb-6 border border-white/10 group-hover:border-neon-cyan group-hover:text-white group-hover:bg-neon-cyan transition-all duration-300 shadow-lg relative z-10",children:Hg.cloneElement(B,{size:28})}),y.jsx("h4",{className:"text-xl font-bold text-white mb-3 font-display tracking-wide group-hover:text-neon-cyan transition-colors relative z-10",children:M.title}),y.jsx("p",{className:"text-gray-400 text-sm leading-relaxed group-hover:text-gray-300 relative z-10",children:M.text})]},M.id)})},"guidelines")})]})]})]})},zz=()=>y.jsxs("footer",{className:"bg-rush-950 border-t border-white/5 py-16 relative overflow-hidden",children:[y.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-1/2 h-[1px] bg-gradient-to-r from-transparent via-neon-cyan/50 to-transparent"}),y.jsx("div",{className:"absolute bottom-0 left-0 w-full h-[200px] bg-gradient-to-t from-black to-transparent opacity-80 pointer-events-none"}),y.jsxs("div",{className:"max-w-7xl mx-auto px-4 text-center relative z-10",children:[y.jsx("div",{className:"mb-8",children:y.jsxs("span",{className:"font-display font-bold text-3xl tracking-tighter uppercase text-white drop-shadow-[0_0_15px_rgba(255,255,255,0.3)]",children:["Rush Hour ",y.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-neon-pink to-rush-500",children:"RP"})]})}),y.jsxs("div",{className:"flex justify-center flex-wrap gap-8 mb-10 text-gray-400 text-sm font-bold uppercase tracking-wider",children:[y.jsx("a",{href:"#",className:"hover:text-white hover:drop-shadow-[0_0_10px_rgba(255,255,255,0.5)] transition-all",children:"Discord"}),y.jsx("a",{href:"#",className:"hover:text-white hover:drop-shadow-[0_0_10px_rgba(255,255,255,0.5)] transition-all",children:"Tebex Store"}),y.jsx("a",{href:"#",className:"hover:text-white hover:drop-shadow-[0_0_10px_rgba(255,255,255,0.5)] transition-all",children:"Rules"}),y.jsx("a",{href:"#",className:"hover:text-white hover:drop-shadow-[0_0_10px_rgba(255,255,255,0.5)] transition-all",children:"Ban Appeal"})]}),y.jsxs("div",{className:"flex flex-col items-center gap-4",children:[y.jsx("div",{className:"px-4 py-1.5 rounded-full bg-white/5 border border-white/10 text-[10px] font-bold uppercase tracking-widest text-gray-400 hover:text-white hover:border-white/20 transition-all cursor-default",children:"Created by Vexel Studios"}),y.jsxs("p",{className:"text-gray-600 text-xs tracking-wide",children:[" ",new Date().getFullYear()," Rush Hour Roleplay. All rights reserved."]}),y.jsx("p",{className:"text-gray-700 text-[10px] uppercase tracking-widest",children:"Not affiliated with Rockstar Games"})]})]})]}),Bz=["Management","Head of Administration","Developer","Staff"],Mf=[{label:"Message",value:"MessageSquare",icon:_l},{label:"Book",value:"BookOpen",icon:_c},{label:"Heart",value:"Heart",icon:U2},{label:"Warning",value:"AlertTriangle",icon:Wd},{label:"Shield",value:"Shield",icon:bl},{label:"Users",value:"Users",icon:xl},{label:"Gavel",value:"Gavel",icon:J0},{label:"Car",value:"car",icon:V2},{label:"Briefcase",value:"briefcase",icon:xl},{label:"Zap",value:"zap",icon:ul},{label:"Radio",value:"radio",icon:z2},{label:"Bank",value:"bank",icon:k2},{label:"Crown",value:"crown",icon:L2}],Fz=()=>{var Pi,tr;const[t,e]=D.useState("overview"),n=Cd(),[s,a]=D.useState([]),[l,c]=D.useState([]),[f,m]=D.useState([]),[p,v]=D.useState([]),[_,w]=D.useState([]),[S,N]=D.useState({displayName:"",photoURL:""}),[M,O]=D.useState(null),[B,G]=D.useState(!1),[F,oe]=D.useState(null),[re,ce]=D.useState(!1),[C,A]=D.useState(null),[I,P]=D.useState(null),[k,z]=D.useState({}),[V,Qe]=D.useState(null),[ut,J]=D.useState(null),[ae,de]=D.useState(!1),[Te,Oe]=D.useState({videoUrl:"",videoTitle:"",isVisible:!1}),[L,te]=D.useState(!1);D.useEffect(()=>{const Y=async()=>{try{Dn.currentUser&&N({displayName:Dn.currentUser.displayName||"",photoURL:Dn.currentUser.photoURL||""});const le=await Us(ui(Mt,"server_rules"));c(le.docs.map(wt=>({id:wt.id,...wt.data()})));const xe=await Us(ui(Mt,"rp_guidelines"));m(xe.docs.map(wt=>({id:wt.id,...wt.data()})));const Se=await Us(ui(Mt,"server_features"));w(Se.docs.map(wt=>({id:wt.id,...wt.data()})));const $e=await Us(ui(Mt,"staff_members"));a($e.docs.map(wt=>({id:wt.id,...wt.data()})));const io=await Us(ui(Mt,"gallery_items"));v(io.docs.map(wt=>({id:wt.id,...wt.data()})));const Wt=await d2(rs(Mt,"site_settings","hero"));Wt.exists()&&Oe(Wt.data())}catch(le){console.error("Error fetching data:",le)}};Dn.currentUser&&Y()},[Dn.currentUser]),D.useEffect(()=>{Dn.currentUser||n("/")},[n]);const he=async()=>{await Dn.signOut(),n("/")},me=()=>{n("/")},Ee=async(Y,le)=>{const xe=f6(_6,le),Se=await c6(xe,Y);return await h6(Se.ref)},ke=async()=>{if(!confirm("This will populate default server data. Existing duplicates might be created. Continue?"))return;const Y=[{category:"General",title:"Respect & Toxicity",description:"Treat everyone with respect. Toxicity, harassment, and hate speech are strictly prohibited."},{category:"Combat",title:"No RDM (Random Deathmatch)",description:"Attacking another player without a valid roleplay reason is forbidden."}],le=[{title:"Custom Vehicles",description:"Over 300+ custom imported vehicles with realistic handling files, custom sounds, and modifications.",icon:"car"},{title:"Player Economy",description:"A deeply immersive, player-driven economy. Own businesses, manage stock, set prices, and dominate the market.",icon:"bank"},{title:"Whitelisted Jobs",description:"Join the LSPD, EMS, or DOJ. Rise through the ranks with realistic SOPs and progression systems.",icon:"briefcase"},{title:"Optimized Core",description:"Experience silky smooth gameplay with our custom-built core, ensuring high FPS and low latency.",icon:"zap"},{title:"Immersive Audio",description:"High fidelity 3D voice chat with radio filters, phone integration, and spatially accurate sound.",icon:"radio"},{title:"Active Community",description:"Daily events, friendly staff, and a welcoming community dedicated to serious roleplay.",icon:"users"}];try{if(l.length===0){const xe=ui(Mt,"server_rules");for(const Se of Y)await wg(xe,Se)}if(_.length===0){const xe=ui(Mt,"server_features");for(const Se of le)await wg(xe,Se)}alert("Data seeding complete! Refreshing..."),window.location.reload()}catch(xe){console.error("Error seeding data:",xe),alert("Failed to seed data. Check console.")}},Ce=(Y,le)=>{A(Y),P(le||null),z(le||{}),Qe(null),J(null),ce(!0)},_t=()=>{ce(!1),A(null),P(null),z({}),Qe(null),J(null)},ht=async Y=>{Y.preventDefault(),de(!0);try{let le={...k};if(C==="gallery"&&V){const Se=await Ee(V,`gallery/${Date.now()}_${V.name}`);le.imageUrl=Se}if(C==="staff"&&V){const Se=await Ee(V,`staff/${Date.now()}_${V.name}`);le.avatarUrl=Se}const xe=C==="rule"?"server_rules":C==="guideline"?"rp_guidelines":C==="feature"?"server_features":C==="staff"?"staff_members":C==="gallery"?"gallery_items":null;if(xe)if(I)await tj(rs(Mt,xe,I.id),le),C==="rule"&&c(Se=>Se.map($e=>$e.id===I.id?{...le,id:$e.id}:$e)),C==="guideline"&&m(Se=>Se.map($e=>$e.id===I.id?{...le,id:$e.id}:$e)),C==="feature"&&w(Se=>Se.map($e=>$e.id===I.id?{...le,id:$e.id}:$e)),C==="staff"&&a(Se=>Se.map($e=>$e.id===I.id?{...le,id:$e.id}:$e)),C==="gallery"&&v(Se=>Se.map($e=>$e.id===I.id?{...le,id:$e.id}:$e));else{const Se=await wg(ui(Mt,xe),le);C==="rule"&&c($e=>[...$e,{...le,id:Se.id}]),C==="guideline"&&m($e=>[...$e,{...le,id:Se.id}]),C==="feature"&&w($e=>[...$e,{...le,id:Se.id}]),C==="staff"&&a($e=>[...$e,{...le,id:Se.id}]),C==="gallery"&&v($e=>[...$e,{...le,id:Se.id}])}_t()}catch(le){console.error("Error saving item:",le),alert("Failed to save item. See console for details.")}finally{de(!1)}},On=async(Y,le)=>{if(confirm("Are you sure you want to delete this item?"))try{Y==="rule"?(await Uu(rs(Mt,"server_rules",le)),c(xe=>xe.filter(Se=>Se.id!==le))):Y==="guideline"?(await Uu(rs(Mt,"rp_guidelines",le)),m(xe=>xe.filter(Se=>Se.id!==le))):Y==="feature"?(await Uu(rs(Mt,"server_features",le)),w(xe=>xe.filter(Se=>Se.id!==le))):Y==="staff"?(await Uu(rs(Mt,"staff_members",le)),a(xe=>xe.filter(Se=>Se.id!==le))):Y==="gallery"&&(await Uu(rs(Mt,"gallery_items",le)),v(xe=>xe.filter(Se=>Se.id!==le)))}catch(xe){console.error("Error deleting item:",xe),alert("Failed to delete item.")}},Js=async Y=>{if(Y.preventDefault(),!!Dn.currentUser){G(!0);try{let le=S.photoURL;M&&(le=await Ee(M,`profiles/${Dn.currentUser.uid}_${Date.now()}`)),await yM(Dn.currentUser,{displayName:S.displayName,photoURL:le}),N(xe=>({...xe,photoURL:le})),alert("Profile updated successfully!"),O(null),oe(null)}catch(le){console.error("Error updating profile:",le),alert("Failed to update profile.")}finally{G(!1)}}},Zs=Y=>{if(Y.target.files&&Y.target.files[0]){const le=Y.target.files[0];O(le),oe(URL.createObjectURL(le))}},vs=Y=>{if(Y.target.files&&Y.target.files[0]){const le=Y.target.files[0];Qe(le),J(URL.createObjectURL(le))}},Yn=async Y=>{Y.preventDefault(),te(!0);try{await ej(rs(Mt,"site_settings","hero"),Te),alert("Hero settings saved successfully!")}catch(le){console.error("Error saving hero settings:",le),alert("Failed to save settings.")}finally{te(!1)}},er=[{id:"overview",label:"Overview",icon:y.jsx(G6,{size:20})},{id:"settings",label:"Site Settings",icon:y.jsx(Ww,{size:20})},{id:"profile",label:"My Profile",icon:y.jsx(_d,{size:20})},{id:"features",label:"Features",icon:y.jsx(ul,{size:20})},{id:"staff",label:"Staff Team",icon:y.jsx(xl,{size:20})},{id:"rules",label:"Server Rules",icon:y.jsx(_c,{size:20})},{id:"guidelines",label:"RP Guidelines",icon:y.jsx(Kw,{size:20})},{id:"gallery",label:"Gallery",icon:y.jsx(Sg,{size:20})}];return y.jsxs("div",{className:"min-h-screen bg-rush-950 flex font-sans text-white bg-[url('https://www.transparenttextures.com/patterns/carbon-fibre.png')]",children:[y.jsxs("aside",{className:"w-80 bg-rush-900/90 backdrop-blur-xl border-r border-white/5 flex flex-col fixed h-full z-30 shadow-2xl",children:[y.jsxs("div",{className:"p-8 border-b border-white/5 flex items-center gap-3",children:[y.jsx("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-neon-pink to-purple-600 flex items-center justify-center shadow-lg shadow-neon-pink/20",children:y.jsx(bl,{className:"text-white",size:24})}),y.jsxs("div",{children:[y.jsx("h1",{className:"font-display font-bold text-2xl tracking-wide text-white leading-none",children:"RUSH HOUR"}),y.jsx("span",{className:"text-neon-cyan text-xs font-bold uppercase tracking-[0.2em]",children:"Admin Panel"})]})]}),y.jsxs("nav",{className:"flex-1 p-4 space-y-2 overflow-y-auto custom-scrollbar",children:[y.jsx("div",{className:"text-xs font-bold uppercase tracking-widest text-gray-500 px-4 py-2 mt-4 mb-2",children:"Menu"}),er.map(Y=>y.jsxs("button",{onClick:()=>e(Y.id),className:`w-full flex items-center justify-between px-4 py-3.5 rounded-xl transition-all duration-300 group relative overflow-hidden ${t===Y.id?"bg-white/5 text-white shadow-inner":"text-gray-400 hover:text-white hover:bg-white/5"}`,children:[y.jsxs("div",{className:"flex items-center gap-3 relative z-10",children:[y.jsx("span",{className:`${t===Y.id?"text-neon-pink":"text-gray-500 group-hover:text-white transition-colors"}`,children:Y.icon}),y.jsx("span",{className:"font-medium tracking-wide",children:Y.label})]}),t===Y.id&&y.jsx(Pe.div,{layoutId:"activeTabIndicator",className:"w-1 h-6 bg-neon-pink rounded-full absolute left-0 top-1/2 -translate-y-1/2"}),t===Y.id&&y.jsx($w,{size:16,className:"text-gray-500"})]},Y.id))]}),y.jsxs("div",{className:"p-4 border-t border-white/5 space-y-2",children:[y.jsxs("button",{onClick:me,className:"w-full flex items-center gap-3 px-4 py-3.5 rounded-xl text-gray-400 hover:bg-white/5 hover:text-white transition-all group",children:[y.jsx(F6,{size:20,className:"group-hover:-translate-x-1 transition-transform"}),y.jsx("span",{className:"font-bold tracking-wide text-sm",children:"Return to Website"})]}),y.jsxs("button",{onClick:he,className:"w-full flex items-center gap-3 px-4 py-3.5 rounded-xl text-red-400 hover:bg-red-500/10 hover:text-red-300 transition-all border border-transparent hover:border-red-500/20 group",children:[y.jsx(_y,{size:20,className:"group-hover:-translate-x-1 transition-transform"}),y.jsx("span",{className:"font-bold tracking-wide text-sm",children:"Sign Out"})]})]})]}),y.jsxs("main",{className:"flex-1 ml-80 relative overflow-hidden flex flex-col min-h-screen",children:[y.jsxs("header",{className:"h-20 bg-rush-900/50 backdrop-blur-md border-b border-white/5 flex items-center justify-between px-8 sticky top-0 z-20",children:[y.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[y.jsx("span",{className:"hover:text-white cursor-pointer transition-colors",onClick:()=>e("overview"),children:"Admin"}),y.jsx($w,{size:14}),y.jsx("span",{className:"text-white font-medium capitalize",children:(Pi=er.find(Y=>Y.id===t))==null?void 0:Pi.label})]}),y.jsx("div",{className:"flex items-center gap-6",children:y.jsxs("div",{className:"flex items-center gap-3 pl-2",children:[y.jsxs("div",{className:"text-right hidden sm:block",children:[y.jsx("p",{className:"text-sm font-bold text-white leading-tight",children:S.displayName||"Admin User"}),y.jsx("p",{className:"text-xs text-neon-cyan font-medium",children:"Logged In"})]}),y.jsx("div",{className:"w-10 h-10 rounded-full border-2 border-white/10 overflow-hidden relative",children:y.jsx("img",{src:S.photoURL||"https://via.placeholder.com/150",alt:"Profile",className:"w-full h-full object-cover"})})]})})]}),y.jsxs("div",{className:"flex-1 p-8 md:p-12 overflow-y-auto relative",children:[y.jsx("div",{className:"absolute top-0 right-0 w-[500px] h-[500px] bg-neon-cyan/5 blur-[150px] rounded-full pointer-events-none"}),y.jsx("div",{className:"absolute bottom-0 left-0 w-[500px] h-[500px] bg-neon-pink/5 blur-[150px] rounded-full pointer-events-none"}),y.jsx("div",{className:"max-w-7xl mx-auto relative z-10",children:y.jsx(na,{mode:"wait",children:y.jsxs(Pe.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},children:[t==="overview"&&y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"mb-8",children:[y.jsxs("h2",{className:"text-3xl font-display font-bold text-white mb-2",children:["Welcome Back, ",S.displayName.split(" ")[0]||"Admin"]}),y.jsx("p",{className:"text-gray-400",children:"Here's what's happening in your city today."})]}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[{label:"Total Features",value:_.length,icon:ul,color:"text-orange-400",bg:"bg-orange-400/10",border:"border-orange-400/20"},{label:"Active Rules",value:l.length,icon:_c,color:"text-neon-cyan",bg:"bg-neon-cyan/10",border:"border-neon-cyan/20"},{label:"Guidelines",value:f.length,icon:Kw,color:"text-purple-400",bg:"bg-purple-400/10",border:"border-purple-400/20"},{label:"Gallery Items",value:p.length,icon:Sg,color:"text-yellow-400",bg:"bg-yellow-400/10",border:"border-yellow-400/20"}].map((Y,le)=>y.jsxs("div",{className:`bg-rush-900/60 backdrop-blur border ${Y.border} p-6 rounded-2xl relative overflow-hidden group hover:bg-white/5 transition-all`,children:[y.jsxs("div",{className:"flex justify-between items-start mb-4",children:[y.jsx("div",{className:`w-12 h-12 rounded-xl ${Y.bg} ${Y.color} flex items-center justify-center`,children:y.jsx(Y.icon,{size:24})}),y.jsx("span",{className:"text-xs font-bold uppercase tracking-wider text-gray-500 bg-black/20 px-2 py-1 rounded-lg",children:"Live"})]}),y.jsx("p",{className:"text-4xl font-display font-bold text-white mb-1",children:Y.value}),y.jsx("p",{className:"text-sm text-gray-400 font-medium",children:Y.label})]},le))}),y.jsxs("div",{className:"bg-gradient-to-r from-rush-900/80 to-rush-800/80 backdrop-blur border border-white/10 rounded-2xl p-8 flex items-center justify-between",children:[y.jsxs("div",{children:[y.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Quick Actions"}),y.jsx("p",{className:"text-gray-400 text-sm max-w-lg",children:"Need to reset the server data efficiently? Use the seeder below to populate default rules and guidelines."})]}),y.jsxs("button",{onClick:ke,className:"px-6 py-3 bg-white hover:bg-gray-200 border border-transparent rounded-xl text-black transition-all text-sm font-bold uppercase tracking-wider flex items-center gap-2 shadow-xl shadow-white/5",children:[y.jsx(Ww,{size:18})," Populate Default Data"]})]})]}),t==="features"&&y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{className:"flex justify-between items-end",children:[y.jsxs("div",{children:[y.jsx("h3",{className:"text-2xl font-bold text-white",children:"Server Features"}),y.jsx("p",{className:"text-gray-400 text-sm",children:"Manage the features displayed on the main page."})]}),y.jsxs("button",{onClick:()=>Ce("feature"),className:"flex items-center gap-2 px-6 py-3 bg-white hover:bg-gray-200 text-black font-bold uppercase tracking-wider rounded-xl transition-colors shadow-lg shadow-white/10",children:[y.jsx(Wo,{size:18})," Add Feature"]})]}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:_.map(Y=>{var xe;const le=((xe=Mf.find(Se=>Se.value===Y.icon))==null?void 0:xe.icon)||ul;return y.jsxs("div",{className:"bg-rush-900/60 backdrop-blur border border-white/10 p-6 rounded-2xl hover:border-white/20 transition-all group relative overflow-hidden",children:[y.jsx("div",{className:"absolute top-0 right-0 p-6 opacity-5 group-hover:opacity-10 group-hover:scale-110 transition-all",children:y.jsx(le,{size:100})}),y.jsxs("div",{className:"flex justify-between items-start mb-4 relative z-10",children:[y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-rush-800 to-black border border-white/10 text-neon-cyan flex items-center justify-center shadow-lg",children:y.jsx(le,{size:24})}),y.jsx("h3",{className:"text-xl font-bold text-white trim",children:Y.title})]}),y.jsxs("div",{className:"flex gap-2",children:[y.jsx("button",{onClick:()=>Ce("feature",Y),className:"p-2 bg-white/5 rounded-lg hover:bg-white/10 text-gray-300 hover:text-white transition-colors",children:y.jsx(Xo,{size:16})}),y.jsx("button",{onClick:()=>On("feature",Y.id),className:"p-2 bg-white/5 rounded-lg hover:bg-white/10 text-gray-300 hover:text-red-400 transition-colors",children:y.jsx(Bu,{size:16})})]})]}),y.jsx("p",{className:"text-gray-400 text-sm leading-relaxed relative z-10",children:Y.description})]},Y.id)})})]}),t==="settings"&&y.jsx("div",{className:"max-w-3xl mx-auto",children:y.jsxs("div",{className:"bg-rush-900/60 border border-white/10 p-8 md:p-12 rounded-3xl backdrop-blur-md",children:[y.jsxs("div",{className:"mb-8",children:[y.jsx("h3",{className:"text-3xl font-bold text-white mb-2",children:"Hero Section Settings"}),y.jsx("p",{className:"text-gray-400",children:"Manage the main video display on your landing page. Can be hidden if not relevant."})]}),y.jsxs("form",{onSubmit:Yn,className:"space-y-8",children:[y.jsxs("div",{className:"bg-black/20 p-6 rounded-2xl border border-white/5 space-y-6",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{children:[y.jsx("h4",{className:"text-white font-bold text-lg",children:"Video Visibility"}),y.jsx("p",{className:"text-xs text-gray-500",children:"Show or hide the video on the main page."})]}),y.jsx("button",{type:"button",onClick:()=>Oe(Y=>({...Y,isVisible:!Y.isVisible})),className:`w-14 h-8 rounded-full transition-colors relative ${Te.isVisible?"bg-neon-cyan":"bg-gray-700"}`,children:y.jsx("div",{className:`absolute top-1 w-6 h-6 rounded-full bg-white transition-transform ${Te.isVisible?"left-7":"left-1"}`})})]}),y.jsx("div",{className:`transition-opacity duration-300 ${Te.isVisible?"opacity-100":"opacity-50 pointer-events-none"}`,children:y.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[y.jsxs("div",{children:[y.jsx("label",{className:"text-gray-400 text-xs font-bold uppercase mb-2 block ml-1",children:"YouTube Video URL"}),y.jsx("input",{className:"w-full bg-black/40 border border-white/10 rounded-xl p-4 text-white focus:border-neon-cyan outline-none transition-all font-mono text-sm",value:Te.videoUrl,onChange:Y=>Oe({...Te,videoUrl:Y.target.value}),placeholder:"https://www.youtube.com/watch?v=..."})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-gray-400 text-xs font-bold uppercase mb-2 block ml-1",children:"Video Title / Caption"}),y.jsx("input",{className:"w-full bg-black/40 border border-white/10 rounded-xl p-4 text-white focus:border-neon-cyan outline-none transition-all",value:Te.videoTitle,onChange:Y=>Oe({...Te,videoTitle:Y.target.value}),placeholder:"e.g. Official Server Trailer v3.0"})]})]})})]}),y.jsx("div",{className:"flex justify-end pt-4 border-t border-white/5",children:y.jsxs("button",{type:"submit",disabled:L,className:"px-8 py-3 bg-white text-black font-bold uppercase tracking-wider rounded-xl hover:bg-gray-200 transition-all shadow-lg flex items-center gap-2 disabled:opacity-50",children:[L?y.jsx("div",{className:"w-4 h-4 border-2 border-black/30 border-t-black rounded-full animate-spin"}):y.jsx(Xw,{size:18}),y.jsx("span",{children:L?"Saving...":"Save Configuration"})]})})]})]})}),t==="profile"&&y.jsx("div",{className:"max-w-3xl mx-auto",children:y.jsxs("div",{className:"bg-rush-900/60 border border-white/10 p-8 md:p-12 rounded-3xl relative overflow-hidden",children:[y.jsx("div",{className:"absolute top-0 left-0 w-full h-32 bg-gradient-to-r from-neon-pink/20 to-purple-600/20"}),y.jsxs("div",{className:"relative flex flex-col md:flex-row gap-8 items-start",children:[y.jsxs("div",{className:"relative group",children:[y.jsxs("div",{className:"w-32 h-32 rounded-3xl overflow-hidden border-4 border-rush-900 shadow-2xl relative",children:[y.jsx("img",{src:F||S.photoURL||"https://via.placeholder.com/150",alt:"Profile",className:"w-full h-full object-cover"}),y.jsxs("label",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 flex items-center justify-center cursor-pointer transition-opacity",children:[y.jsx(M2,{className:"text-white",size:32}),y.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:Zs})]})]}),y.jsx("div",{className:"absolute -bottom-2 -right-2 w-8 h-8 bg-green-500 rounded-full border-4 border-rush-900 flex items-center justify-center",children:y.jsx(O2,{size:14,className:"text-black font-bold"})})]}),y.jsxs("div",{className:"flex-1 w-full",children:[y.jsxs("div",{className:"flex justify-between items-start mb-6",children:[y.jsxs("div",{children:[y.jsx("h3",{className:"text-3xl font-bold text-white mb-1",children:S.displayName||"Admin User"}),y.jsx("p",{className:"text-neon-cyan text-sm font-bold uppercase tracking-wider",children:"Super Administrator"})]}),y.jsx("span",{className:"bg-green-500/10 text-green-400 px-3 py-1 rounded-full text-xs font-bold uppercase border border-green-500/20",children:"Active Session"})]}),y.jsxs("form",{onSubmit:Js,className:"space-y-6",children:[y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[y.jsxs("div",{children:[y.jsx("label",{className:"text-gray-400 text-xs font-bold uppercase mb-2 block ml-1",children:"Display Name"}),y.jsx("input",{className:"w-full bg-black/40 border border-white/10 rounded-xl p-4 text-white focus:border-neon-pink outline-none transition-all focus:bg-black/60",value:S.displayName,onChange:Y=>N({...S,displayName:Y.target.value}),placeholder:"Enter your display name"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-gray-400 text-xs font-bold uppercase mb-2 block ml-1",children:"Email Address"}),y.jsx("input",{className:"w-full bg-black/40 border border-white/10 rounded-xl p-4 text-gray-500 cursor-not-allowed",value:((tr=Dn.currentUser)==null?void 0:tr.email)||"",disabled:!0})]})]}),y.jsxs("div",{className:"pt-6 border-t border-white/5 flex items-center justify-between",children:[y.jsx("p",{className:"text-xs text-gray-500",children:"Last login: Just now"}),y.jsxs("button",{type:"submit",disabled:B,className:"px-8 py-3 bg-white text-black font-bold uppercase tracking-wider rounded-xl hover:bg-gray-200 transition-all shadow-lg flex items-center gap-2 disabled:opacity-50",children:[B?y.jsx("div",{className:"w-4 h-4 border-2 border-black/30 border-t-black rounded-full animate-spin"}):y.jsx(Xw,{size:18}),y.jsx("span",{children:B?"Saving...":"Save Changes"})]})]})]})]})]})]})}),t==="staff"&&y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{className:"flex justify-between items-end",children:[y.jsxs("div",{children:[y.jsx("h3",{className:"text-2xl font-bold text-white",children:"Staff Management"}),y.jsx("p",{className:"text-gray-400 text-sm",children:"Manage staff profiles and permissions."})]}),y.jsxs("button",{onClick:()=>Ce("staff"),className:"flex items-center gap-2 px-6 py-3 bg-neon-pink hover:bg-neon-pink/90 text-black font-bold uppercase tracking-wider rounded-xl transition-colors shadow-lg shadow-neon-pink/20",children:[y.jsx(Wo,{size:18})," Add Staff"]})]}),y.jsxs("div",{className:"bg-rush-900/60 border border-white/10 rounded-2xl overflow-hidden backdrop-blur-md",children:[y.jsxs("table",{className:"w-full text-left",children:[y.jsx("thead",{className:"bg-black/20 text-gray-400 text-xs uppercase tracking-widest font-bold border-b border-white/5",children:y.jsxs("tr",{children:[y.jsx("th",{className:"p-5",children:"User"}),y.jsx("th",{className:"p-5",children:"Role"}),y.jsx("th",{className:"p-5",children:"Category"}),y.jsx("th",{className:"p-5",children:"Discord"}),y.jsx("th",{className:"p-5 text-right",children:"Actions"})]})}),y.jsx("tbody",{className:"divide-y divide-white/5",children:s.sort((Y,le)=>(Y.order||99)-(le.order||99)).map(Y=>y.jsxs("tr",{className:"hover:bg-white/5 transition-colors group",children:[y.jsx("td",{className:"p-5",children:y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx("div",{className:"w-12 h-12 rounded-full p-[2px] shadow-lg",style:{background:`linear-gradient(135deg, ${Y.color}, transparent)`},children:y.jsx("img",{src:Y.avatarUrl||"https://via.placeholder.com/100",alt:Y.name,className:"w-full h-full rounded-full object-cover border-2 border-rush-900"})}),y.jsxs("div",{children:[y.jsx("span",{className:"font-bold text-white block",children:Y.name}),Y.bio&&y.jsx("span",{className:"text-xs text-gray-500 line-clamp-1 max-w-[200px]",children:Y.bio})]})]})}),y.jsx("td",{className:"p-5",children:y.jsx("span",{className:"text-xs uppercase tracking-wider font-bold px-3 py-1.5 rounded-lg bg-black/30 border",style:{color:Y.color,borderColor:`${Y.color}40`},children:Y.role})}),y.jsx("td",{className:"p-5 text-gray-400 text-sm",children:Y.category||"Management"}),y.jsx("td",{className:"p-5 text-gray-500 text-sm font-mono",children:Y.discord||"-"}),y.jsxs("td",{className:"p-5 text-right space-x-2",children:[y.jsx("button",{onClick:()=>Ce("staff",Y),className:"p-2 bg-white/5 rounded-lg hover:bg-white/10 text-gray-400 hover:text-white transition-colors",children:y.jsx(Xo,{size:16})}),y.jsx("button",{onClick:()=>On("staff",Y.id),className:"p-2 bg-white/5 rounded-lg hover:bg-white/10 text-gray-400 hover:text-red-400 transition-colors",children:y.jsx(Bu,{size:16})})]})]},Y.id))})]}),s.length===0&&y.jsxs("div",{className:"text-center py-12 text-gray-500",children:[y.jsx(xl,{className:"mx-auto mb-3 opacity-50",size:40}),y.jsx("p",{children:'No staff members yet. Click "Add Staff" to get started.'})]})]})]}),t==="guidelines"&&y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{className:"flex justify-between items-end",children:[y.jsxs("div",{children:[y.jsx("h3",{className:"text-2xl font-bold text-white",children:"RP Guidelines"}),y.jsx("p",{className:"text-gray-400 text-sm",children:"Set the standards for roleplay quality."})]}),y.jsxs("button",{onClick:()=>Ce("guideline"),className:"flex items-center gap-2 px-6 py-3 bg-neon-cyan hover:bg-neon-cyan/90 text-black font-bold uppercase tracking-wider rounded-xl transition-colors shadow-lg shadow-neon-cyan/20",children:[y.jsx(Wo,{size:18})," Add Guideline"]})]}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:f.map(Y=>{var xe;const le=((xe=Mf.find(Se=>Se.value===Y.icon))==null?void 0:xe.icon)||_l;return y.jsxs("div",{className:"bg-rush-900/60 backdrop-blur border border-white/10 p-6 rounded-2xl hover:border-white/20 transition-all group relative overflow-hidden",children:[y.jsx("div",{className:"absolute top-0 right-0 p-6 opacity-5 group-hover:opacity-10 group-hover:scale-110 transition-all",children:y.jsx(le,{size:100})}),y.jsxs("div",{className:"flex justify-between items-start mb-4 relative z-10",children:[y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-rush-800 to-black border border-white/10 text-neon-cyan flex items-center justify-center shadow-lg",children:y.jsx(le,{size:24})}),y.jsx("h3",{className:"text-xl font-bold text-white",children:Y.title})]}),y.jsxs("div",{className:"flex gap-2",children:[y.jsx("button",{onClick:()=>Ce("guideline",Y),className:"p-2 bg-white/5 rounded-lg hover:bg-white/10 text-gray-300 hover:text-white transition-colors",children:y.jsx(Xo,{size:16})}),y.jsx("button",{onClick:()=>On("guideline",Y.id),className:"p-2 bg-white/5 rounded-lg hover:bg-white/10 text-gray-300 hover:text-red-400 transition-colors",children:y.jsx(Bu,{size:16})})]})]}),y.jsx("p",{className:"text-gray-400 text-sm leading-relaxed relative z-10",children:Y.text})]},Y.id)})})]}),t==="rules"&&y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{className:"flex justify-between items-end",children:[y.jsxs("div",{children:[y.jsx("h3",{className:"text-2xl font-bold text-white",children:"Server Rules"}),y.jsx("p",{className:"text-gray-400 text-sm",children:"Define non-negotiable server laws."})]}),y.jsxs("button",{onClick:()=>Ce("rule"),className:"flex items-center gap-2 px-6 py-3 bg-neon-pink hover:bg-neon-pink/90 text-black font-bold uppercase tracking-wider rounded-xl transition-colors shadow-lg shadow-neon-pink/20",children:[y.jsx(Wo,{size:18})," Add Rule"]})]}),y.jsx("div",{className:"grid gap-4",children:l.map(Y=>y.jsxs("div",{className:"bg-rush-900/60 backdrop-blur border border-white/10 p-6 rounded-2xl hover:bg-white/5 transition-all flex justify-between items-start group",children:[y.jsxs("div",{children:[y.jsx("span",{className:"text-xs font-bold uppercase tracking-widest text-neon-pink mb-2 block bg-neon-pink/10 w-fit px-2 py-1 rounded",children:Y.category}),y.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:Y.title}),y.jsx("p",{className:"text-gray-400 text-sm max-w-2xl",children:Y.description})]}),y.jsxs("div",{className:"flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[y.jsx("button",{onClick:()=>Ce("rule",Y),className:"p-2 bg-white/5 rounded-lg hover:bg-white/10 text-gray-300 hover:text-white transition-colors",children:y.jsx(Xo,{size:16})}),y.jsx("button",{onClick:()=>On("rule",Y.id),className:"p-2 bg-white/5 rounded-lg hover:bg-white/10 text-gray-300 hover:text-red-400 transition-colors",children:y.jsx(Bu,{size:16})})]})]},Y.id))})]}),t==="gallery"&&y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{className:"flex justify-between items-end",children:[y.jsxs("div",{children:[y.jsx("h3",{className:"text-2xl font-bold text-white",children:"Media Gallery"}),y.jsx("p",{className:"text-gray-400 text-sm",children:"Curate showcase images."})]}),y.jsxs("button",{onClick:()=>Ce("gallery"),className:"flex items-center gap-2 px-6 py-3 bg-white hover:bg-gray-200 text-black font-bold uppercase tracking-wider rounded-xl transition-colors shadow-lg shadow-white/10",children:[y.jsx(Wo,{size:18})," Add Photo"]})]}),y.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:p.map(Y=>y.jsxs("div",{className:"group relative aspect-video bg-black rounded-2xl overflow-hidden border border-white/10 shadow-xl",children:[y.jsx("img",{src:Y.imageUrl,alt:Y.title,className:"w-full h-full object-cover opacity-80 group-hover:opacity-100 group-hover:scale-105 transition-all duration-700"}),y.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/90 via-black/20 to-transparent",children:y.jsxs("div",{className:"absolute bottom-0 left-0 p-4 w-full",children:[y.jsx("h4",{className:"text-white font-bold truncate",children:Y.title}),y.jsxs("p",{className:"text-xs text-gray-400 flex items-center gap-1 mt-1",children:[y.jsx(Sg,{size:12})," ",Y.photographer]})]})}),y.jsxs("div",{className:"absolute top-2 right-2 flex gap-2 opacity-0 group-hover:opacity-100 transition-all translate-y-2 group-hover:translate-y-0",children:[y.jsx("button",{onClick:()=>Ce("gallery",Y),className:"p-2 bg-black/60 backdrop-blur rounded-lg hover:bg-white hover:text-black text-white transition-colors",children:y.jsx(Xo,{size:14})}),y.jsx("button",{onClick:()=>On("gallery",Y.id),className:"p-2 bg-black/60 backdrop-blur rounded-lg hover:bg-red-500 hover:text-white text-white transition-colors",children:y.jsx(Bu,{size:14})})]})]},Y.id))})]})]},t)})})]})]}),y.jsx(na,{children:re&&y.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm p-4",children:y.jsxs(Pe.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-rush-900 border border-white/10 rounded-3xl p-8 w-full max-w-lg shadow-2xl relative overflow-hidden",children:[y.jsx("div",{className:"absolute top-0 left-0 w-full h-2 bg-gradient-to-r from-neon-pink to-purple-600"}),y.jsx("button",{onClick:_t,className:"absolute top-6 right-6 text-gray-500 hover:text-white transition-colors",children:y.jsx(ic,{size:24})}),y.jsxs("h3",{className:"text-2xl font-bold text-white mb-1 uppercase tracking-wide",children:[I?"Edit":"Add"," ",C==="feature"?"Feature":C==="staff"?"Staff":C==="rule"?"Rule":C==="guideline"?"Guideline":"Photo"]}),y.jsx("p",{className:"text-gray-400 text-sm mb-8",children:"Fill in the details below."}),y.jsxs("form",{onSubmit:ht,className:"space-y-5",children:[C==="feature"&&y.jsxs(y.Fragment,{children:[y.jsxs("div",{children:[y.jsx("label",{className:"text-gray-400 text-xs font-bold uppercase mb-2 block ml-1",children:"Title"}),y.jsx("input",{className:"w-full bg-black/40 border border-white/10 rounded-xl p-3.5 text-white focus:border-neon-pink outline-none",value:k.title||"",onChange:Y=>z({...k,title:Y.target.value}),required:!0,placeholder:"Feature Title"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-gray-400 text-xs font-bold uppercase mb-2 block ml-1",children:"Description"}),y.jsx("textarea",{className:"w-full bg-black/40 border border-white/10 rounded-xl p-3.5 text-white focus:border-neon-pink outline-none min-h-[100px]",value:k.description||"",onChange:Y=>z({...k,description:Y.target.value}),required:!0,placeholder:"Feature details..."})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-gray-400 text-xs font-bold uppercase mb-2 block ml-1",children:"Icon"}),y.jsx("div",{className:"grid grid-cols-7 gap-2",children:Mf.map(Y=>y.jsx("button",{type:"button",onClick:()=>z({...k,icon:Y.value}),className:`p-2 rounded-lg flex items-center justify-center border transition-all ${k.icon===Y.value?"bg-neon-pink text-black border-neon-pink":"bg-black/40 border-white/10 text-gray-400 hover:text-white"}`,title:Y.label,children:y.jsx(Y.icon,{size:20})},Y.value))})]})]}),C==="staff"&&y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[y.jsxs("div",{children:[y.jsx("label",{className:"text-gray-400 text-xs font-bold uppercase mb-2 block ml-1",children:"Name"}),y.jsx("input",{className:"w-full bg-black/40 border border-white/10 rounded-xl p-3.5 text-white focus:border-neon-pink outline-none transition-all",value:k.name||"",onChange:Y=>z({...k,name:Y.target.value}),required:!0,placeholder:"Username"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-gray-400 text-xs font-bold uppercase mb-2 block ml-1",children:"Category"}),y.jsxs("select",{className:"w-full bg-black/40 border border-white/10 rounded-xl p-3.5 text-white focus:border-neon-pink outline-none transition-all appearance-none cursor-pointer",value:k.category||"",onChange:Y=>z({...k,category:Y.target.value}),children:[y.jsx("option",{value:"",disabled:!0,children:"Select Category"}),Bz.map(Y=>y.jsx("option",{value:Y,className:"bg-rush-900 text-white",children:Y},Y))]})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-gray-400 text-xs font-bold uppercase mb-2 block ml-1",children:"Avatar Image"}),y.jsxs("div",{className:"space-y-3",children:[y.jsx("div",{className:"flex items-center gap-4",children:y.jsxs("label",{className:"flex-1 cursor-pointer bg-black/40 border border-white/10 border-dashed rounded-xl p-6 hover:border-white/30 transition-colors flex flex-col items-center justify-center text-gray-500 hover:text-white",children:[y.jsx(Jw,{size:24,className:"mb-2"}),y.jsx("span",{className:"text-xs font-bold uppercase",children:"Click to Upload Avatar"}),y.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:vs})]})}),ut&&y.jsxs("div",{className:"relative h-32 w-32 mx-auto rounded-full overflow-hidden border border-white/10",children:[y.jsx("img",{src:ut,className:"w-full h-full object-cover",alt:"Preview"}),y.jsx("button",{type:"button",onClick:()=>{Qe(null),J(null)},className:"absolute top-2 right-2 p-1 bg-black/50 rounded-full text-white hover:bg-red-500",children:y.jsx(ic,{size:14})})]}),!V&&y.jsx("input",{className:"w-full bg-black/40 border border-white/10 rounded-xl p-3.5 text-white focus:border-neon-pink outline-none",value:k.avatarUrl||"",onChange:Y=>z({...k,avatarUrl:Y.target.value}),placeholder:"Or paste URL..."})]})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[y.jsxs("div",{children:[y.jsx("label",{className:"text-gray-400 text-xs font-bold uppercase mb-2 block ml-1",children:"Order Priority"}),y.jsx("input",{type:"number",className:"w-full bg-black/40 border border-white/10 rounded-xl p-3.5 text-white focus:border-neon-pink outline-none transition-all",value:k.order||0,onChange:Y=>z({...k,order:parseInt(Y.target.value)||0}),placeholder:"1 (Highest)"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-gray-400 text-xs font-bold uppercase mb-2 block ml-1",children:"Discord Username"}),y.jsx("input",{className:"w-full bg-black/40 border border-white/10 rounded-xl p-3.5 text-white focus:border-neon-pink outline-none transition-all",value:k.discord||"",onChange:Y=>z({...k,discord:Y.target.value}),placeholder:"username"})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-gray-400 text-xs font-bold uppercase mb-2 block ml-1",children:"Bio"}),y.jsx("textarea",{className:"w-full bg-black/40 border border-white/10 rounded-xl p-3.5 text-white focus:border-neon-pink outline-none min-h-[100px] transition-all",value:k.bio||"",onChange:Y=>z({...k,bio:Y.target.value}),placeholder:"Short bio or description..."})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-gray-400 text-xs font-bold uppercase mb-2 block ml-1",children:"Name Color"}),y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx("input",{type:"color",className:"w-16 h-12 bg-transparent border border-white/10 rounded-xl cursor-pointer p-1",value:k.color||"#06b6d4",onChange:Y=>z({...k,color:Y.target.value})}),y.jsx("span",{className:"text-sm text-gray-400",children:k.color||"#06b6d4"})]})]})]}),C==="guideline"&&y.jsxs(y.Fragment,{children:[y.jsxs("div",{children:[y.jsx("label",{className:"text-gray-400 text-xs font-bold uppercase mb-2 block ml-1",children:"Title"}),y.jsx("input",{className:"w-full bg-black/40 border border-white/10 rounded-xl p-3.5 text-white focus:border-neon-pink outline-none",value:k.title||"",onChange:Y=>z({...k,title:Y.target.value}),required:!0,placeholder:"Stay In Character"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-gray-400 text-xs font-bold uppercase mb-2 block ml-1",children:"Description"}),y.jsx("textarea",{className:"w-full bg-black/40 border border-white/10 rounded-xl p-3.5 text-white focus:border-neon-pink outline-none min-h-[100px]",value:k.text||"",onChange:Y=>z({...k,text:Y.target.value}),required:!0,placeholder:"Guideline details..."})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-gray-400 text-xs font-bold uppercase mb-2 block ml-1",children:"Icon"}),y.jsx("div",{className:"grid grid-cols-7 gap-2",children:Mf.map(Y=>y.jsx("button",{type:"button",onClick:()=>z({...k,icon:Y.value}),className:`p-2 rounded-lg flex items-center justify-center border transition-all ${k.icon===Y.value?"bg-neon-pink text-black border-neon-pink":"bg-black/40 border-white/10 text-gray-400 hover:text-white"}`,children:y.jsx(Y.icon,{size:20})},Y.value))})]})]}),C==="rule"&&y.jsxs(y.Fragment,{children:[y.jsxs("div",{children:[y.jsx("label",{className:"text-gray-400 text-xs font-bold uppercase mb-2 block ml-1",children:"Title"}),y.jsx("input",{className:"w-full bg-black/40 border border-white/10 rounded-xl p-3.5 text-white focus:border-neon-cyan outline-none",value:k.title||"",onChange:Y=>z({...k,title:Y.target.value}),required:!0,placeholder:"Rule 1: No RDM"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-gray-400 text-xs font-bold uppercase mb-2 block ml-1",children:"Description"}),y.jsx("textarea",{className:"w-full bg-black/40 border border-white/10 rounded-xl p-3.5 text-white focus:border-neon-cyan outline-none min-h-[100px]",value:k.description||"",onChange:Y=>z({...k,description:Y.target.value}),required:!0,placeholder:"Rule details..."})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-gray-400 text-xs font-bold uppercase mb-2 block ml-1",children:"Category"}),y.jsx("input",{className:"w-full bg-black/40 border border-white/10 rounded-xl p-3.5 text-white focus:border-neon-cyan outline-none",value:k.category||"",onChange:Y=>z({...k,category:Y.target.value}),required:!0,placeholder:"General, Combat, etc."})]})]}),C==="gallery"&&y.jsxs(y.Fragment,{children:[y.jsxs("div",{children:[y.jsx("label",{className:"text-gray-400 text-xs font-bold uppercase mb-2 block ml-1",children:"Title"}),y.jsx("input",{className:"w-full bg-black/40 border border-white/10 rounded-xl p-3.5 text-white focus:border-rush-500 outline-none",value:k.title||"",onChange:Y=>z({...k,title:Y.target.value}),required:!0,placeholder:"Photo Title"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-gray-400 text-xs font-bold uppercase mb-2 block ml-1",children:"Image Source"}),y.jsxs("div",{className:"space-y-3",children:[y.jsx("div",{className:"flex items-center gap-4",children:y.jsxs("label",{className:"flex-1 cursor-pointer bg-black/40 border border-white/10 border-dashed rounded-xl p-6 hover:border-white/30 transition-colors flex flex-col items-center justify-center text-gray-500 hover:text-white",children:[y.jsx(Jw,{size:24,className:"mb-2"}),y.jsx("span",{className:"text-xs font-bold uppercase",children:"Click to Upload"}),y.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:vs})]})}),ut&&y.jsxs("div",{className:"relative h-32 rounded-xl overflow-hidden border border-white/10",children:[y.jsx("img",{src:ut,className:"w-full h-full object-cover",alt:"Preview"}),y.jsx("button",{type:"button",onClick:()=>{Qe(null),J(null)},className:"absolute top-2 right-2 p-1 bg-black/50 rounded-full text-white hover:bg-red-500",children:y.jsx(ic,{size:14})})]}),!V&&y.jsxs("div",{className:"relative",children:[y.jsx("div",{className:"absolute inset-0 flex items-center",children:y.jsx("div",{className:"w-full border-t border-white/10"})}),y.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:y.jsx("span",{className:"bg-rush-900 px-2 text-gray-500",children:"Or use URL"})})]}),!V&&y.jsx("input",{className:"w-full bg-black/40 border border-white/10 rounded-xl p-3.5 text-white focus:border-rush-500 outline-none",value:k.imageUrl||"",onChange:Y=>z({...k,imageUrl:Y.target.value}),placeholder:"https://..."})]})]}),y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"text-gray-400 text-xs font-bold uppercase mb-2 block ml-1",children:"Location"}),y.jsx("input",{className:"w-full bg-black/40 border border-white/10 rounded-xl p-3.5 text-white focus:border-rush-500 outline-none",value:k.location||"",onChange:Y=>z({...k,location:Y.target.value})})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-gray-400 text-xs font-bold uppercase mb-2 block ml-1",children:"Photographer"}),y.jsx("input",{className:"w-full bg-black/40 border border-white/10 rounded-xl p-3.5 text-white focus:border-rush-500 outline-none",value:k.photographer||"",onChange:Y=>z({...k,photographer:Y.target.value})})]})]})]}),y.jsxs("div",{className:"flex justify-end gap-3 mt-8 pt-6 border-t border-white/5",children:[y.jsx("button",{type:"button",onClick:_t,className:"px-6 py-3 text-gray-400 hover:text-white font-bold uppercase tracking-wide text-sm rounded-xl hover:bg-white/5 transition-all",children:"Cancel"}),y.jsxs("button",{type:"submit",disabled:ae,className:"px-8 py-3 bg-white text-black font-bold uppercase tracking-wide text-sm rounded-xl hover:bg-gray-200 transition-colors shadow-lg flex items-center gap-2",children:[ae&&y.jsx("div",{className:"w-4 h-4 border-2 border-black/30 border-t-black rounded-full animate-spin"}),ae?"Uploading...":"Save Changes"]})]})]})]})})})]})},Hz=()=>{const{scrollYProgress:t}=RC(),e=Iz(t,{stiffness:100,damping:30,restDelta:.001});return y.jsx(Pe.div,{className:"fixed top-0 left-0 right-0 h-1.5 bg-gradient-to-r from-neon-pink via-purple-500 to-neon-cyan origin-left z-[100]",style:{scaleX:e}})},qz=()=>{const[t,e]=D.useState(!1);D.useEffect(()=>{const s=()=>{window.scrollY>300?e(!0):e(!1)};return window.addEventListener("scroll",s),()=>window.removeEventListener("scroll",s)},[]);const n=()=>{window.scrollTo({top:0,behavior:"smooth"})};return y.jsx(na,{children:t&&y.jsx(Pe.button,{initial:{opacity:0,scale:.5,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.5,y:20},whileHover:{scale:1.1,y:-5},whileTap:{scale:.9},onClick:n,className:"fixed bottom-8 right-8 z-40 p-4 bg-rush-600 hover:bg-neon-pink text-white rounded-full shadow-[0_0_20px_rgba(217,70,239,0.3)] hover:shadow-[0_0_30px_rgba(217,70,239,0.6)] transition-all border border-white/20",children:y.jsx(P2,{size:24})})})},Gz=()=>{const[t,e]=D.useState([]);return D.useEffect(()=>{const n=s=>{const a={x:s.clientX,y:s.clientY,id:Date.now()};e(l=>[...l.slice(-20),a])};return window.addEventListener("mousemove",n),()=>window.removeEventListener("mousemove",n)},[]),D.useEffect(()=>{const n=setInterval(()=>{e(s=>s.filter(a=>Date.now()-a.id<500))},50);return()=>clearInterval(n)},[]),y.jsx("div",{className:"pointer-events-none fixed inset-0 z-[60] overflow-hidden",children:t.map((n,s)=>y.jsx(Pe.div,{initial:{opacity:.4,scale:1},animate:{opacity:0,scale:0},transition:{duration:.5,ease:"easeOut"},className:"absolute w-4 h-4 bg-neon-cyan/40 rounded-full blur-[4px]",style:{left:n.x,top:n.y,transform:"translate(-50%, -50%)"}},n.id))})},$z=({user:t,isAdmin:e,onLogin:n,onLogout:s})=>y.jsxs(y.Fragment,{children:[y.jsx(Dz,{onLogin:n,onLogout:s,user:t}),y.jsx(Hz,{}),y.jsx(qz,{}),y.jsx(Gz,{}),y.jsxs("main",{children:[y.jsx(kz,{}),y.jsx(Vz,{}),y.jsx(jz,{isAdmin:e}),y.jsx(Pz,{isAdmin:e}),y.jsx(Uz,{})]}),y.jsx(zz,{})]});function Kz(){const[t,e]=D.useState(null),[n,s]=D.useState(!1),[a,l]=D.useState(!0);D.useEffect(()=>{const m=bM(Dn,p=>{e(p),s(!!p),l(!1)});return()=>m()},[]);const c=async()=>{try{await BM(Dn,v6)}catch(m){console.error("Login failed",m),alert("Login failed. Check console.")}},f=async()=>{try{await xM(Dn)}catch(m){console.error("Logout failed",m)}};return a?y.jsx("div",{className:"min-h-screen bg-rush-950 flex items-center justify-center text-white",children:"Loading..."}):y.jsx(zD,{basename:"/rushhourrp",children:y.jsx("div",{className:"min-h-screen bg-rush-950 font-sans selection:bg-neon-pink selection:text-white",children:y.jsxs(gD,{children:[y.jsx(Gg,{path:"/",element:y.jsx($z,{user:t,isAdmin:n,onLogin:c,onLogout:f})}),y.jsx(Gg,{path:"/admin",element:t?y.jsx(Fz,{}):y.jsx(mD,{to:"/"})})]})})})}const DC=document.getElementById("root");if(!DC)throw new Error("Could not find root element to mount to");const Yz=vI.createRoot(DC);Yz.render(y.jsx(Hg.StrictMode,{children:y.jsx(Kz,{})}));
